(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{283:function(e,t,a){},284:function(e,t,a){},330:function(e,t){},332:function(e,t){},343:function(e,t){},345:function(e,t){},372:function(e,t){},374:function(e,t){},375:function(e,t){},380:function(e,t){},382:function(e,t){},401:function(e,t){},413:function(e,t){},416:function(e,t){},431:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a(37),s=a.n(r),i=a(6),l=a(85),o=a(266),d=a(267),u="PXX_MY_TO_EDIT_REQUEST",j="PXX_MY_TO_EDIT_SUCCESS",b="PXX_MY_TO_EDIT_FAIL",h="PXX_MY_TO_EDIT_RESET",O="PXX_UPDATE_REQUEST",p="PXX_UPDATE_SUCCESS",m="PXX_UPDATE_FAIL",x="PXX_UPDATE_RESET",f="PXX_LIST_REQUEST",g="PXX_LIST_SUCCESS",v="PXX_LIST_FAIL",y="PXX_LIST_RESET",S="PXX_TACE_REQUEST",E="PXX_TACE_SUCCESS",C="PXX_TACE_FAIL",N="PXX_TACE_RESET",T="PXX_AVAILABILITIES_REQUEST",_="PXX_AVAILABILITIES_SUCCESS",A="PXX_AVAILABILITIES_FAIL",L="PXX_AVAILABILITIES_RESET",I="PXX_ALL_REQUEST",D="PXX_ALL_SUCCESS",k="PXX_ALL_FAIL",w="PXX_ALL_RESET",U="PXX_IMPORT_LINE_REQUEST",R="PXX_IMPORT_LINE_SUCCESS",P="PXX_IMPORT_LINE_FAIL",M="PXX_IMPORT_LINE_RESET",F="PXX_UPLOAD_FILE_REQUEST",q="PXX_UPLOAD_FILE_SUCCESS",G="PXX_UPLOAD_FILE_FAIL",z="PXX_UPLOAD_FILE_RESET",B="PXX_UPDATE_PXX_REQUEST",X="PXX_UPDATE_PXX_SUCCESS",H="PXX_UPDATE_PXX_FAIL",Q="PXX_UPDATE_PXX_RESET",K="USER_LOGIN_REQUEST",V="USER_LOGIN_SUCCESS",Y="USER_LOGIN_FAIL",J="USER_LOGOUT",W="USER_ADMIN_CHANGE_PRACTICE",Z="USER_ADMIN_CHANGE_PRACTICE_FAIL",$="USER_REDIRECT_AZ_REQUEST",ee="USER_REDIRECT_AZ_SUCCESS",te="USER_REDIRECT_AZ_FAIL",ae="USER_REDIRECT_AZ_RESET",ne="USER_REGISTER_REQUEST",ce="USER_REGISTER_SUCCESS",re="USER_REGISTER_FAIL",se="USER_REGISTER_RESET",ie="USER_DETAILS_REQUEST",le="USER_DETAILS_SUCCESS",oe="USER_DETAILS_FAIL",de="USER_DETAILS_RESET",ue="USER_UPDATE_PROFILE_REQUEST",je="USER_UPDATE_PROFILE_SUCCESS",be="USER_UPDATE_PROFILE_FAIL",he="USER_UPDATE_PROFILE_RESET",Oe="USER_LIST_REQUEST",pe="USER_LIST_SUCCESS",me="USER_LIST_FAIL",xe="USER_LIST_RESET",fe="USER_DELETE_REQUEST",ge="USER_DELETE_SUCCESS",ve="USER_DELETE_FAIL",ye="USER_DELETE_RESET",Se="USER_UPDATE_REQUEST",Ee="USER_UPDATE_SUCCESS",Ce="USER_UPDATE_FAIL",Ne="USER_UPDATE_RESET",Te="USER_TO_CREATE_REQUEST",_e="USER_TO_CREATE_SUCCESS",Ae="USER_TO_CREATE_FAIL",Le="USER_TO_CREATE_RESET",Ie="USER_CREATE_REQUEST",De="USER_CREATE_SUCCESS",ke="USER_CREATE_FAIL",we="USER_CREATE_RESET",Ue=["Waiting approval","Validated","Refused"],Re=a(20),Pe="CONSULTANTS_MY_DETAILS_REQUEST",Me="CONSULTANTS_MY_DETAILS_SUCCESS",Fe="CONSULTANTS_MY_DETAILS_FAIL",qe="CONSULTANTS_MY_DETAILS_FOCUS",Ge="CONSULTANTS_MY_DETAILS_RESET",ze="CONSULTANTS_ALL_ADMIN_DETAILS_REQUEST",Be="CONSULTANTS_ALL_ADMIN_DETAILS_SUCCESS",Xe="CONSULTANTS_ALL_ADMIN_DETAILS_FAIL",He="CONSULTANTS_ALL_ADMIN_DETAILS_RESET",Qe="CONSULTANTS_ALL_LEADERS_REQUEST",Ke="CONSULTANTS_ALL_LEADERS_SUCCESS",Ve="CONSULTANTS_ALL_LEADERS_FAIL",Ye="CONSULTANTS_ALL_LEADERS_RESET",Je="CONSULTANT_MY_REQUEST",We="CONSULTANT_MY_SUCCESS",Ze="CONSULTANT_MY_FAIL",$e="CONSULTANT_MY_RESET",et="CONSULTANT_DELEGATE_UPDATE_REQUEST",tt="CONSULTANT_DELEGATE_UPDATE_SUCCESS",at="CONSULTANT_DELEGATE_UPDATE_FAIL",nt="CONSULTANT_DELEGATE_UPDATE_RESET",ct="CONSULTANT_MY_UPDATE_REQUEST",rt="CONSULTANT_MY_UPDATE_SUCCESS",st="CONSULTANT_MY_UPDATE_FAIL",it="CONSULTANT_MY_UPDATE_RESET",lt="CONSULTANT_CREATE_REQUEST",ot="CONSULTANT_CREATE_SUCCESS",dt="CONSULTANT_CREATE_FAIL",ut="CONSULTANT_CREATE_RESET",jt="CONSULTANT_DELETE_REQUEST",bt="CONSULTANT_DELETE_SUCCESS",ht="CONSULTANT_DELETE_FAIL",Ot="CONSULTANT_DELETE_RESET",pt="CONSULTANT_CDM_LIST_REQUEST",mt="CONSULTANT_CDM_LIST_SUCCESS",xt="CONSULTANT_CDM_LIST_FAIL",ft="CONSULTANT_CDM_LIST_RESET",gt="CONSULTANT_PRACTICE_LIST_REQUEST",vt="CONSULTANT_PRACTICE_LIST_SUCCESS",yt="CONSULTANT_PRACTICE_LIST_FAIL",St="CONSULTANT_PRACTICE_LIST_RESET",Et="CONSULTANT_UPDATE_COMMENT_REQUEST",Ct="CONSULTANT_UPDATE_COMMENT_SUCCESS",Nt="CONSULTANT_UPDATE_COMMENT_FAIL",Tt="CONSULTANT_UPDATE_COMMENT_RESET",_t="CONSULTANT_CDM_REQUEST",At="CONSULTANT_CDM_SUCCESS",Lt="CONSULTANT_CDM_FAIL",It="CONSULTANT_CDM_RESET",Dt="CONSULTANT_SKILLS_REQUEST",kt="CONSULTANT_SKILLS_SUCCESS",wt="CONSULTANT_SKILLS_FAIL",Ut="CONSULTANT_SKILLS_RESET",Rt="CONSULTANT_ALL_SKILLS_REQUEST",Pt="CONSULTANT_ALL_SKILLS_SUCCESS",Mt="CONSULTANT_ALL_SKILLS_FAIL",Ft="CONSULTANT_ALL_SKILLS_RESET",qt="CONSULTANT_ALL_STAFF_REQUEST",Gt="CONSULTANT_ALL_STAFF_SUCCESS",zt="CONSULTANT_ALL_STAFF_FAIL",Bt="CONSULTANT_ALL_STAFF_RESET",Xt="CONSULTANT_ADD_SKILL_REQUEST",Ht="CONSULTANT_ADD_SKILL_SUCCESS",Qt="CONSULTANT_ADD_SKILL_FAIL",Kt="CONSULTANT_ADD_SKILL_RESET",Vt="CONSULTANT_DELETE_SKILL_REQUEST",Yt="CONSULTANT_DELETE_SKILL_SUCCESS",Jt="CONSULTANT_DELETE_SKILL_FAIL",Wt="CONSULTANT_DELETE_SKILL_RESET",Zt="CONSULTANT_UPDATE_SKILL_REQUEST",$t="CONSULTANT_UPDATE_SKILL_SUCCESS",ea="CONSULTANT_UPDATE_SKILL_FAIL",ta="CONSULTANT_UPDATE_SKILL_RESET",aa="CONSULTANT_MASS_IMPORT_REQUEST",na="CONSULTANT_MASS_IMPORT_SUCCESS",ca="CONSULTANT_MASS_IMPORT_FAIL",ra="CONSULTANT_MASS_IMPORT_RESET",sa="CONSULTANT_UPLOAD_WK_REQUEST",ia="CONSULTANT_UPLOAD_WK_SUCCESS",la="CONSULTANT_UPLOAD_WK_FAIL",oa="CONSULTANT_UPLOAD_WK_RESET",da="CONSULTANT_UPDATE_WK_REQUEST",ua="CONSULTANT_UPDATE_WK_SUCCESS",ja="CONSULTANT_UPDATE_WK_FAIL",ba="CONSULTANT_UPDATE_WK_RESET",ha=["Intern","Analyst","Consultant","Senior consultant","Manager","Senior manager","Director","Partner","Unknown","Commercial","Research"],Oa="SKILL_LIST_REQUEST",pa="SKILL_LIST_SUCCESS",ma="SKILL_LIST_FAIL",xa="SKILL_LIST_RESET",fa="SKILL_DELETE_REQUEST",ga="SKILL_DELETE_SUCCESS",va="SKILL_DELETE_FAIL",ya="SKILL_DELETE_RESET",Sa="SKILL_CREATE_REQUEST",Ea="SKILL_CREATE_SUCCESS",Ca="SKILL_CREATE_FAIL",Na="SKILL_CREATE_RESET",Ta="DEAL_CREATE_REQUEST",_a="DEAL_CREATE_SUCCESS",Aa="DEAL_CREATE_FAIL",La="DEAL_CREATE_RESET",Ia="DEAL_UPDATE_REQUEST",Da="DEAL_UPDATE_SUCCESS",ka="DEAL_UPDATE_FAIL",wa="DEAL_UPDATE_RESET",Ua="DEAL_ALL_LIST_REQUEST",Ra="DEAL_ALL_LIST_SUCCESS",Pa="DEAL_ALL_LIST_FAIL",Ma="DEAL_ALL_LIST_RESET",Fa="DEAL_DELETE_REQUEST",qa="DEAL_DELETE_SUCCESS",Ga="DEAL_DELETE_FAIL",za="DEAL_DELETE_RESET",Ba="DEAL_EDIT_REQUEST",Xa="DEAL_EDIT_SUCCESS",Ha="DEAL_EDIT_FAIL",Qa="DEAL_EDIT_RESET",Ka="DEAL_OLD_REQUEST",Va="DEAL_OLD_SUCCESS",Ya="DEAL_OLD_FAIL",Ja="DEAL_OLD_RESET",Wa="DEAL_MASS_IMPORT_REQUEST",Za="DEAL_MASS_IMPORT_SUCCESS",$a="DEAL_MASS_IMPORT_FAIL",en="DEAL_MASS_IMPORT_RESET",tn=[{name:"Identify Leader",staff:!0,priority:10},{name:"Identify Staff",staff:!0,priority:7},{name:"Staff to validate by leader",staff:!1,priority:5},{name:"Staff validated by leader",staff:!1,priority:0},{name:"Staff validated by client",staff:!1,priority:0},{name:"You can staff elsewhere",staff:!1,priority:0},{name:"Close",staff:!1,priority:0}],an=[{name:"New business",priority:10},{name:"New position",priority:5},{name:"Replacement",priority:1}],nn=[{name:"Lead",priority:0,display:"onTrack"},{name:"Proposal to send",priority:5,display:"onTrack"},{name:"Proposal sent",priority:5,display:"onTrack"},{name:"Won",priority:10,display:"win"},{name:"Abandoned",priority:0,display:"lost"},{name:"Lost",priority:0,display:"lots"}],cn=[{name:10,priority:1},{name:30,priority:3},{name:50,priority:5},{name:70,priority:7},{name:100,priority:10}],rn="ACCESS_LIST_REQUEST",sn="ACCESS_LIST_SUCCESS",ln="ACCESS_LIST_FAIL",on="ACCESS_LIST_RESET",dn="ACCESS_UPDATE_FRONTACCESS_REQUEST",un="ACCESS_UPDATE_FRONTACCESS_SUCCESS",jn="ACCESS_UPDATE_FRONTACCESS_FAIL",bn="ACCESS_UPDATE_FRONTACCESS_RESET",hn=["no","yes","read","write"],On=["my","team","department","domain","all"],pn="CLIENT_ALL_REQUEST",mn="CLIENT_ALL_SUCCESS",xn="CLIENT_ALL_FAIL",fn="CLIENT_ALL_RESET",gn="CLIENT_CREATE_REQUEST",vn="CLIENT_CREATE_SUCCESS",yn="CLIENT_CREATE_FAIL",Sn="CLIENT_CREATE_RESET",En="CLIENT_UPDATE_REQUEST",Cn="CLIENT_UPDATE_SUCCESS",Nn="CLIENT_UPDATE_FAIL",Tn="CLIENT_UPDATE_RESET",_n="CLIENT_DELETE_REQUEST",An="CLIENT_DELETE_SUCCESS",Ln="CLIENT_DELETE_FAIL",In="CLIENT_DELETE_RESET",Dn="TACE_CREATE_REQUEST",kn="TACE_CREATE_SUCCESS",wn="TACE_CREATE_FAIL",Un="TACE_CREATE_RESET",Rn="EMAIL_CONTACTS_LIST_REQUEST",Pn="EMAIL_CONTACTS_LIST_SUCCESS",Mn="EMAIL_CONTACTS_LIST_FAIL",Fn="EMAIL_CONTACTS_LIST_RESET",qn="EMAIL_SEND_DECISION_REQUEST",Gn="EMAIL_SEND_DECISION_SUCCESS",zn="EMAIL_SEND_DECISION_FAIL",Bn="EMAIL_SEND_DECISION_RESET",Xn=Object(l.combineReducers)({userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{loading:!0};case ce:return{loading:!1,userInfo:t.payload};case re:return{loading:!1,error:t.payload};case se:return{};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case V:return{loading:!1,userInfo:t.payload};case Y:return{loading:!1,error:t.payload};case J:return{};case W:return{loading:!1,userInfo:t.payload};case Z:return{loading:!1,error:t.payload};default:return e}},userRedirectAz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case ee:return{loading:!1,redirectURL:t.payload.redirectURL};case te:return{loading:!1,error:t.payload};case ae:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case pe:return{loading:!1,users:t.payload.users,pages:t.payload.pages,page:t.payload.page,count:t.payload.count};case me:return{loading:!1,error:t.payload};case xe:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case le:return{loading:!1,user:t.payload};case oe:return{loading:!1,error:t.payload};case de:return{};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return{loading:!0};case Ee:return{loading:!1,success:!0};case Ce:return{loading:!1,error:t.payload};case Ne:return{};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return{loading:!0};case ge:return{loading:!1,success:!0};case ve:return{loading:!1,error:t.payload};case ye:return{};default:return e}},userUpdateProfil:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case je:return{loading:!1,success:!0,userInfo:t.payload};case be:return{loading:!1,error:t.payload};case he:return{};default:return e}},userToCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return{loading:!0};case _e:return{loading:!1,usersListToCreate:t.payload.usersListToCreate,pages:t.payload.pages,page:t.payload.page,count:t.payload.count};case Ae:return{loading:!1,error:t.payload};case Le:return{};default:return e}},userCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{loading:!0};case De:return{loading:!1,success:!0,consultantId:t.payload.consultantId};case ke:return{loading:!1,error:t.payload.message,consultantId:t.payload.consultantId};case we:return{};default:return e}},consultantUpdateComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:return{loading:!0};case Ct:return{loading:!1,success:!0};case Nt:return{loading:!1,error:t.payload};case Tt:return{};default:return e}},consultantsMyAdminList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return{loading:!0};case Be:return{loading:!1,consultantsMyAdmin:t.payload.consultants,pages:t.payload.pages,page:t.payload.page,count:t.payload.count};case Xe:return{loading:!1,error:t.payload};case He:return{};default:return e}},consultantsMyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{focus:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(Re.a)(Object(Re.a)({},e),{},{loading:!0});case Me:return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,consultantsMy:t.payload});case Fe:return Object(Re.a)(Object(Re.a)({},e),{},{loading:!1,error:t.payload});case qe:return Object(Re.a)(Object(Re.a)({},e),{},{focus:t.payload});case Ge:return{focus:0};default:return e}},consultantMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return{loading:!0};case We:return{loading:!1,consultant:t.payload};case Ze:return{loading:!1,error:t.payload};case $e:return{};default:return e}},consultantMyUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return{loading:!0};case rt:return{loading:!1,success:!0};case st:return{loading:!1,error:t.payload};case it:return{};default:return e}},consultantCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt:return{loading:!0};case ot:return{loading:!1,success:!0,consultantCreated:t.payload};case dt:return{loading:!1,error:t.payload};case ut:return{};default:return e}},consultantDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return{loading:!0};case bt:return{loading:!1,success:!0};case ht:return{loading:!1,error:t.payload};case Ot:return{};default:return e}},consultantCDMList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return{loading:!0};case mt:return{loading:!1,cdmList:t.payload};case xt:return{loading:!1,error:t.payload};case ft:return{};default:return e}},consultantDelegateUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return{loading:!0};case tt:return{loading:!1,success:!0};case at:return{loading:!1,error:t.payload};case nt:return{};default:return e}},consultantPracticeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:return{loading:!0};case vt:return{loading:!1,practiceList:t.payload};case yt:return{loading:!1,error:t.payload};case St:return{};default:return e}},consultantSkills:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return{loading:!0};case kt:return{loading:!1,skills:t.payload};case wt:return{loading:!1,error:t.payload};case Ut:return{};default:return e}},consultantAllSkills:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return{loading:!0};case Pt:return{loading:!1,skills:t.payload};case Mt:return{loading:!1,error:t.payload};case Ft:return{};default:return e}},consultantAllStaffs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qt:return{loading:!0};case Gt:return{loading:!1,staffings:t.payload};case zt:return{loading:!1,error:t.payload};case Bt:return{};default:return e}},consultantAddSkill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xt:return{loading:!0};case Ht:return{loading:!1,success:!0};case Qt:return{loading:!1,success:!1,error:t.payload};case Kt:return{};default:return e}},consultantDeleteSkill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt:return{loading:!0};case Yt:return{loading:!1,success:!0};case Jt:return{loading:!1,success:!1,error:t.payload};case Wt:return{};default:return e}},consultantUpdateSkill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt:return{loading:!0};case $t:return{loading:!1,success:!0};case ea:return{loading:!1,success:!1,error:t.payload};case ta:return{};default:return e}},consultantGetCdm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t:return{loading:!0};case At:return{loading:!1,success:!0,cdm:t.payload};case Lt:return{loading:!1,error:t.payload};case It:return{};default:return e}},consultantsAllLeaders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return{loading:!0};case Ke:return{loading:!1,leaderslist:t.payload};case Ve:return{loading:!1,error:t.payload};case Ye:return{};default:return e}},consultantsMassImport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aa:return{loading:!0};case na:return{loading:!1,success:!0};case ca:return{loading:!1,success:!1,error:t.payload};case ra:return{};default:return e}},consultantUploadWk:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sa:return{loading:!0};case ia:return{loading:!1,success:!0,path:t.payload};case la:return{loading:!1,success:!1,error:t.payload};case oa:return{};default:return e}},consultantUpdateWk:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case da:return{loading:!0};case ua:return{loading:!1,success:!0,message:t.payload};case ja:return{loading:!1,success:!1,error:t.payload};case ba:return{};default:return e}},pxxList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pxxs:{pxxMonthInformation:[],pxxUserList:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0,pxxs:{}};case g:return{loading:!1,pxxs:t.payload};case v:return{loading:!1,error:t.payload};case y:return{pxxs:{pxxMonthInformation:[],pxxUserList:[]}};default:return e}},pxxAllList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0,success:!1};case D:return{loading:!1,success:!0,pxxs:t.payload.pxxs,pages:t.payload.pages,page:t.payload.page,count:t.payload.count};case k:return{loading:!1,error:t.payload};case w:return{};default:return e}},pxxMyToEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pxx:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{loading:!0};case j:return{loading:!1,pxx:t.payload};case b:return{loading:!1,error:t.payload};case h:return{pxx:[]};default:return e}},pxxUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0};case p:return{loading:!1,success:!0};case m:return{loading:!1,error:t.payload};case x:return{};default:return e}},pxxTACE:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0,success:!1};case E:return{loading:!1,success:!0,tace:t.payload};case C:return{loading:!1,error:t.payload};case N:return{};default:return e}},pxxAvailabilities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{loading:!0,success:!1};case _:return{loading:!1,success:!0,availabilities:t.payload};case A:return{loading:!1,error:t.payload};case L:return{};default:return e}},updatePxx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case X:return{loading:!1,success:!0,message:t.payload};case H:return{loading:!1,error:t.payload};case Q:return{};default:return e}},pxxImportLine:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pxx:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case R:return{loading:!1,success:!0,updatedLine:t.payload};case P:return{loading:!1,error:t.payload};case M:return{pxx:[]};default:return e}},pxxUploadFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0};case q:return{loading:!1,success:!0,path:t.payload};case G:return{loading:!1,error:t.payload};case z:return{};default:return e}},skillList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oa:return{loading:!0,success:!1};case pa:return{loading:!1,success:!0,skills:t.payload.skills,pages:t.payload.pages,page:t.payload.page,count:t.payload.count};case ma:return{loading:!1,error:t.payload};case xa:return{};default:return e}},skillDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fa:return{loading:!0,success:!1};case ga:return{loading:!1,success:!0};case va:return{loading:!1,error:t.payload};case ya:return{};default:return e}},skillCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sa:return{loading:!0,success:!1};case Ea:return{loading:!1,success:!0};case Ca:return{loading:!1,error:t.payload};case Na:return{};default:return e}},dealCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ta:return{loading:!0};case _a:return{loading:!1,success:!0,createId:t.payload};case Aa:return{loading:!1,error:t.payload};case La:return{};default:return e}},dealAllList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ua:return{loading:!0};case Ra:return{loading:!1,success:!0,deals:t.payload.deals,pages:t.payload.pages,page:t.payload.page,count:t.payload.count};case Pa:return{loading:!1,error:t.payload};case Ma:return{};default:return e}},dealDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fa:return{loading:!0};case qa:return{loading:!1,success:!0};case Ga:return{loading:!1,error:t.payload};case za:return{};default:return e}},dealEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ba:return{loading:!0};case Xa:return{loading:!1,success:!0,deal:t.payload};case Ha:return{loading:!1,error:t.payload};case Qa:return{};default:return e}},dealUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ia:return{loading:!0};case Da:return{loading:!1,success:!0};case ka:return{loading:!1,error:t.payload};case wa:return{};default:return e}},dealOld:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ka:return{loading:!0};case Va:return{loading:!1,success:!0,oldDeals:t.payload};case Ya:return{loading:!1,error:t.payload};case Ja:return{};default:return e}},dealsImportMass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wa:return{loading:!0};case Za:return{loading:!1,success:!0,datas:t.payload.datas};case $a:return{loading:!1,error:t.payload};case en:return{};default:return e}},accessList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rn:return{loading:!0};case sn:return{loading:!1,access:t.payload};case ln:return{loading:!1,error:t.payload};case on:return{};default:return e}},accessFrontUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dn:return{loading:!0};case un:return{loading:!1,success:!0};case jn:return{loading:!1,error:t.payload};case bn:return{};default:return e}},clientAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pn:return{loading:!0};case mn:return{loading:!1,success:!0,clients:t.payload.clients,page:t.payload.page,pages:t.payload.pages,count:t.payload.count};case xn:return{loading:!1,error:t.payload};case fn:return{};default:return e}},clientCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gn:return{loading:!0};case vn:return{loading:!1,success:!0};case yn:return{loading:!1,error:t.payload};case Sn:return{};default:return e}},clientUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case En:return{loading:!0};case Cn:return{loading:!1,success:!0};case Nn:return{loading:!1,error:t.payload};case Tn:return{};default:return e}},clientDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _n:return{loading:!0};case An:return{loading:!1,success:!0};case Ln:return{loading:!1,error:t.payload};case In:return{};default:return e}},createTace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dn:return{loading:!0,success:!1};case kn:return{loading:!1,taceData:t.payload};case wn:return{loading:!1,error:t.payload};case Un:return{};default:return e}},contactsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rn:return{loading:!0};case Pn:return{loading:!1,contacts:t.payload};case Mn:return{loading:!1,error:t.payload};case Fn:return{};default:return e}},sendOneEmail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qn:return{loading:!0};case Gn:return{success:!0,loading:!1,email:t.payload.email};case zn:return{loading:!1,error:t.payload};case Bn:return{};default:return e}}}),Hn={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Qn=[o.a],Kn=Object(l.createStore)(Xn,Hn,Object(d.composeWithDevTools)(l.applyMiddleware.apply(void 0,Qn))),Vn=(a(283),a(284),a(60)),Yn=a(34),Jn=a(78),Wn=a(42),Zn=a(122),$n=a(70),ec=a(36),tc=a(9),ac=a.n(tc),nc=a(15),cc=a(16),rc=a.n(cc),sc=function(e,t){return function(){var a=Object(nc.a)(ac.a.mark((function a(n){var c,r,s;return ac.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n({type:K}),c={headers:{"Content-type":"Application/json"}},r="","LOCAL"!==e){a.next=8;break}return a.next=7,rc.a.post("/api/users/login",{email:t.email,password:t.password},c);case 7:r=a.sent;case 8:if("AZ"!==e){a.next=12;break}return a.next=11,rc.a.get("/api/users/loginAz?code=".concat(t.code),c);case 11:r=a.sent;case 12:s=Object(Re.a)(Object(Re.a)({},r.data),{},{accountType:e}),n({type:V,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),n({type:Y,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 20:case"end":return a.stop()}}),a,null,[[0,17]])})));return function(e){return a.apply(this,arguments)}}()},ic=function(){return function(e){localStorage.clear(),e({type:J}),e({type:se}),e({type:Ge}),e({type:$e}),e({type:y}),e({type:h}),e({type:x}),e({type:St})}},lc=function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ie}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/users/".concat(e),s);case 6:i=t.sent,l=i.data,a({type:le,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:oe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},oc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"15";return function(){var c=Object(nc.a)(ac.a.mark((function c(r,s){var i,l,o,d,u;return ac.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:Oe}),i=s(),l=i.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(l.token)}},c.next=6,rc.a.get("/api/users?practice=".concat(e,"&keyword=").concat(t,"&pageNumber=").concat(a,"&pageSize=").concat(n),o);case 6:d=c.sent,u=d.data,r({type:pe,payload:u}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),r({type:me,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e,t){return c.apply(this,arguments)}}()},dc=function(e){var t=e.practice,a=e.keyword,n=e.pageSize,c=e.pageNumber;return function(){var e=Object(nc.a)(ac.a.mark((function e(r,s){var i,l,o,d,u;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:Te}),i=s(),l=i.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},e.next=6,rc.a.get("/api/users/list-to-create?practice=".concat(t,"&consultantName=").concat(a.consultantName,"&cdmName=").concat(a.cdmName,"&pageNumber=").concat(c,"&pageSize=").concat(n),o);case 6:d=e.sent,u=d.data,r({type:_e,payload:u}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:Ae,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},uc=function(e){var t=e.access,a=e.children,c=Object(i.c)((function(e){return e.userLogin})).userInfo,r=!1;if(c){var s=c.profil.frontAccess.filter((function(e){return e.id===t}));s.length>0&&(r="no"!==s[0].mode)}return Object(n.jsx)("span",{children:r&&a})},jc=function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a){return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:qe,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},bc=function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Je}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/consultants/".concat(e),s);case 6:i=t.sent,l=i.data,a({type:We,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Ze,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},hc=function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ct}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/consultants/".concat(e._id),e,s);case 6:if(i=t.sent,i.data){t.next=10;break}throw new Error("Error: your modification is not saved");case 10:a({type:rt}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:st,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()},Oc=function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:pt}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/consultants/cdm/".concat(e),s);case 6:i=t.sent,l=i.data,a({type:mt,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:xt,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},pc=function(){return function(){var e=Object(nc.a)(ac.a.mark((function e(t,a){var n,c,r,s,i;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:gt}),n=a(),c=n.userLogin.userInfo,r={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,rc.a.get("/api/consultants/practicelist",r);case 6:s=e.sent,i=s.data,t({type:vt,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:yt,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},mc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"15";return function(){var n=Object(nc.a)(ac.a.mark((function n(c,r){var s,i,l,o,d;return ac.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:ze}),s=r(),i=s.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(i.token)}},n.next=6,rc.a.get("/api/consultants/admin/consultants?keyword=".concat(e,"&pageNumber=").concat(t,"&pageSize=").concat(a),l);case 6:o=n.sent,d=o.data,c({type:Be,payload:d}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),c({type:Xe,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},xc=function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Dt}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/consultants/".concat(e,"/skill"),s);case 6:i=t.sent,l=i.data,a({type:kt,payload:l.quality}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:wt,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},fc=function(){return function(){var e=Object(nc.a)(ac.a.mark((function e(t,a){var n,c,r,s,i;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Rt}),n=a(),c=n.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,rc.a.get("/api/consultants/skills",r);case 6:s=e.sent,i=s.data,t({type:Pt,payload:i.skills}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Mt,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},gc=function(e){var t=e.userInfo,a=Object(i.b)(),r=Object(i.c)((function(e){return e.consultantPracticeList})).practiceList;return Object(c.useEffect)((function(){r||a(pc())}),[a,r]),Object(n.jsx)(uc,{access:"adminChangePractice",children:Object(n.jsx)(ec.a,{title:t.consultantProfil.practice?t.consultantProfil.practice:"undefined",children:r&&r.map((function(e,c){return Object(n.jsx)(ec.a.Item,{onClick:function(){return a(function(e,t){return function(){var a=Object(nc.a)(ac.a.mark((function a(n){var c;return ac.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{(c=e).consultantProfil.practice=t,n({type:W,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c))}catch(r){n({type:Z,payload:r.response&&r.response.data.message?r.response.data.message:r.message})}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,e))},children:e},c)}))})})},vc=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userLogin})).userInfo;return Object(n.jsx)("header",{children:Object(n.jsx)(Zn.a,{bg:"primary",variant:"dark",expand:"lg",collapseOnSelect:!0,fixed:"top",children:Object(n.jsxs)(Jn.a,{children:[Object(n.jsx)(Wn.LinkContainer,{to:"/",children:Object(n.jsx)(Zn.a.Brand,{children:"Performance App"})}),Object(n.jsx)(Zn.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsx)(Zn.a.Collapse,{id:"basic-navbar-nav",children:Object(n.jsxs)($n.a,{className:"ml-auto",children:[Object(n.jsx)(uc,{access:"staffingRequest",children:Object(n.jsx)(Wn.LinkContainer,{to:"/staffing",children:Object(n.jsx)($n.a.Link,{children:"Staffing Request"})})}),Object(n.jsx)(uc,{access:"editMyPxx",children:Object(n.jsx)(Wn.LinkContainer,{to:"/pxx",children:Object(n.jsx)($n.a.Link,{children:"Edit My Pxx"})})}),t?Object(n.jsxs)(ec.a,{title:"".concat(t.name," (").concat(t.profil.profil&&t.profil.profil,")")||!1,id:"username",children:[Object(n.jsx)(uc,{access:"editMyProfil",children:Object(n.jsx)(Wn.LinkContainer,{to:"/profile",children:Object(n.jsx)(ec.a.Item,{children:"Edit My Profil"})})}),Object(n.jsxs)(uc,{access:"manageConsultants",children:[Object(n.jsx)(ec.a.Divider,{}),Object(n.jsx)(Wn.LinkContainer,{to:"/admin/consultants",children:Object(n.jsx)(ec.a.Item,{children:"Manage Consultant"})})]}),Object(n.jsxs)(uc,{access:"manageDeals",children:[Object(n.jsx)(ec.a.Divider,{}),Object(n.jsx)(Wn.LinkContainer,{to:"/admin/deals",children:Object(n.jsx)(ec.a.Item,{children:"Manage Deals"})})]}),Object(n.jsx)(ec.a.Divider,{}),Object(n.jsx)(Wn.LinkContainer,{to:"/login",children:Object(n.jsx)(ec.a.Item,{onClick:function(){e(ic())},children:"Logout"})})]}):Object(n.jsx)(Wn.LinkContainer,{to:"/login",children:Object(n.jsxs)($n.a.Link,{children:[Object(n.jsx)("i",{className:"fas fa-user"}),"Sign In"]})}),Object(n.jsx)(uc,{access:"adminMenu",children:Object(n.jsxs)(ec.a,{title:"admin",children:[Object(n.jsx)(uc,{access:"manageUsers",children:Object(n.jsx)(Wn.LinkContainer,{to:"/admin/users",children:Object(n.jsx)(ec.a.Item,{children:"Manage Users"})})}),Object(n.jsxs)(uc,{access:"manageSkills",children:[Object(n.jsx)(ec.a.Divider,{}),Object(n.jsx)(Wn.LinkContainer,{to:"/admin/skills",children:Object(n.jsx)(ec.a.Item,{children:"Manage Skills"})})]}),Object(n.jsxs)(uc,{access:"manageProfils",children:[Object(n.jsx)(ec.a.Divider,{}),Object(n.jsx)(Wn.LinkContainer,{to:"/admin/profils",children:Object(n.jsx)(ec.a.Item,{children:"Manage Profils"})})]}),Object(n.jsxs)(uc,{access:"manageCompanies",children:[Object(n.jsx)(ec.a.Divider,{}),Object(n.jsx)(Wn.LinkContainer,{to:"/admin/companies",children:Object(n.jsx)(ec.a.Item,{children:"Manage companies"})})]})]})}),t&&Object(n.jsx)(gc,{userInfo:t})]})})]})})})},yc=a(10),Sc=a(5),Ec=function(){return Object(n.jsx)("footer",{children:Object(n.jsx)(Jn.a,{children:Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{className:"text-center py-3",children:"Copyright \xa9 byJPR"})})})})},Cc=a(3),Nc=a(4),Tc=a(11),_c=a(33),Ac=a(436),Lc=function(e){var t=e.variant,a=e.children;return Object(n.jsx)(Ac.a,{variant:t,className:"my-1",children:a})};Lc.defaultProps={variant:"info"};var Ic=Lc,Dc=a(437),kc=function(){return Object(n.jsx)(Dc.a,{animation:"border",role:"status",stype:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})},wc=function(e){var t=e.children;return Object(n.jsx)(Jn.a,{children:Object(n.jsx)(yc.a,{className:"justify-content-md-center",children:Object(n.jsx)(Sc.a,{xs:12,md:6,children:t})})})},Uc=function(e){var t=e.location,a=e.history,r=Object(c.useState)(""),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(""),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(null),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(i.b)(),f=Object(i.c)((function(e){return e.userLogin})),g=f.loading,v=f.error,y=f.userInfo,S=Object(i.c)((function(e){return e.userRedirectAz})).redirectURL,E=t.search?t.search.split("=")[1]:"/";Object(c.useEffect)((function(){y&&"Validated"===y.status&&a.push(E)})),Object(c.useEffect)((function(){S&&(window.location.href=S)}),[S]),Object(c.useEffect)((function(){t.search&&t.search.split("code=").length>0&&(x(sc("AZ",{code:t.search.split("code=")[1]})),a.push("/"))}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(wc,{children:[Object(n.jsx)("h1",{children:"Sign In"}),p&&Object(n.jsx)(Ic,{variant:"danger",children:p}),v&&Object(n.jsx)(Ic,{variant:"danger",children:v}),g&&Object(n.jsx)(kc,{}),Object(n.jsxs)(Nc.a,{onSubmit:function(e){!1===e.currentTarget.checkValidity()?m("Please check your information"):(e.preventDefault(),x(sc("LOCAL",{email:l,password:j})))},children:[Object(n.jsxs)(Nc.a.Group,{controlId:"email",children:[Object(n.jsx)(Nc.a.Label,{children:"Email Address"}),Object(n.jsx)(Nc.a.Control,{type:"email",placeholder:"Enter Email",value:l,onChange:function(e){return o(e.target.value.toLocaleLowerCase())}})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"password",children:[Object(n.jsx)(Nc.a.Label,{children:"Password"}),Object(n.jsx)(Nc.a.Control,{type:"password",placeholder:"Enter password",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{type:"submit",variant:"primary",block:!0,children:"Sign In"})})}),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{className:"mt-3",children:Object(n.jsx)(Tc.a,{variant:"success",onClick:function(){x(function(){var e=Object(nc.a)(ac.a.mark((function e(t){var a,n,c;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:$}),a={headers:{"Content-type":"Application/json"}},e.next=5,rc.a.get("/api/users/redirectAz",a);case 5:n=e.sent,c=n.data,t({type:ee,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:te,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())},block:!0,disabled:!1,children:"-- AZ Connect --"})})}),Object(n.jsx)(yc.a,{className:"py-3",children:Object(n.jsxs)(Sc.a,{children:["New User ? ",Object(n.jsx)(Vn.Link,{to:E?"/register?reditect=".concat(E):"/register",children:"Register"})]})})]})]}),["demo","dev"].includes("demo")&&Object(n.jsx)(Jn.a,{children:Object(n.jsx)(yc.a,{className:"justify-content-md-center",children:Object(n.jsxs)(Sc.a,{xs:12,md:6,className:"mt-5",children:[Object(n.jsx)("h3",{children:"Disclaimer"}),Object(n.jsxs)("p",{children:["Welcome on this demo! Please note that this is not an official Wavestone product.",Object(n.jsx)("br",{}),"On this online resource management application, you'll be able to:"]}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Login with different profiles (admin, coordinator, CDM, manager)"}),Object(n.jsx)("li",{children:"Edit your Pxx"}),Object(n.jsx)("li",{children:"Edit your consultants' profiles (position, expertise, partial time, etc.)"}),Object(n.jsx)("li",{children:"Create, edit and keep track of your staffing requests"}),Object(n.jsx)("li",{children:"Staff your available consultants on staffing requests"}),Object(n.jsx)("li",{children:"Check where a consultant is staffed"}),Object(n.jsx)("li",{children:"Create and manage a dataset of skills for your consultants"}),Object(n.jsx)("li",{children:"Get access to latest KPIs and export the data on Excel"})]}),Object(n.jsx)("h4",{children:"Test acounts logins:"}),Object(n.jsxs)(_c.a,{hover:!0,striped:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-secondary",children:[Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Email"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Password"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Description"})]})}),Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle text-center",children:"cdmptc11000@mail.com"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"123456"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"Admin account with all accreditation on application"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle text-center",children:"cdmptc11001@mail.com"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"123456"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"Coordinator of practice PTC1 account"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle text-center",children:"cdmptc11004@mail.com"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"123456"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"CDM of practice PTC1 account"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle text-center",children:"detmanagerprofil@mail.com"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"123456"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"Manager of DET account"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle text-center",children:"detconsultantprofil@mail.com"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"123456"}),Object(n.jsx)("td",{className:"align-middle text-center",children:"Consultant of DET account"})]})]})]})]})})}),!1]})},Rc=a(17),Pc=a(22),Mc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6?arguments[6]:void 0;return function(){var i=Object(nc.a)(ac.a.mark((function i(l,o){var d,u,j,b,h,O;return ac.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,l({type:T}),d=o(),u=d.userLogin.userInfo,j={headers:{Authorization:"Bearer ".concat(u.token)}},b=c.toString(),r&&(b=b+"-"+r.toString()),i.next=8,rc.a.get("/api/pxx/chart/availability?practice=".concat(e,"&start=").concat(t,"&end=").concat(a,"&skills=").concat(n,"&experience=").concat(b,"&filterMode=").concat(s),j);case 8:h=i.sent,O=h.data,l({type:_,payload:O}),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(0),l({type:A,payload:i.t0.response&&i.t0.response.data.message?i.t0.response.data.message:i.t0.message});case 16:case"end":return i.stop()}}),i,null,[[0,13]])})));return function(e,t){return i.apply(this,arguments)}}()},Fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"10",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"1";return function(){var r=Object(nc.a)(ac.a.mark((function r(s,i){var l,o,d,u,j;return ac.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:I}),l=i(),o=l.userLogin.userInfo,d={headers:{Authorization:"Bearer ".concat(o.token)}},r.next=6,rc.a.get("/api/pxx?practice=".concat(e,"&month=").concat(t,"&keyword=").concat(a,"&pageSize=").concat(n,"&pageNumber=").concat(c),d);case 6:u=r.sent,j=u.data,s({type:D,payload:j}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),s({type:k,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},qc=function(e){var t=e.data,a=Object(i.b)(),r=Object(c.useState)(t.prodDay?t.prodDay:"0"),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(t.notProdDay?t.notProdDay:"0"),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(t.leavingDay?t.leavingDay:"0"),x=Object(Cc.a)(h,2),f=x[0],g=x[1],v=Object(c.useState)(Number(t.availableDay)?Number(t.availableDay):0),y=Object(Cc.a)(v,2),S=y[0],E=y[1],C=Object(c.useState)(Number(t.prodDay)+Number(t.notProdDay)+Number(t.leavingDay)+Number(t.availableDay)),N=Object(Cc.a)(C,1)[0],T=Object(c.useState)(!1),_=Object(Cc.a)(T,2),A=_[0],L=_[1],I=new Date(Date.now());I.setDate(1),I=I.toISOString().substring(0,10);var D=!!t.month&&t.month.firstDay>=I;Object(c.useEffect)((function(){var e,n=k(l),c=k(j),r=k(f);A&&N>=n+c+r&&(E(N-(n+c+r)),a((e={_id:t._id,name:t.name,month:t.month._id,prodDay:n,notProdDay:c,leavingDay:r,availableDay:N-(n+c+r)},function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:O}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/pxx",e,s);case 6:a({type:p}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:m,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}())),L(!1))}),[N,l,j,f,t]);var k=function(e){return e.toString().match(/^[0-9]{0,}[.,]$/i)?Number(e+"0"):Number(e)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(yc.a,{className:"py-1",children:[Object(n.jsxs)(Sc.a,{xs:4,className:"text-center align-middle",children:[Object(n.jsx)("b",{children:t.month?t.month.name:"Not created Yeat"})," ",Object(n.jsx)("i",{children:N?"(".concat(N,"d)"):null})]}),Object(n.jsx)(Sc.a,{xs:2,className:"text-center align-middle px-1",children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Nc.a.Control,{type:"number",min:0,max:N-j-f?N-j-f:"-",step:.5,placeholder:"-",disabled:!D||!N,className:"align-middle text-center p-0",value:l&&l.toString(),onChange:function(e){e.target.value.match(/^[0-9]{0,}[.,][05]{0,1}$|^[0-9]{0,}$/i)&&(o(e.target.value),L(!0))}})})}),Object(n.jsx)(Sc.a,{xs:2,className:"text-center align-middle px-1",children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Nc.a.Control,{type:"number",min:0,max:N-l-f?N-l-f:"-",step:.5,placeholder:"-",disabled:!D||!N,className:"align-middle text-center p-0",value:j&&j.toString(),onChange:function(e){e.target.value.match(/^[0-9]{0,}[.,][05]{0,1}$|^[0-9]{0,}$/i)&&(b(e.target.value),L(!0))}})})}),Object(n.jsx)(Sc.a,{xs:2,className:"text-center align-middle px-1",children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Nc.a.Control,{type:"number",min:0,max:N-l-j?N-l-j:"-",step:.5,placeholder:"-",disabled:!D||!N,className:"align-middle text-center p-0",value:f&&f.toString(),onChange:function(e){e.target.value.match(/^[0-9]{0,}[.,][05]{0,1}$|^[0-9]{0,}$/i)&&(g(e.target.value),L(!0))}})})}),Object(n.jsx)(Sc.a,{xs:2,className:"text-center align-middle px-1",children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"-",className:"align-middle text-center p-0",value:S&&S.toString(),disabled:!0})})})]})})},Gc=function(e){var t=e.consultantsMy,a=e.consultantFocus,r=e.searchDate,s=e.navigationMonthHandler,l=Object(i.b)(),o=Object(c.useState)(5),d=Object(Cc.a)(o,1)[0],h=Object(i.c)((function(e){return e.pxxMyToEdit})),O=h.loading,p=h.error,m=h.pxx,x=Object(i.c)((function(e){return e.pxxUpdate})),f=x.loading,g=x.error,v=t[a]._id;return Object(c.useEffect)((function(){l(function(e,t,a){return function(){var n=Object(nc.a)(ac.a.mark((function n(c,r){var s,i,l,o,d,h;return ac.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:u}),s=r(),i=s.userLogin.userInfo,l={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(i.token)}},t.setUTCDate(1),o=t.toISOString().substring(0,10),n.next=8,rc.a.get("/api/pxx/edit?consultantId=".concat(e,"&month=").concat(o,"&numberOfMonth=").concat(a),l);case 8:d=n.sent,h=d.data,c({type:j,payload:h}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),c({type:b,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e,t){return n.apply(this,arguments)}}()}(v,r,d))}),[l,r,d,v]),Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{xs:4,className:"text-center align-middle",children:Object(n.jsxs)(Tc.a,{className:"btn btn-primary mt-3",variant:"primary",size:"sm",onClick:function(){return s(-1)},style:{width:"8em"},children:[Object(n.jsx)("i",{className:"fas fa-caret-up"}),"  Previous"]})})}),Object(n.jsxs)(yc.a,{children:[Object(n.jsxs)(Sc.a,{xs:4,className:"text-center align-middle px-1 pb-2",style:{height:"2em"},children:[" ",f&&Object(n.jsx)(kc,{})]}),Object(n.jsx)(Sc.a,{xs:2,className:"text-center align-middle px-1 pb-2",children:Object(n.jsx)("strong",{children:"Prd"})}),Object(n.jsx)(Sc.a,{xs:2,className:"text-center align-middle px-1 pb-2",children:Object(n.jsx)("strong",{children:"NPrd"})}),Object(n.jsx)(Sc.a,{xs:2,className:"text-center align-middle px-1 pb-2",children:Object(n.jsx)("strong",{children:"Hld"})}),Object(n.jsx)(Sc.a,{xs:2,className:"text-center align-middle px-1 pb-2",children:Object(n.jsx)("strong",{children:"Avlb"})})]}),O?Object(n.jsx)(kc,{}):p?Object(n.jsx)(Ic,{variant:"danger",children:p}):m.map((function(e,t){return Object(n.jsx)(qc,{data:e},t)})),g&&Object(n.jsx)(yc.a,{children:Object(n.jsx)(Ic,{variant:"danger",children:g})}),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{xs:4,className:"text-center align-middle",children:Object(n.jsxs)(Tc.a,{className:"btn btn-primary mt-3",variant:"primary",size:"sm",onClick:function(){return s(1)},style:{width:"8em"},children:["Next  ",Object(n.jsx)("i",{className:"fas fa-caret-down"})]})})})]})},zc=function(e){var t=e.children,a=e.title,r=e.close,s=Object(c.useState)(r),i=Object(Cc.a)(s,2),l=i[0],o=i[1];return Object(n.jsx)(yc.a,{className:"mt-3",children:Object(n.jsxs)(Sc.a,{children:[Object(n.jsxs)(Tc.a,{onClick:function(){return o(!l)},variant:"light",className:"text-left",block:!0,children:[" ",Object(n.jsx)("h3",{children:l?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:"fas fa-caret-down"})," ",a]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:"fas fa-caret-up"})," ",a]})})]}),!l&&t]})})};zc.defaultProps={close:!0};var Bc=zc,Xc=function(e){var t=e.history,a=e.consultantsMy,c=e.focusActive,r=Object(i.b)();return Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,className:"mt-3",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-light",children:[Object(n.jsx)("th",{className:"align-middle text-dark",children:"Consultant name"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Matricule"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Practice"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Valued"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Arrival"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Leaving"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Seniority"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Comment"}),Object(n.jsx)("th",{className:"align-middle text-dark"})]})}),Object(n.jsx)("tbody",{children:a.map((function(e,a){return Object(n.jsxs)("tr",{onClick:function(){return c&&r(jc(a))},children:[Object(n.jsx)("td",{className:"align-middle",children:e.name}),Object(n.jsx)("td",{className:"align-middle",children:e.matricule}),Object(n.jsx)("td",{className:"align-middle",children:e.practice}),Object(n.jsx)("td",{className:"align-middle",children:e.valued?e.valued.substring(0,10):""}),Object(n.jsx)("td",{className:"align-middle",children:e.arrival?e.arrival.substring(0,10):""}),Object(n.jsx)("td",{className:"align-middle",children:e.leaving?e.leaving.substring(0,10):""}),Object(n.jsxs)("td",{className:"align-middle",children:[e.valued?((new Date(Date.now())-new Date(e.valued.substring(0,10)))/315576e5).toString().substring(0,4):0," years"]}),Object(n.jsx)("td",{className:"align-middle",children:e.comment}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Tc.a,{className:"btn btn-light p-1",onClick:function(){return function(e,a){c&&r(jc(e)),t.push("/editconsultant/".concat(a))}(a,e._id)},children:Object(n.jsx)("i",{className:"fas fa-user-edit"})})})]},e._id)}))})]})},Hc=a(268),Qc=function(e){var t=e.title;return Object(n.jsx)(Hc.a,{children:Object(n.jsx)("title",{children:t})})};Qc.defaultProps={title:"Performance App"};var Kc=Qc,Vc=a(27),Yc=function(e){var t=e.history,a=e.consultantId,r=e.displayedDeal,s=void 0===r?"":r,l=e.onNavigate,o=void 0===l?function(){return""}:l,d=Object(i.b)(),u=Object(i.c)((function(e){return e.consultantAllStaffs})),j=u.loading,b=u.staffings;return Object(c.useEffect)((function(){a&&d(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:qt}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/consultants/staffings?consultantId=".concat(e),s);case 6:i=t.sent,l=i.data,a({type:Gt,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:zt,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))}),[d,a]),Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{children:[j&&Object(n.jsx)(kc,{}),Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,className:"mt-3",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-light",children:[Object(n.jsx)("th",{className:"align-middle text-dark",children:"Company"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Title"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Practice"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Probability"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Start"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Deal status"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Request status"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:b&&b.map((function(e){return e._id.toString()!==s.toString()&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle",children:e.company}),Object(n.jsx)("td",{className:"align-middle",children:e.title}),Object(n.jsx)("td",{className:"align-middle",children:e.mainPractice}),Object(n.jsxs)("td",{className:"align-middle",children:[e.probability," %"]}),Object(n.jsx)("td",{className:"align-middle",children:e.startDate.substring(0,10)}),Object(n.jsx)("td",{className:"align-middle",children:e.status}),Object(n.jsx)("td",{className:"align-middle",children:e.requestStatus}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Tc.a,{onClick:function(){t.push("/staffing/".concat(e._id)),o()},variant:"light",children:Object(n.jsx)("i",{className:"fas fa-edit"})})})]},e._id)}))})]})]})})},Jc=function(e,t){return function(){var a=Object(nc.a)(ac.a.mark((function a(n,c){var r,s,i;return ac.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Ia}),r=c(),s=r.userLogin.userInfo,i={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(s.token)}},a.next=6,rc.a.put("/api/deals/".concat(e),t,i);case 6:n({type:Da}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:ka,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()},Wc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(){var c=Object(nc.a)(ac.a.mark((function c(r,s){var i,l,o,d,u;return ac.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:Ua}),i=s(),l=i.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(l.token)}},c.next=6,rc.a.get("/api/deals?title=".concat(e.title,"&company=").concat(e.company,"&contact=").concat(e.contact,"&status=").concat(e.status,"&request=").concat(e.request,"&pageNumber=").concat(t,"&pageSize=").concat(a,"&state=").concat(n,"&filterMy=").concat(e.filterMy,"&staff=").concat(e.staff),o);case 6:d=c.sent,u=d.data,r({type:Ra,payload:u}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),r({type:Pa,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e,t){return c.apply(this,arguments)}}()},Zc=function(e){var t=e.history,a=e.consultantId,r=(e.displayedDeal,e.onNavigate),s=void 0===r?function(){return""}:r,l=Object(i.b)(),o=Object(i.c)((function(e){return e.dealOld})),d=o.loading,u=o.oldDeals;return Object(c.useEffect)((function(){a&&l(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ka}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/deals/old?consultantId=".concat(e),s);case 6:i=t.sent,l=i.data,a({type:Va,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Ya,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))}),[l,a]),Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{children:[d&&Object(n.jsx)(kc,{}),Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,className:"mt-3",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-light",children:[Object(n.jsx)("th",{className:"align-middle text-dark",children:"Company"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Title"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Practice"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Probability"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Start"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Deal status"}),Object(n.jsx)("th",{className:"align-middle text-dark",children:"Request status"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:u&&u.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle",children:e.company}),Object(n.jsx)("td",{className:"align-middle",children:e.title}),Object(n.jsx)("td",{className:"align-middle",children:e.mainPractice}),Object(n.jsxs)("td",{className:"align-middle",children:[e.probability," %"]}),Object(n.jsx)("td",{className:"align-middle",children:e.startDate.substring(0,10)}),Object(n.jsx)("td",{className:"align-middle",children:e.status}),Object(n.jsx)("td",{className:"align-middle",children:e.staffingRequest.requestStatus}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Tc.a,{onClick:function(){t.push("/staffing/".concat(e._id)),s()},variant:"light",children:Object(n.jsx)("i",{className:"fas fa-edit"})})})]},e._id)}))})]})]})})},$c=a(28),er=a(63),tr=a(79),ar=function(e){var t=e.value,a=e.setValue,c=e.text,r=e.color,s=e.editable,i=Object($c.a)(new Array(Math.floor(t)).fill(1));for(t%1>=.5&&i.push(t%1);i.length<5;)i.push(0);return Object(n.jsx)(Nc.a.Group,{className:"mb-0",children:Object(n.jsxs)(Pc.a,{children:[i&&i.map((function(e,t){return Object(n.jsx)("span",{children:Object(n.jsx)(Tc.a,{className:"mx-0 px-0",variant:"ligth",onClick:function(){s&&a(e>=1?t:e>=.5?t+1:t+.5)},children:Object(n.jsx)("i",{style:{color:r},className:e>=1?"fas fa-star":e>=.5?"fas fa-star-half-alt":"far fa-star"})})},t)})),Object(n.jsx)("span",{children:c&&c})]})})};ar.defaultProps={color:"#f8e825",text:"",editable:!0};var nr=ar,cr=function(e){var t=e.consultantId,a=e.skill,r=e.val,s=e.setUpdate,l=e.editable,o=void 0===l||l,d=Object(i.b)(),u=Object(i.c)((function(e){return e.consultantUpdateSkill})).success,j=Object(i.c)((function(e){return e.consultantDeleteSkill})).success,b=Object(c.useState)(a.level),h=Object(Cc.a)(b,2),O=h[0],p=h[1],m=Object(c.useState)(a.level),x=Object(Cc.a)(m,2),f=x[0],g=x[1];Object(c.useEffect)((function(){j&&s(!0)}),[j,s]),Object(c.useEffect)((function(){u&&(p(f),d({type:ta}))}),[d,u,f]);var v=function(e,t){d(function(e,t){return function(){var a=Object(nc.a)(ac.a.mark((function a(n,c){var r,s,i;return ac.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Vt}),r=c(),s=r.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(s.token)}},a.next=6,rc.a.delete("/api/consultants/".concat(e,"/skill/").concat(t),i);case 6:n({type:Yt}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:Jt,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()}(e,t))};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Nc.a.Row,{children:[Object(n.jsx)(Sc.a,{xs:3,children:Object(n.jsx)(Nc.a.Group,{controlId:"skillName",className:"mb-0",children:Object(n.jsx)(Nc.a.Control,{plaintext:!0,readOnly:!0,value:a.skill&&a.skill.name})})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(nr,{value:Number(O),setValue:function(e){d(function(e,t,a){return function(){var n=Object(nc.a)(ac.a.mark((function n(c,r){var s,i,l;return ac.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:Zt}),s=r(),i=s.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(i.token)}},n.next=6,rc.a.put("/api/consultants/".concat(e,"/skill/").concat(t),{level:a},l);case 6:c({type:$t}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),c({type:ea,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,a.skill._id,e)),g(e)},editable:o})}),Object(n.jsx)(Sc.a,{children:o&&Object(n.jsx)(Nc.a.Group,{className:"mb-0",children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Tc.a,{variant:"secondary",size:"sm",onClick:function(){return v(t,a.skill._id)},children:Object(n.jsx)("i",{className:"fas fa-times-circle"})})})})})]},r)})},rr=function(e){var t=e.consultantId,a=e.close,r=void 0===a||a,s=e.editable,l=void 0===s||s,o=Object(i.b)(),d=Object(c.useState)("default"),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)("default"),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(1),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)([]),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(c.useState)([]),T=Object(Cc.a)(N,2),_=T[0],A=T[1],L=Object(c.useState)(!1),I=Object(Cc.a)(L,2),D=I[0],k=I[1],w=Object(i.c)((function(e){return e.consultantAllSkills})).skills,U=Object(i.c)((function(e){return e.consultantSkills})),R=U.loading,P=U.skills,M=Object(i.c)((function(e){return e.consultantAddSkill})),F=M.loading,q=M.success,G=M.error;Object(c.useEffect)((function(){w||o(fc())}),[o,w]),Object(c.useEffect)((function(){o(xc(t))}),[o,t]),Object(c.useEffect)((function(){if(P){var e=z(P);A(e)}}),[o,P,t]),Object(c.useEffect)((function(){D&&!R&&(o(xc(t)),k(!1))}),[o,D,t,R]),Object(c.useEffect)((function(){if(w){var e=w.map((function(e){return e.category}));e=Object($c.a)(new Set(e)),C(e)}}),[w]),Object(c.useEffect)((function(){q&&k(!0)}),[q]);var z=function(e){for(var t=Object($c.a)(new Set(e.map((function(e){return e.skill.category})))),a=[],n=function(n){a.push({category:t[n],data:e.filter((function(e){return e.skill.category===t[n]}))})},c=0;c<t.length;c++)n(c);return a},B=function(e,t,a){o(function(e,t,a){return function(){var n=Object(nc.a)(ac.a.mark((function n(c,r){var s,i,l,o;return ac.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s={skill:t,level:a},c({type:Xt}),i=r(),l=i.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(l.token)}},n.next=7,rc.a.put("/api/consultants/".concat(e,"/skill"),s,o);case 7:c({type:Ht}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),c({type:Qt,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()}(e,t,a))};return Object(n.jsxs)(Bc,{title:"Skills",close:r,children:[l&&Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsx)("h4",{children:"Add skills"}),Object(n.jsxs)(Nc.a.Row,{className:"mt-3 align-items-end",children:[Object(n.jsx)(Sc.a,{xs:12,md:3,children:Object(n.jsxs)(Nc.a.Group,{controlId:"skillCategory",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("strong",{children:"Category"})}),Object(n.jsxs)(Nc.a.Control,{as:"select",value:j||"default",onChange:function(e){return b(e.target.value)},required:!0,children:[Object(n.jsx)("option",{value:"default",children:"Please Select"}),E&&E.map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))]})]})}),Object(n.jsx)(Sc.a,{xs:12,md:3,children:Object(n.jsxs)(Nc.a.Group,{controlId:"skillName",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("strong",{children:"Skill"})}),Object(n.jsx)(er.a,{placement:"top",overlay:Object(n.jsx)(tr.a,{id:"button-tooltip-2",children:p&&w?w.map((function(e){return e._id===p&&e.description})):"no description"}),children:Object(n.jsxs)(Nc.a.Control,{as:"select",value:p||"default",onChange:function(e){return m(e.target.value)},required:!0,children:[Object(n.jsx)("option",{value:"default",children:"Please Select"}),w&&j&&w.map((function(e,t){return e.category===j&&Object(n.jsx)("option",{value:e._id,children:e.name},t)}))]})})]})}),Object(n.jsx)(Sc.a,{xs:12,md:3,children:Object(n.jsxs)(Nc.a.Group,{controlId:"skillLevel",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("strong",{children:"Level"})}),Object(n.jsx)(Nc.a.Control,{type:"number",min:0,max:5,step:.5,value:g||1,onChange:function(e){return v(e.target.value)},required:!0})]})}),Object(n.jsx)(Sc.a,{xs:12,md:3,className:"align-items-bottom",children:Object(n.jsx)(Nc.a.Group,{children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Tc.a,{block:!0,onClick:function(){return B(t,p,g)},children:F?Object(n.jsx)(kc,{}):"Add"})})})})]}),G&&Object(n.jsx)(Ic,{variant:"danger",children:G})]}),Object(n.jsx)(Rc.a.Item,{children:_&&_.length?Object(n.jsx)(Rc.a,{variant:"flush",children:_.map((function(e,a){return Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsx)("h4",{children:e.category}),e.data.map((function(e,a){return Object(n.jsx)(cr,{consultantId:t,skill:e,val:a,setUpdate:k,editable:l},a)}))]},a)}))}):Object(n.jsx)("p",{children:"Please add quality"})})]})},sr=function(e){var t=e.history,a=Object(i.b)(),r=Object(c.useState)(""),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(""),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(""),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(""),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(!1),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(i.c)((function(e){return e.userLogin})).userInfo,T=Object(i.c)((function(e){return e.consultantsMyList})),_=T.loading,A=T.error,L=T.consultantsMy,I=T.focus,D=Object(c.useState)(new Date(Date.now())),k=Object(Cc.a)(D,2),w=k[0],U=k[1];Object(c.useEffect)((function(){N||t.push("/login")}),[t,N]),Object(c.useEffect)((function(){a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Pe}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/consultants?option=".concat(e),s);case 6:i=t.sent,l=i.data,a({type:Me,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Fe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(E?"delegate":""))}),[a,I,E]),Object(c.useEffect)((function(){L&&(o(L[I].comment),b(L[I].talentReviewObjectives),v(L[I].notProdComment),m(L[I].availabilityComment))}),[L,I]);var R=function(e){I+e>=0&&I+e<L.length&&a(jc(I+e))},P=function(e,t){a(function(e,t){return function(){var a=Object(nc.a)(ac.a.mark((function a(n,c){var r,s,i;return ac.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:Et}),r=c(),s=r.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},a.next=6,rc.a.put("/api/consultants/comment/".concat(e),{commentText:t},i);case 6:n({type:Ct}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:Nt,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}()}(e,t))};return Object(n.jsxs)(Jn.a,{children:[Object(n.jsx)(Kc,{}),_?Object(n.jsx)(kc,{}):A?Object(n.jsx)(Ic,{variant:"danger",children:A}):L&&0!==L.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"border-bottom p-3",children:[Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{className:"text-center",xs:2,children:Object(n.jsx)(Tc.a,{variant:"primary",size:"sm",onClick:function(){return R(-1)},disabled:0===I,children:Object(n.jsx)("i",{className:"fas fa-caret-left"})})}),Object(n.jsx)(Sc.a,{className:"text-center",xs:8,children:Object(n.jsx)(Wn.LinkContainer,{to:"/editconsultant/".concat(L[I]._id),children:Object(n.jsx)($n.a.Link,{children:Object(n.jsxs)("h4",{children:[L[I].name," ",Object(n.jsxs)("i",{children:["(",L[I].matricule,")"]})]})})})}),Object(n.jsx)(Sc.a,{className:"text-center",xs:2,children:Object(n.jsx)(Tc.a,{variant:"primary",size:"sm",onClick:function(){return R(1)},disabled:I===L.length-1,children:Object(n.jsx)("i",{className:"fas fa-caret-right"})})})]}),Object(n.jsxs)(yc.a,{className:"mt-3",children:[Object(n.jsx)(Sc.a,{xs:12,md:4,children:Object(n.jsx)(Rc.a,{children:Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsxs)(yc.a,{className:"my-3",children:[Object(n.jsxs)(Sc.a,{className:"text-left",children:[Object(n.jsx)("b",{children:"Arrival:"})," ",L[I].arrival&&L[I].arrival.substring(0,10)]}),Object(n.jsxs)(Sc.a,{className:"text-left",children:[Object(n.jsx)("b",{children:"Valued:"})," ",L[I].valued&&L[I].valued.substring(0,10)]}),Object(n.jsxs)(Sc.a,{className:"text-left",children:[Object(n.jsx)("b",{children:"Leaving:"})," ",L[I].leaving&&L[I].leaving.substring(0,10)]})]}),Object(n.jsx)(yc.a,{className:"my-3",children:Object(n.jsxs)(Sc.a,{children:[Object(n.jsx)("b",{children:"Seniority:"})," ",((new Date(Date.now())-new Date(L[I].arrival.substring(0,10)))/315576e5).toString().substring(0,4)," years"]})}),Object(n.jsx)(yc.a,{className:"my-3",children:Object(n.jsx)(Sc.a,{children:!(L[I]._id===N.consultantProfil._id)&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:"comment",children:Object(n.jsx)("strong",{children:"Staffing comment"})}),Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"textarea",size:"sm",rows:7,id:"comment",value:l,placeholder:"Please enter a comment",onChange:function(e){o(e.target.value),P(L[I]._id,e.target.value)}})})]})})})]})})}),Object(n.jsx)(Sc.a,{xs:12,md:8,children:Object(n.jsx)(Gc,{consultantsMy:L,consultantFocus:I,searchDate:w,navigationMonthHandler:function(e){var t=new Date(w);t.setMonth(t.getMonth()+e),U(t)}})})]})]}),Object(n.jsx)("div",{className:"border-bottom p-3",children:Object(n.jsxs)(yc.a,{children:[Object(n.jsxs)(Sc.a,{xs:12,md:4,children:[Object(n.jsx)("label",{htmlFor:"annual-objectives",children:Object(n.jsx)("strong",{children:"Annual objectives"})}),Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"textarea",size:"sm",rows:3,id:"annual-objectives",value:j,placeholder:"Please complete with your CDM",onChange:function(e){b(e.target.value),a(hc(Object(Re.a)(Object(Re.a)({},L[I]),{},{talentReviewObjectives:e.target.value,notProdComment:g,availabilityComment:p})))}})})]}),Object(n.jsxs)(Sc.a,{xs:12,md:4,children:[Object(n.jsx)("label",{htmlFor:"not-prod-comment",children:Object(n.jsx)("strong",{children:"Not production justification"})}),Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"textarea",size:"sm",rows:3,id:"not-prod-comment",value:g,placeholder:"Please justify not production time. For example:\n- 3d-june: inter-contrat\n- 1d/Week: business\n- etc.",onChange:function(e){v(e.target.value),a(hc(Object(Re.a)(Object(Re.a)({},L[I]),{},{talentReviewObjectives:j,notProdComment:e.target.value,availabilityComment:p})))}})})]}),Object(n.jsxs)(Sc.a,{xs:12,md:4,children:[Object(n.jsx)("label",{htmlFor:"availability-comment",children:Object(n.jsx)("strong",{children:"Availability comment"})}),Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"textarea",size:"sm",rows:3,id:"availability-comment",value:p,placeholder:"Please share any information on your availability. For example: end of mission the 23th of October > 2d/5 available",onChange:function(e){m(e.target.value),a(hc(Object(Re.a)(Object(Re.a)({},L[I]),{},{talentReviewObjectives:j,notProdComment:g,availabilityComment:e.target.value})))}})})]})]})}),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(uc,{access:"viewStaffings",children:Object(n.jsx)(Bc,{title:"Staffings on track",close:!1,children:Object(n.jsx)(Yc,{history:t,consultantId:L[I]._id})})})})}),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Bc,{title:"Old staffings",close:!0,children:Object(n.jsx)(Zc,{history:t,consultantId:L[I]._id})})})}),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(uc,{access:"viewSkills",children:Object(n.jsx)(rr,{consultantId:L[I]._id})})})}),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(uc,{access:"viewOthersConsultants",children:Object(n.jsxs)(Bc,{title:"Others consultants",close:!1,children:[Object(n.jsx)(Nc.a.Group,{controlId:"switch-only-available",className:"mt-3",children:Object(n.jsx)(Nc.a.Check,{type:"switch",id:"switch-delegation",label:"View delegation",checked:E,onChange:function(e){!0===e.target.checked?C(!0):C(!1)}})}),Object(n.jsx)(Xc,{consultantsMy:L,history:t,focusActive:!0})]})})})})]}):Object(n.jsx)(Ic,{variant:"info",children:"You don't have consultant to edit yet"})]})},ir=function(e){var t=e.history,a=e.match,r=Object(i.b)(),s=Object(c.useState)(""),l=Object(Cc.a)(s,2),o=l[0],d=l[1],u=Object(c.useState)(""),j=Object(Cc.a)(u,2),b=j[0],h=j[1],O=Object(c.useState)(""),p=Object(Cc.a)(O,2),m=p[0],x=p[1],f=Object(c.useState)(""),g=Object(Cc.a)(f,2),v=g[0],y=g[1],S=Object(c.useState)("Analyst"),E=Object(Cc.a)(S,2),C=E[0],N=E[1],T=Object(c.useState)(null),_=Object(Cc.a)(T,2),A=_[0],L=_[1],I=Object(c.useState)(""),D=Object(Cc.a)(I,2),k=D[0],w=D[1],U=Object(c.useState)(""),R=Object(Cc.a)(U,2),P=R[0],M=R[1],F=Object(c.useState)(""),q=Object(Cc.a)(F,2),G=q[0],z=q[1],B=Object(c.useState)(""),X=Object(Cc.a)(B,2),H=X[0],Q=X[1],K=Object(c.useState)(!1),V=Object(Cc.a)(K,2),Y=V[0],J=V[1],W=Object(c.useState)(!1),Z=Object(Cc.a)(W,2),$=Z[0],ee=Z[1],te=Object(c.useState)(""),ae=Object(Cc.a)(te,2),ne=ae[0],ce=ae[1],re=Object(c.useState)(""),se=Object(Cc.a)(re,2),ie=se[0],le=se[1],oe=Object(c.useState)(1),de=Object(Cc.a)(oe,2),ue=de[0],je=de[1],be=Object(c.useState)(1),he=Object(Cc.a)(be,2),Oe=he[0],pe=he[1],me=Object(c.useState)(1),xe=Object(Cc.a)(me,2),fe=xe[0],ge=xe[1],ve=Object(c.useState)(1),ye=Object(Cc.a)(ve,2),Se=ye[0],Ee=ye[1],Ce=Object(c.useState)(1),Ne=Object(Cc.a)(Ce,2),Te=Ne[0],_e=Ne[1],Ae=Object(c.useState)(""),Le=Object(Cc.a)(Ae,2),Ie=Le[0],De=Le[1],ke=Object(c.useState)(""),we=Object(Cc.a)(ke,2),Ue=we[0],Pe=we[1],Me=Object(c.useState)(!1),Fe=Object(Cc.a)(Me,2),qe=Fe[0],Ge=Fe[1],ze=a.params.id?"edit":"create",Be=Object(i.c)((function(e){return e.userLogin})).userInfo,Xe=Object(i.c)((function(e){return e.consultantMy})),He=Xe.loading,Qe=Xe.error,Ke=Xe.consultant,Ve=Object(i.c)((function(e){return e.consultantMyUpdate})),Ye=Ve.loading,Je=Ve.error,We=Ve.success,Ze=Object(i.c)((function(e){return e.consultantCreate})),$e=Ze.loading,et=Ze.error,tt=Ze.success,at=Ze.consultantCreated,nt=Object(i.c)((function(e){return e.consultantCDMList})),ct=nt.error,rt=nt.cdmList,st=Object(i.c)((function(e){return e.consultantPracticeList})),jt=st.error,bt=st.practiceList;Object(c.useEffect)((function(){Be||t.push("/login")}),[t,Be]),Object(c.useEffect)((function(){a.params.id&&(Ke||r(bc(a.params.id)))}),[r,a,Ke]),Object(c.useEffect)((function(){a.params.id&&Ke&&Ke._id!==a.params.id&&r(bc(a.params.id))}),[r,a,Ke]),Object(c.useEffect)((function(){qe&&(r(bc(a.params.id)),Ge(!1))}),[r,qe,a]),Object(c.useEffect)((function(){a.params.id&&We&&Ge(!0)}),[a,We]),Object(c.useEffect)((function(){bt||r(pc())}),[r,Be,bt]),Object(c.useEffect)((function(){v&&r(Oc(v))}),[r,v]),Object(c.useEffect)((function(){a.params.id&&Ke&&(d(Ke.name),h(Ke.email),x(Ke.matricule),y(Ke.practice),N(Ke.grade),L(Ke.cdmId?Ke.cdmId:""),w(Ke.arrival.substring(0,10)),M(Ke.valued?Ke.valued.substring(0,10):""),z(Ke.leaving?Ke.leaving.substring(0,10):""),Q(((new Date(Date.now())-new Date(Ke.arrival.substring(0,10)))/315576e5).toString().substring(0,4)),J(Ke.isCDM||!1),ee(Ke.isPartialTime.value),ce(!!Ke.isPartialTime.start.substring(0,10)&&Ke.isPartialTime.start.substring(0,10)),le(!!Ke.isPartialTime.end.substring(0,10)&&Ke.isPartialTime.end.substring(0,10)),je(Ke.isPartialTime.week.filter((function(e){return 1===e.num}))[0].worked),pe(Ke.isPartialTime.week.filter((function(e){return 2===e.num}))[0].worked),ge(Ke.isPartialTime.week.filter((function(e){return 3===e.num}))[0].worked),Ee(Ke.isPartialTime.week.filter((function(e){return 4===e.num}))[0].worked),_e(Ke.isPartialTime.week.filter((function(e){return 5===e.num}))[0].worked))}),[a,Ke,ze]),Object(c.useEffect)((function(){!v&&Be&&bt&&y(bt[0])}),[Be,v,bt,A,rt]),Object(c.useEffect)((function(){Je&&(De({message:Je,type:"danger"}),r({type:it})),We&&(Pe({message:"Consultant updated",type:"success"}),r({type:it})),et&&(De({message:et,type:"danger"}),r({type:ut})),tt&&(Pe({message:"Consultant created",type:"success"}),t.push("/editconsultant/".concat(at._id)),r({type:ut}))}),[r,t,Je,We,tt,et,at]);return Object(n.jsxs)(n.Fragment,{children:[Qe&&Object(n.jsx)(Ic,{variant:"danger",children:Qe}),Ie&&Object(n.jsx)(Ic,{variant:"danger",children:Ie.message}),ct&&Object(n.jsx)(Ic,{variant:"danger",children:ct}),jt&&Object(n.jsx)(Ic,{variant:"danger",children:jt}),He&&Object(n.jsx)(kc,{}),Object(n.jsx)(Tc.a,{className:"mb-3",onClick:function(){return t.go(-1),De(""),void Pe("")},children:"Go Back"}),Object(n.jsx)(uc,{access:"editConsultantProfil",children:Object(n.jsx)(Jn.a,{children:Object(n.jsx)(yc.a,{className:"justify-content-md-center",children:Object(n.jsx)(Sc.a,{xs:12,md:8,children:Object(n.jsxs)(Nc.a,{onSubmit:function(e){if(e.preventDefault(),"edit"===ze){var t=Object(Re.a)(Object(Re.a)({},Ke),{},{name:o,matricule:m,arrival:new Date(k),valued:new Date(P),leaving:G?new Date(G):null,isCDM:Y,grade:C,cdmId:A,isPartialTime:{value:$,start:$?ne:"",end:$?ie:"",week:[{num:1,worked:$?ue:1},{num:2,worked:$?Oe:1},{num:3,worked:$?fe:1},{num:4,worked:$?Se:1},{num:5,worked:$?Te:1}]}});r(hc(t))}"create"===ze&&r(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:lt}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.post("/api/consultants",e,s);case 6:i=t.sent,l=i.data,a({type:ot,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:dt,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({name:o,email:b,matricule:m,arrival:k,valued:P,leaving:G,practice:v,isCDM:Y,grade:C,cdmId:A,isPartialTime:{value:$,start:ne,end:ie,week:[{num:1,worked:ue},{num:2,worked:Oe},{num:3,worked:fe},{num:4,worked:Se},{num:5,worked:Te}]}}))},children:[Object(n.jsx)("h2",{children:o&&o}),Object(n.jsx)(Bc,{title:"Personal",close:"create"!==ze,children:Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsx)(Nc.a.Row,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"name",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Name"})}),Object(n.jsx)(Nc.a.Control,{type:"name",placeholder:"Enter Name",value:o&&o,onChange:function(e){return d(e.target.value)},required:!0})]})})}),Object(n.jsxs)(Nc.a.Row,{children:[Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"matricule",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Matricule"})}),Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Enter Matricule",value:m&&m,onChange:function(e){return x(e.target.value)},required:!0})]})}),Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"seniority",children:[Object(n.jsxs)(Nc.a.Label,{children:[Object(n.jsx)("b",{children:"Seniority"})," ",Object(n.jsx)("i",{children:"(years)"})]}),Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"-",value:H&&H,readOnly:!0})]})})]}),Object(n.jsx)(Nc.a.Row,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"email",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Email Address"})}),Object(n.jsx)(Nc.a.Control,{type:"email",placeholder:"Enter email",value:b&&b,onChange:function(e){return h(e.target.value)},required:!0})]})})})]})}),Ke&&"create"!==ze&&Object(n.jsx)(rr,{consultantId:Ke._id}),Object(n.jsx)(Bc,{title:"Profil",close:!1,children:Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsx)(Nc.a.Row,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"practice",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Practice"})}),Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Nc.a.Control,{as:"select",value:v||(Be?Be.consultantProfil.practice:""),onChange:function(e){y(e.target.value)},required:!0,children:bt?jt?Object(n.jsx)(Ic,{variant:"Danger",children:"No Practice found"}):bt.map((function(e){return Object(n.jsx)("option",{value:e,disabled:"-"===e,children:e},e)})):Object(n.jsx)("option",{value:v&&v,children:v})})})]})})}),Object(n.jsx)(Nc.a.Row,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"grade",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Grade"})}),Object(n.jsx)(Nc.a.Control,{as:"select",placeholder:"Enter grade",value:C&&C,onChange:function(e){return N(e.target.value)},required:!0,children:ha.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]})})}),Object(n.jsx)(Nc.a.Row,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"cdm",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"CDM"})}),Object(n.jsxs)(Nc.a.Control,{as:"select",value:A||"default",onChange:function(e){return L(e.target.value)},required:!0,children:[Object(n.jsx)("option",{value:"default",children:"Please Select"}),rt?ct?Object(n.jsx)(Ic,{variant:"danger",children:"No CDM found, please verify Practice"}):rt.length&&rt.map((function(e,t){return Object(n.jsx)("option",{value:e._id,children:e.name},t)})):"No cdm"]})]})})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsxs)(Nc.a.Row,{children:[Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"valued",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Valued date"})}),Object(n.jsx)(Nc.a.Control,{type:"date",value:P&&P,onChange:function(e){return function(e){M(e.substring(0,10)),Q(((new Date(Date.now())-new Date(e.substring(0,10)))/315576e5).toString().substring(0,4))}(e.target.value)},required:!0})]})}),Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"arrival",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Arrival date"})}),Object(n.jsx)(Nc.a.Control,{type:"date",value:k&&k,min:P,onChange:function(e){w(e.target.value)},required:!0})]})}),Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"leaving",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Leaving date"})}),Object(n.jsx)(Nc.a.Control,{type:"date",value:G&&G,min:k,onChange:function(e){return z(e.target.value)}})]})})]})}),Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsxs)(Nc.a.Row,{children:[Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Nc.a.Group,{controlId:"partialtime",children:Object(n.jsx)(Nc.a.Check,{type:"checkbox",label:"Partial time",checked:!!$,onChange:function(e){ee(e.target.checked)}})})}),$&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"startpartialtime",children:[Object(n.jsx)(Nc.a.Label,{children:"Start"}),Object(n.jsx)(Nc.a.Control,{type:"Date",min:k&&k,value:ne&&ne,onChange:function(e){ce(e.target.value.substring(0,10)),!ie&&le(e.target.value.substring(0,10)),ie<e.target.value.substring(0,10)&&le(e.target.value.substring(0,10))},required:!0})]})}),Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"endpartialtime",children:[Object(n.jsx)(Nc.a.Label,{children:"End"}),Object(n.jsx)(Nc.a.Control,{type:"Date",value:ie&&ie,min:ne||"",onChange:function(e){le(e.target.value.substring(0,10))},required:!0})]})})]})]}),$&&Object(n.jsxs)(Nc.a.Row,{children:[Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"monday",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Monday"})}),Object(n.jsx)(Nc.a.Control,{type:"Number",min:0,max:1,step:.5,value:Number(ue),onChange:function(e){return je(e.target.value)}})]})}),Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"tuesday",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Tuesday"})}),Object(n.jsx)(Nc.a.Control,{type:"Number",min:0,max:1,step:.5,value:Number(Oe),onChange:function(e){return pe(e.target.value)}})]})}),Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"wendnesday",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Wendnesday"})}),Object(n.jsx)(Nc.a.Control,{type:"Number",min:0,max:1,step:.5,value:Number(fe),onChange:function(e){return ge(e.target.value)}})]})}),Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"thursday",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Thursday"})}),Object(n.jsx)(Nc.a.Control,{type:"Number",min:0,max:1,step:.5,value:Number(Se),onChange:function(e){return Ee(e.target.value)}})]})}),Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a.Group,{controlId:"friday",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Friday"})}),Object(n.jsx)(Nc.a.Control,{type:"Number",min:0,max:1,step:.5,value:Number(Te),onChange:function(e){return _e(e.target.value)}})]})})]})]}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(Nc.a.Row,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Nc.a.Group,{controlId:"iscdm",children:Object(n.jsx)(Nc.a.Check,{type:"checkbox",label:"Is CDM",checked:!!Y,onChange:function(e){J(e.target.checked)}})})})})})]})}),Object(n.jsx)(Nc.a.Row,{className:"pt-3",children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{type:"submit",variant:"primary",block:!0,disabled:!o||!b||!m||!v||!P||!k,children:Ye||$e?Object(n.jsx)(kc,{}):"create"===ze?"Create":"Update"})})}),Object(n.jsx)(Nc.a.Row,{children:Object(n.jsx)(Sc.a,{children:Ue&&Object(n.jsx)(Ic,{variant:"success",children:Object(n.jsx)("i",{className:"fas fa-check-circle",children:"  Your information is correctly registered"})})})})]})})})})})]})},lr=a(74),or=function(e){var t=e.setImportData,a=e.sheets,r=void 0===a?"all":a,s=Object(c.useState)(""),i=Object(Cc.a)(s,2),l=i[0],o=i[1],d=function(){var e=Object(nc.a)(ac.a.mark((function e(a){var n,c;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.target.files[0],(c=new FileReader).onload=function(e){for(var a=e.target.result,c=lr.read(a,{type:"binary"}),s=[],i=0;i<c.SheetNames.length;i++){var l=c.SheetNames[i],d=c.Sheets[l];s.push(lr.utils.sheet_to_json(d))}"1"===r&&t(s[0].map((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{status:"not imported"})}))),"all"===r&&t(s),o(n.name)},c.readAsBinaryString(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(Nc.a,{children:Object(n.jsxs)(Nc.a.File,{id:"importData",custom:!0,children:[Object(n.jsx)(Nc.a.File.Label,{"data-browse":"Upload",children:l||"  ...  "}),Object(n.jsx)(Nc.a.File.Input,{onChange:function(e){return d(e)}})]})})},dr=a(39),ur=a.n(dr),jr=a(24),br=a(25),hr=a(271),Or=function(e){var t=Object(i.b)(),a=Object(c.useState)(0),r=Object(Cc.a)(a,2),s=r[0],l=r[1],o=Object(i.c)((function(e){return e.consultantUploadWk})),d=o.loading,u=o.error,j=o.path,b=Object(i.c)((function(e){return e.consultantUpdateWk})),h=b.loading,O=b.error,p=b.message;return Object(n.jsxs)(br.a,Object(Re.a)(Object(Re.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(br.a.Header,{closeButton:!0,children:Object(n.jsx)(yc.a,{className:"align-items-center",children:Object(n.jsx)(Sc.a,{className:"text-center",children:Object(n.jsx)(br.a.Title,{id:"contained-modal-title-vcenter",children:"Import consultants data from Wavekeeper"})})})}),Object(n.jsxs)(br.a.Body,{children:[Object(n.jsxs)(yc.a,{className:"mb-3",children:[Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{className:s>=0?"text-primary":"text-secondary",onClick:function(){return l(0)},variant:"ligth",disabled:s<0,children:Object(n.jsx)("strong",{children:"1-Guidelines"})})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{className:s>=1?"text-primary":"text-secondary",onClick:function(){return l(1)},variant:"ligth",disabled:s<1,children:Object(n.jsx)("strong",{children:"2-Upload in App"})})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{className:s>=2?"text-primary":"text-secondary",onClick:function(){return l(2)},variant:"ligth",disabled:s<2,children:Object(n.jsx)("strong",{children:"3-Start update"})})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{className:s>=3?"text-primary":"text-secondary",onClick:function(){return l(3)},variant:"ligth",disabled:s<3,children:Object(n.jsx)("strong",{children:"4-Result"})})})]}),Object(n.jsx)(yc.a,{className:"align-items-center",children:Object(n.jsxs)(Sc.a,{children:[0===s&&Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{children:[Object(n.jsxs)("h4",{children:["Process to export from Wavekeeper ",Object(n.jsx)("a",{href:"https://wavekeeper.wavestone-app.com/web#action=534&model=hr.presence&view_type=list&cids=1&menu_id=92",target:"_blank",rel:"noopener noreferrer",children:"(link)"})]}),Object(n.jsx)("p",{children:"Please connect to Wavekeeper"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Step 1: Go to collaborators"}),Object(n.jsx)("li",{children:"Step 2: Apply filter to keep only current consultants"}),Object(n.jsx)("li",{children:"Step 3: Select all lines and go to actions / export"}),Object(n.jsx)("li",{children:"Step 4: Select filter 'JPR_export_2'"}),Object(n.jsx)("li",{children:"Step 5: Save the Excel file on you desktop"})]}),Object(n.jsx)(hr.a,{src:"/images/WK_export_consultants_application_filtres.jpg",rounded:!0,fluid:!0})]})}),1===s&&Object(n.jsx)(yc.a,{className:"align-items-center",children:Object(n.jsxs)(Sc.a,{className:"text-center",children:[Object(n.jsx)("h4",{children:"Upload your file here"}),d?Object(n.jsx)(kc,{}):Object(n.jsx)("input",{className:"my-3",type:"file",name:"hr.presence",onChange:function(e){var a,n=new FormData;n.append("file",e.target.files[0]),t((a=n,function(){var e=Object(nc.a)(ac.a.mark((function e(t,n){var c,r,s,i,l;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:sa}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,rc.a.post("/api/upload/consultant",a,s);case 6:i=e.sent,l=i.data,t({type:ia,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:la,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()))}}),u&&Object(n.jsx)(Ic,{variant:"danger",children:u})]})}),2===s&&(j?Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{className:"text-center",children:[Object(n.jsx)("h4",{children:"Do you want to update your consultants ?"}),h?Object(n.jsx)(kc,{}):Object(n.jsx)(Tc.a,{variant:"primary",className:"m-3",onClick:function(){j&&t(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:da}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",responseType:"stream",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/consultants/admin/wk",e,s);case 6:i=t.sent,l=i.data,a({type:ua,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:ja,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(j))},children:"Update"}),Object(n.jsx)("p",{children:"Process could take a few minute"}),O&&Object(n.jsx)(Ic,{variant:"danger",children:O})]})}):Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:"Something wrong retry step 2"})})),3===s&&Object(n.jsx)(Nc.a.Control,{as:"textarea",rows:10,value:p&&p,readOnly:!0})]})})]}),Object(n.jsxs)(br.a.Footer,{children:[3===s&&Object(n.jsx)(Tc.a,{onClick:e.onHide,children:"Close"}),s<3&&Object(n.jsx)(Tc.a,{variant:"success",onClick:function(){return s+1<=3&&l(s+1)},disabled:3===s||1===s&&!j||2===s&&!p,children:"Next"})]})]}))},pr=ur.a.ExcelFile,mr=ur.a.ExcelFile.ExcelSheet,xr=ur.a.ExcelFile.ExcelColumn,fr=function(e){var t=e.history,a=(e.match,Object(i.b)()),r=Object(c.useState)(1e4),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(1),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(""),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(""),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)([]),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(c.useState)(!1),T=Object(Cc.a)(N,2),_=T[0],A=T[1],L=Object(i.c)((function(e){return e.userLogin})).userInfo,I=Object(i.c)((function(e){return e.consultantsMyAdminList})),D=I.loading,k=I.error,w=I.consultantsMyAdmin,U=I.pages,R=I.page,P=I.count,M=Object(i.c)((function(e){return e.consultantDelete})).success,F=Object(i.c)((function(e){return e.consultantsMassImport})),q=F.loading,G=F.error,z=F.success;Object(c.useEffect)((function(){L?a(mc(p,j,l)):t.push("/login")}),[a,t,L,j,l,p,z]),Object(c.useEffect)((function(){if(w){var e=w.map((function(e){return{NAME:e.name,EMAIL:e.email,PRACTICE:e.practice,MATRICULE:e.matricule,VALUED:e.valued?e.valued.substring(0,10):"",ARRIVAL:e.arrival?e.arrival.substring(0,10):"",LEAVING:e.leaving?e.leaving.substring(0,10):"",PARTIAL_TIME:e.isPartialTime.value,GRADE:e.grade,IS_CDM:e.isCDM,CDM_MATRICULE:e.cdmId&&e.cdmId.matricule,CDM_NAME:e.cdmId&&e.cdmId.name,COMMENT:e.comment}}));v(e)}}),[w]),Object(c.useEffect)((function(){M&&(a(mc(p,j,l)),a({type:Ot}))}),[a,M]),Object(c.useEffect)((function(){var e;E.length>0&&a((e=E,function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:aa}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/consultants/admin/mass-import",e,s);case 6:a({type:na}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:ca,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[a,E]);var B=function(e){var t;window.confirm("Are you sure to delete user: ".concat(e.name," ?"))&&a((t=e._id,function(){var e=Object(nc.a)(ac.a.mark((function e(a,n){var c,r,s;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:jt}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,rc.a.delete("/api/consultants/".concat(t),s);case 6:a({type:bt}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:ht,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Kc,{}),G&&Object(n.jsx)(Ic,{variant:"danger",children:G}),Object(n.jsx)(Or,{show:_,onHide:function(){return A(!1)}}),Object(n.jsx)(uc,{access:"updateConsultantsFromWK",children:Object(n.jsx)(Tc.a,{variant:"primary",onClick:function(){return A(!0)},children:"Import WK"})}),Object(n.jsx)(Bc,{title:"Manage consultants",close:!1,children:Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{xs:6,md:2,children:Object(n.jsxs)(Tc.a,{className:"mb-3",onClick:function(){t.push("/admin/consultant/add")},children:[Object(n.jsx)("i",{className:"fas fa-user-edit mr-2"}),"Add"]})}),Object(n.jsx)(Sc.a,{xs:6,md:2,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{type:"text",className:"mb-3",placeholder:"Search name",value:p&&p,onChange:function(e){return m(e.target.value)}})})}),Object(n.jsx)(Sc.a,{xs:6,md:2,children:Object(n.jsx)(Nc.a.Control,{plaintext:!0,readOnly:!0,value:P?"".concat(P," consultants found"):"0 consultant found"})}),Object(n.jsx)(Sc.a,{xs:6,md:2,children:q?Object(n.jsx)(kc,{}):Object(n.jsx)(or,{setImportData:C})}),Object(n.jsx)(Sc.a,{xs:6,md:2,children:g&&Object(n.jsx)(pr,{element:Object(n.jsxs)(Tc.a,{variant:"primary",children:[Object(n.jsx)("i",{className:"fas fa-download"}),"  Download"]}),children:Object(n.jsxs)(mr,{data:g,name:"consultantsSheet",children:[Object(n.jsx)(xr,{label:"NAME",value:"NAME"}),Object(n.jsx)(xr,{label:"EMAIL",value:"EMAIL"}),Object(n.jsx)(xr,{label:"PRACTICE",value:"PRACTICE"}),Object(n.jsx)(xr,{label:"MATRICULE",value:"MATRICULE"}),Object(n.jsx)(xr,{label:"VALUED",value:"VALUED"}),Object(n.jsx)(xr,{label:"ARRIVAL",value:"ARRIVAL"}),Object(n.jsx)(xr,{label:"LEAVING",value:"LEAVING"}),Object(n.jsx)(xr,{label:"PARTIAL_TIME",value:"PARTIAL_TIME"}),Object(n.jsx)(xr,{label:"GRADE",value:"GRADE"}),Object(n.jsx)(xr,{label:"IS_CDM",value:"IS_CDM"}),Object(n.jsx)(xr,{label:"CDM_MATRICULE",value:"CDM_MATRICULE"}),Object(n.jsx)(xr,{label:"CDM_NAME",value:"CDM_NAME"}),Object(n.jsx)(xr,{label:"COMMENT",value:"COMMENT"})]})})}),Object(n.jsx)(Sc.a,{xs:6,md:2,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"select",id:"number-c",className:"mb-3",value:l&&l,onChange:function(e){return o(e.target.value)},children:[5,10,15,20,50,1e4].map((function(e){return Object(n.jsx)("option",{value:e,children:1e4===e?"All (export)":"".concat(e," / page")},e)}))})})})]}),w&&0===w.length?Object(n.jsx)(Ic,{variant:"information",children:"You have not access to these information"}):D?Object(n.jsx)(kc,{}):k?Object(n.jsx)(Ic,{variant:"danger",children:k}):Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-primary",children:[Object(n.jsx)("th",{className:"align-middle text-light",children:"Consultant name"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Matricule"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Practice"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Valued"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Arrival"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Leaving"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Seniority"}),Object(n.jsx)("th",{className:"align-middle text-light"}),Object(n.jsx)("th",{className:"align-middle text-light"})]})}),Object(n.jsx)("tbody",{children:w&&w.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle",children:e.name}),Object(n.jsx)("td",{className:"align-middle",children:e.matricule}),Object(n.jsx)("td",{className:"align-middle",children:e.practice}),Object(n.jsx)("td",{className:"align-middle",children:e.valued?e.valued.substring(0,10):""}),Object(n.jsx)("td",{className:"align-middle",children:e.arrival?e.arrival.substring(0,10):""}),Object(n.jsx)("td",{className:"align-middle",children:e.leaving?e.leaving.substring(0,10):""}),Object(n.jsxs)("td",{className:"align-middle",children:[e.valued?((new Date(Date.now())-new Date(e.valued.substring(0,10)))/315576e5).toString().substring(0,4):0," years"]}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Tc.a,{className:"btn btn-primary p-1",onClick:function(){return a=e._id,void t.push("/editconsultant/".concat(a));var a},size:"sm",children:Object(n.jsx)("i",{className:"fas fa-user-edit"})})}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Tc.a,{className:"btn btn-danger p-1",onClick:function(){return B(e)},size:"sm",children:Object(n.jsx)("i",{className:"fas fa-user-times"})})})]},e._id)}))})]}),Object(n.jsxs)(jr.a,{children:[Object(n.jsx)(jr.a.Prev,{onClick:function(){return b(R-1)},disabled:1===R}),Object($c.a)(Array(U).keys()).map((function(e){return[0,1,U-2,U-1].includes(e)?Object(n.jsx)(jr.a.Item,{active:e+1===R,onClick:function(){a(mc(p,e+1,l)),b(e+1)},children:e+1},e+1):U>4&&2===e&&Object(n.jsx)(jr.a.Ellipsis,{},e+1)})),Object(n.jsx)(jr.a.Next,{onClick:function(){return b(R+1)},disabled:R===U})]})]})})]})},gr=function(e){var t=e.history,a=Object(i.b)(),r=Object(c.useState)(10),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(1),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(""),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(i.c)((function(e){return e.userLogin})).userInfo,f=Object(i.c)((function(e){return e.userList})),g=f.users,v=f.pages,y=f.page,S=f.count,E=Object(i.c)((function(e){return e.userDelete})),C=E.error,N=E.success;Object(c.useEffect)((function(){x?a(oc(x.consultantProfil.practice,p,j,l)):t.push("/login")}),[a,t,x,N,p,j,l]);var T=function(e){var t;window.confirm("Are you sure to delete user: ".concat(e.name," ?"))&&a((t=e._id,function(){var e=Object(nc.a)(ac.a.mark((function e(a,n){var c,r,s;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:fe}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,rc.a.delete("/api/users/".concat(t),s);case 6:a({type:ge}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:ve,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))};return Object(n.jsxs)(n.Fragment,{children:[C&&Object(n.jsx)(Ic,{variant:"danger",children:C}),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{className:"text-right",children:Object(n.jsxs)(Tc.a,{onClick:function(){return t.push("/admin/add-users")},children:[Object(n.jsx)("i",{className:"far fa-user"}),"  Create users"]})})}),Object(n.jsx)(Bc,{title:"Manage users",close:!1,children:Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{xs:6,md:3,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{type:"text",className:"mb-3",placeholder:"Search name",value:p&&p,onChange:function(e){return m(e.target.value)}})})}),Object(n.jsx)(Sc.a,{xs:6,md:6,children:Object(n.jsx)(Nc.a.Control,{plaintext:!0,readOnly:!0,value:S?"".concat(S," consultants found"):"0 consultant found"})}),Object(n.jsx)(Sc.a,{xs:6,md:3,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"select",id:"number-c",className:"mb-3",value:l&&l,onChange:function(e){return o(e.target.value)},children:[5,10,15,20,50].map((function(e){return Object(n.jsxs)("option",{value:e,children:[e," / page"]},e)}))})})})]}),Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-primary",children:[Object(n.jsx)("th",{className:"align-middle text-light",children:"User name"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Matricule"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Practice"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Created at"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Last connection"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Status"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"User Profil"}),Object(n.jsx)("th",{className:"align-middle text-light"}),Object(n.jsx)("th",{className:"align-middle text-light"})]})}),Object(n.jsx)("tbody",{children:g&&g.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)("b",{children:e.name&&e.name})}),Object(n.jsx)("td",{className:"align-middle",children:e.consultantProfil&&e.consultantProfil.matricule}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.consultantProfil&&e.consultantProfil.practice}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.createdAt&&e.createdAt.toString().substring(0,10)}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.lastConnexion&&e.lastConnexion.toString().substring(0,10)}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.status&&"Waiting approval"===e.status?Object(n.jsx)("i",{className:"far fa-clock",style:{color:"orange"}}):"Validated"===e.status?Object(n.jsx)("i",{className:"fas fa-check-circle",style:{color:"green"}}):"Refused"===e.status?Object(n.jsx)("i",{className:"fas fa-times",style:{color:"red"}}):"unknown"}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.profil&&e.profil.profil&&e.profil.profil}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Tc.a,{className:"btn btn-primary p-1",onClick:function(){return a=e._id,void t.push("/admin/edituser/".concat(a));var a},size:"sm",children:Object(n.jsx)("i",{className:"fas fa-user-edit"})})}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Tc.a,{className:"btn btn-danger p-1",onClick:function(){return T(e)},size:"sm",children:Object(n.jsx)("i",{className:"fas fa-user-times"})})})]},e._id)}))})]}),Object(n.jsxs)(jr.a,{children:[Object(n.jsx)(jr.a.Prev,{onClick:function(){return b(y-1)},disabled:1===y}),Object($c.a)(Array(v).keys()).map((function(e){return[0,1,v-2,v-1].includes(e)?Object(n.jsx)(jr.a.Item,{active:e+1===y,onClick:function(){a(oc(x.consultantProfil.practice,p,e+1,l)),b(e+1)},children:e+1},e+1):v>4&&2===e&&Object(n.jsx)(jr.a.Ellipsis,{},e+1)})),Object(n.jsx)(jr.a.Next,{onClick:function(){return b(y+1)},disabled:y===v})]})]})})]})},vr=function(){return function(){var e=Object(nc.a)(ac.a.mark((function e(t,a){var n,c,r,s,i;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:rn}),n=a(),c=n.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,rc.a.get("/api/access",r);case 6:s=e.sent,i=s.data,t({type:sn,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ln,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},yr=function(e){var t=e.match,a=e.history,r=t.params.id,s=Object(i.b)(),l=Object(c.useState)(""),o=Object(Cc.a)(l,2),d=o[0],u=o[1],j=Object(c.useState)(""),b=Object(Cc.a)(j,2),h=b[0],O=b[1],p=Object(c.useState)(""),m=Object(Cc.a)(p,2),x=m[0],f=m[1],g=Object(c.useState)(""),v=Object(Cc.a)(g,2),y=v[0],S=v[1],E=Object(c.useState)(""),C=Object(Cc.a)(E,2),N=C[0],T=C[1],_=Object(i.c)((function(e){return e.userLogin})).userInfo,A=Object(i.c)((function(e){return e.userDetails})),L=A.error,I=A.loading,D=A.user,k=Object(i.c)((function(e){return e.userUpdate})),w=k.error,U=k.success,R=Object(i.c)((function(e){return e.consultantsMyAdminList})),P=R.error,M=R.consultantsMyAdmin,F=Object(i.c)((function(e){return e.accessList})).access;Object(c.useEffect)((function(){_||a.push("/login")}),[a,_]),Object(c.useEffect)((function(){I||L||D&&D._id===r||s(lc(r))}),[s,D,L,r,I]),Object(c.useEffect)((function(){D&&(u(D.name),O(D.email),S(D.profil),T(D.status),D.consultantProfil?f(D.consultantProfil._id):f(""))}),[D]),Object(c.useEffect)((function(){D&&D._id===r&&s(mc("","",1e4))}),[s,D,r]),Object(c.useEffect)((function(){F||s(vr())}),[s,F]);return Object(n.jsxs)(n.Fragment,{children:[L&&Object(n.jsx)(Ic,{variant:"danger",children:L}),P&&Object(n.jsx)(Ic,{variant:"danger",children:P}),w&&Object(n.jsx)(Ic,{variant:"danger",children:w}),U&&Object(n.jsx)(Ic,{variant:"success",children:"User updated with success"}),Object(n.jsx)(Tc.a,{className:"mb-3",onClick:function(){return a.go(-1),void s({type:Ne})},children:"Go Back"}),Object(n.jsx)(wc,{children:Object(n.jsxs)(Nc.a,{onSubmit:function(e){e.preventDefault();var t=Object(Re.a)(Object(Re.a)({},D),{},{name:d,email:h,consultantProfil:x,profil:y._id,status:N});s(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Se}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/users/".concat(e._id),e,s);case 6:a({type:Ee}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:Ce,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},children:[Object(n.jsxs)(Nc.a.Group,{controlId:"name",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Name"})}),Object(n.jsx)(Nc.a.Control,{type:"name",placeholder:"Enter Name",value:d&&d,onChange:function(e){return u(e.target.value)},required:!0})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"email",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Email address"})}),Object(n.jsx)(Nc.a.Control,{type:"email",placeholder:"Enter email",value:h&&h,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"consultantProfil",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Linked Consultant Profil"})}),Object(n.jsxs)(Pc.a,{children:[Object(n.jsx)(Nc.a.Control,{as:"select",placeholder:"Enter consultant to link",value:x&&x,onChange:function(e){return f(e.target.value)},required:!0,children:M&&M.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))}),Object(n.jsx)(Pc.a.Append,{children:Object(n.jsx)(Tc.a,{onClick:function(){return a.push("/editconsultant/".concat(x))},children:"Edit user"})})]})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"user-profil",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"User profil"})}),Object(n.jsxs)(Nc.a.Control,{as:"select",value:y&&y.profil?y.profil:"",onChange:function(e){return function(e){var t=F.filter((function(t){return t.profil===e}))[0];S(t)}(e.target.value)},required:!0,children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),F&&F.map((function(e){return Object(n.jsx)("option",{value:e.profil,children:e.profil},e._id)}))]})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"status",children:[Object(n.jsx)(Nc.a.Label,{children:Object(n.jsx)("b",{children:"Account Status"})}),Object(n.jsx)(Nc.a.Control,{as:"select",placeholder:"Select status for account",value:N&&N,onChange:function(e){return T(e.target.value)},required:!0,children:Ue.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),Object(n.jsx)(Tc.a,{type:"submit",variant:"primary",children:"Update"})]})})]})},Sr=function(e){var t=e.location,a=e.history,r=Object(c.useState)(""),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(""),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(""),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(""),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(null),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(i.b)(),T=Object(i.c)((function(e){return e.userRegister})),_=T.loading,A=T.error,L=T.userInfo,I=t.search?t.search.split("=")[1]:"/";Object(c.useEffect)((function(){L&&a.push(I)}),[a,L,I]);return Object(n.jsxs)(wc,{children:[Object(n.jsx)("h1",{children:"Sign Up"}),E&&Object(n.jsx)(Ic,{variant:"danger",children:E}),A&&Object(n.jsx)(Ic,{variant:"danger",children:A}),_&&Object(n.jsx)(kc,{}),Object(n.jsxs)(Nc.a,{onSubmit:function(e){!1===e.currentTarget.checkValidity()?C("Please check your information"):(e.preventDefault(),C(null),p!==g?C("Passwords do not match"):N(function(e,t,a){return function(){var n=Object(nc.a)(ac.a.mark((function n(c){var r,s,i;return ac.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:ne}),r={headers:{"Content-type":"Application/json"}},n.next=5,rc.a.post("/api/users",{name:e,email:t,password:a},r);case 5:s=n.sent,i=s.data,c({type:ce,payload:i}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),c({type:re,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(l,j,p)))},children:[Object(n.jsxs)(Nc.a.Group,{controlId:"name",children:[Object(n.jsx)(Nc.a.Label,{children:"Name"}),Object(n.jsx)(Nc.a.Control,{type:"name",placeholder:"Enter Name",value:l,onChange:function(e){return o(e.target.value)}})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"email",children:[Object(n.jsx)(Nc.a.Label,{children:"Email Adress"}),Object(n.jsx)(Nc.a.Control,{type:"email",placeholder:"Enter Email",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"password",children:[Object(n.jsx)(Nc.a.Label,{children:"Password"}),Object(n.jsx)(Nc.a.Control,{type:"password",placeholder:"Enter password",value:p,onChange:function(e){return m(e.target.value)}})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"confirm-password",children:[Object(n.jsx)(Nc.a.Label,{children:"Confirm Password"}),Object(n.jsx)(Nc.a.Control,{type:"password",placeholder:"Confirm password",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(n.jsx)(Tc.a,{type:"submit",variat:"primary",children:"Register"}),Object(n.jsx)(yc.a,{className:"py-3",children:Object(n.jsxs)(Sc.a,{children:["Have an account ?",Object(n.jsx)(Vn.Link,{to:I?"/login?reditect=".concat(I):"/login",children:"Login"})]})})]})]})},Er=a(66),Cr=a(102),Nr=a(64),Tr=function(e){var t=e.history,a=e.onHide,r=e.show,s=e.consultant,l=e.loadingData,o=void 0===l?{}:l,d=e.mode,u=e.addStaffHandler,j=Object(i.b)(),b=Object(c.useState)(o.responsability?o.responsability:""),h=Object(Cc.a)(b,2),O=h[0],p=h[1],m=Object(c.useState)(o.priority?o.priority:""),x=Object(Cc.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(o.information?o.information:""),y=Object(Cc.a)(v,2),S=y[0],E=y[1],C=Object(i.c)((function(e){return e.consultantGetCdm})).cdm;return Object(c.useEffect)((function(){var e;r&&j((e=s._id,function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:_t}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/consultants/".concat(e,"/cdm"),s);case 6:i=t.sent,l=i.data,a({type:At,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Lt,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[j,s,r]),Object(n.jsxs)(br.a,{show:r,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:a,children:[Object(n.jsx)(br.a.Header,{closeButton:!0,children:Object(n.jsx)(br.a.Title,{id:"contained-modal-title-vcenter",children:s.name?s.name+" - "+s.grade+(C?" ("+C.name+")":""):""})}),Object(n.jsxs)(br.a.Body,{children:["staffing"===d&&Object(n.jsxs)(uc,{access:"editStaff",children:[Object(n.jsxs)(yc.a,{children:[Object(n.jsxs)(Sc.a,{className:"mt-3",children:[Object(n.jsx)("label",{htmlFor:"sd-responsability",children:Object(n.jsx)("strong",{children:"Responsability *"})}),Object(n.jsx)(Pc.a,{id:"sd-responsability",children:Object(n.jsxs)(Vc.a,{as:"select",value:O,onChange:function(e){return p(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),Object(n.jsx)("option",{value:"Project director",children:"Project director"}),Object(n.jsx)("option",{value:"Project manager",children:"Project manager"}),Object(n.jsx)("option",{value:"Project leader",children:"Project leader"}),Object(n.jsx)("option",{value:"X",children:"X"}),Object(n.jsx)("option",{value:"Intern",children:"Intern"})]})})]}),Object(n.jsxs)(Sc.a,{className:"mt-3",children:[Object(n.jsx)("label",{htmlFor:"sd-priority",children:Object(n.jsx)("strong",{children:"Priority *"})}),Object(n.jsx)(Pc.a,{id:"sd-priority",children:Object(n.jsxs)(Vc.a,{as:"select",value:f,onChange:function(e){return g(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),Object(n.jsx)("option",{value:"P1",children:"P1"}),Object(n.jsx)("option",{value:"P2",children:"P2"}),Object(n.jsx)("option",{value:"P3",children:"P3"})]})})]})]}),Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{className:"mt-3",children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Comment"})}),Object(n.jsx)(Pc.a,{id:"sd-information",children:Object(n.jsx)(Vc.a,{as:"textarea",rows:3,value:S,onChange:function(e){return E(e.target.value)}})})]})})]}),Object(n.jsx)(uc,{access:"viewSkills",children:Object(n.jsx)(rr,{consultantId:s._id,editable:!1,close:"consultation"!==d})}),Object(n.jsx)(uc,{access:"viewStaffings",children:Object(n.jsx)(Bc,{title:"Others staffings",close:!1,children:Object(n.jsx)(Yc,{history:t,consultantId:s._id,onNavigate:a})})}),Object(n.jsx)(Bc,{title:"Old staffings",close:!0,children:Object(n.jsx)(Zc,{history:t,consultantId:s._id,onNavigate:a})})]}),Object(n.jsxs)(br.a.Footer,{children:[Object(n.jsx)(Tc.a,{onClick:a,variant:"secondary",children:"Cancel"}),Object(n.jsx)(uc,{access:"editStaff",children:"staffing"===d&&Object(n.jsx)(Tc.a,{onClick:function(){u(s,O,f,S),a()},variant:"primary",disabled:!(""!==O&&""!==f),children:"Staff"})})]})]})},_r=function(e){var t=e.editRequest,a=e.label,c=e.id,r=e.value,s=e.onChange,i=e.required,l=e.options;return Object(n.jsxs)(Nc.a.Group,{controlId:c,className:"mb-0",children:[a&&Object(n.jsxs)(Nc.a.Label,{as:"h5",children:[a," ",t&&i&&"*"]}),t?Object(n.jsx)(Nc.a.Control,{as:"select",className:"custom-select border border-light border-top-0 border-right-0 border-left-0",value:r||"",onChange:function(e){return s(e.target.value)},required:i,children:l}):Object(n.jsx)(Nc.a.Control,{type:"text",className:"pl-3 border border-light border-top-0 border-right-0 border-left-0 bg-light text-secondary",plaintext:!0,value:r||"",readOnly:!0})]})},Ar=a(273),Lr=function(e){var t=e.options,a=e.value,c=e.setValue,r=e.disabled,s=e.multi;return Object(n.jsx)("div",{children:Object(n.jsx)(Ar.a,{closeMenuOnSelect:!0,placeholder:"Select...",value:a||null,isMulti:s,options:t||[],onChange:function(e){var t=[];t=s?e.map((function(e){return{id:e.value,value:e.label}})):[{id:e.value,value:e.label}],c(t)},isDisabled:r})})},Ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"15";return function(){var c=Object(nc.a)(ac.a.mark((function c(r,s){var i,l,o,d,u;return ac.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:Oa}),i=s(),l=i.userLogin.userInfo,o={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(l.token)}},c.next=6,rc.a.get("/api/skills?category=".concat(e,"&name=").concat(t,"&pageNumber=").concat(a,"&pageSize=").concat(n),o);case 6:d=c.sent,u=d.data,r({type:pa,payload:u}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),r({type:ma,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e,t){return c.apply(this,arguments)}}()},Dr=function(e){var t=e.monthData,a=e.grades,c=e.mode,r=e.addStaff,s=e.focus,l=e.setFocus,o=Object(i.c)((function(e){return e.userLogin})).userInfo,d=function(e){var t=e.split(" ");return 1===t.length?t[0]:t.map((function(e,t){return 0===t?e[0].toUpperCase()+".":e.toUpperCase()})).join(" ")};return Object(n.jsxs)(Er.a,{className:"my-1 rounded",children:[Object(n.jsx)(Er.a.Header,{as:"h5",children:t.month.firstDay.toString().substring(0,7)}),Object(n.jsx)(Er.a.Body,{children:t.availabilities.map((function(e,t){return a.includes(e.grade)&&Object(n.jsxs)(yc.a,{className:"align-items-middle",children:[("staffing"===c||"consultation"===c)&&Object(n.jsx)(Sc.a,{sm:1,children:Object(n.jsx)(Tc.a,{size:"sm",variant:"ligth",className:"mx-0 px-0",onClick:function(){return r(e)},children:Object(n.jsx)("i",{className:"fas fa-search"})})}),Object(n.jsx)(Sc.a,{sm:10,children:Object(n.jsx)(er.a,{overlay:Object(n.jsx)(tr.a,{id:"tooltip-disabled",html:"true",children:Object(n.jsx)(uc,{access:"viewComment",children:o&&o.consultantProfil._id!==e._id?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:"m-0 p-0 text-left",children:Object(n.jsx)("strong",{children:"Information"})}),e.comment&&e.comment.split("\n").map((function(e,t){return Object(n.jsx)("p",{className:"m-0 p-0 text-left",children:e},t)}))]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:"m-0 mt-3 p-0 text-left",children:Object(n.jsx)("strong",{children:"Availability comment"})}),e.availabilityComment&&e.availabilityComment.split("\n").map((function(e,t){return Object(n.jsx)("p",{className:"m-0 p-0 text-left",children:e},t)}))]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:"m-0 mt-3 p-0 text-left",children:Object(n.jsx)("strong",{children:"Not Prod comment"})}),e.notProdComment&&e.notProdComment.split("\n").map((function(e,t){return Object(n.jsx)("p",{className:"m-0 p-0 text-left",children:e},t)}))]})]}):"No access to this data"})}),children:Object(n.jsx)(Nc.a.Control,{plaintext:!0,readOnly:!0,id:e.email,value:e.availableDay.toString()+" days : "+d(e.name)+" ("+(i=e.valued,(i?((Date.now()-new Date(i))/315576e5).toString().substring(0,4):"-")+" years)"),style:e.email===s?{background:"#464277",color:"white"}:{color:"black"},onFocus:function(e){l(e.target.id)}})})})]},t);var i}))})]})},kr=function(e){var t=e.start,a=e.end,r=e.mode,s=e.addStaffHandler,l=e.history,o=Object(i.b)(),d=Object(c.useState)(""),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(""),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(""),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(""),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(c.useState)([]),T=Object(Cc.a)(N,2),_=T[0],A=T[1],L=Object(c.useState)("filterAvailable"),I=Object(Cc.a)(L,2),D=I[0],k=I[1],w=Object(c.useState)(!1),U=Object(Cc.a)(w,2),R=U[0],P=U[1],M=Object(c.useState)(""),F=Object(Cc.a)(M,2),q=F[0],G=F[1],z=Object(i.c)((function(e){return e.userLogin})).userInfo,B=Object(i.c)((function(e){return e.pxxAvailabilities})),X=B.loading,H=B.error,Q=B.availabilities,K=Object(i.c)((function(e){return e.skillList})).skills;Object(c.useEffect)((function(){z.consultantProfil.practice&&C(z.consultantProfil.practice)}),[z.consultantProfil.practice]),Object(c.useEffect)((function(){E&&o(Mc(E,t,a,_.map((function(e){return e.value})).join(";"),p,g,D))}),[o,E,t,a,D,_,p,g]),Object(c.useEffect)((function(){o(Ir("","",1,1e4))}),[o]);var V=function(e){P(!0),G(e)};return Object(n.jsxs)(n.Fragment,{children:[R&&Object(n.jsx)(Tr,{show:R,onHide:function(){return P(!1)},consultant:q,mode:r,addStaffHandler:s,history:l}),Object(n.jsx)(yc.a,{className:"mt-5",children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Nc.a.Group,{controlId:"switch-practices",className:"my-0",children:Object(n.jsx)(Nc.a.Check,{type:"switch",id:"switch-all-practices",label:"All practices",checked:"all"===E,onChange:function(e){!0===e.target.checked?C("all"):C(z.consultantProfil.practice)}})})})}),Object(n.jsx)(yc.a,{className:"mt-3",children:Object(n.jsx)(Sc.a,{md:12,children:Object(n.jsx)(Nc.a,{onSubmit:function(e){e.preventDefault(),o(Mc(E,t,a,_.map((function(e){return e.value})).join(";"),p,g,D))},children:Object(n.jsxs)(Nc.a.Row,{className:"align-items-center mb-3",children:[Object(n.jsx)(Sc.a,{md:1,children:p||g?Object(n.jsx)(Tc.a,{variant:"secondary",onClick:function(){A([]),m(""),v("")},block:!0,children:Object(n.jsx)("i",{className:"fas fa-minus-circle"})}):Object(n.jsx)(Tc.a,{variant:"primary",disabled:!0,block:!0,children:Object(n.jsx)("i",{className:"fas fa-keyboard"})})}),Object(n.jsx)(Sc.a,{md:4,children:Object(n.jsx)(Nc.a.Group,{controlId:"skill-search",className:"my-0",children:Object(n.jsx)(Lr,{options:K?K.map((function(e){return{value:e._id,label:e.name}})):[],value:_.length?_.map((function(e){return{value:e._id,label:e.value}})):[],setValue:A,multi:!0,disabled:!1})})}),Object(n.jsx)(Sc.a,{md:2,children:Object(n.jsx)(Nc.a.Group,{controlId:"experience-search-start",className:"my-0",children:Object(n.jsx)(Nc.a.Control,{type:"number",min:0,step:.5,placeholder:"From (year)",value:p&&p,onChange:function(e){return m(e.target.value)}})})}),Object(n.jsx)(Sc.a,{md:2,children:Object(n.jsx)(Nc.a.Group,{controlId:"experience-search-end",className:"my-0",children:Object(n.jsx)(Nc.a.Control,{type:"number",step:.5,min:p||0,placeholder:"To (year)",value:g&&g,onChange:function(e){return v(e.target.value)}})})}),Object(n.jsx)(Sc.a,{md:2,children:Object(n.jsx)(Nc.a.Group,{controlId:"switch-only-available",className:"my-0",children:Object(n.jsx)(_r,{editRequest:!0,label:"",id:"select-filter",value:D,onChange:k,required:!0,options:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("option",{value:"filterAvailable",children:"Is available"}),Object(n.jsx)("option",{value:"notAvailable",children:"Is not available"}),Object(n.jsx)("option",{value:"notProd",children:"Has not prod"})]})})})}),Object(n.jsx)(Sc.a,{md:1,children:Object(n.jsx)(Tc.a,{type:"submit",variant:"primary",block:!0,children:"Search"})})]})})})}),Object(n.jsxs)(Cr.a,{defaultActiveKey:"Analysts",id:"uncontrolled-tab-example",children:[Object(n.jsx)(Nr.a,{eventKey:"Intern",title:"Intern",children:Object(n.jsx)(yc.a,{className:"mt-3",children:X?Object(n.jsx)(kc,{}):H?Object(n.jsx)(Ic,{variant:"danger",children:H}):Q&&Q.map((function(e,t){return Object(n.jsx)(Sc.a,{sm:12,md:4,children:Object(n.jsx)(Dr,{monthData:e,grades:["Intern"],mode:r,addStaff:V,focus:j,setFocus:b})},t)}))})}),Object(n.jsx)(Nr.a,{eventKey:"Analysts",title:"Analysts",children:Object(n.jsx)(yc.a,{className:"mt-3",children:X?Object(n.jsx)(kc,{}):H?Object(n.jsx)(Ic,{variant:"danger",children:H}):Q&&Q.map((function(e,t){return Object(n.jsx)(Sc.a,{sm:12,md:4,children:Object(n.jsx)(Dr,{monthData:e,grades:["Analyst"],mode:r,addStaff:V,focus:j,setFocus:b})},t)}))})}),Object(n.jsx)(Nr.a,{eventKey:"Consultants",title:"Consultants",children:Object(n.jsx)(yc.a,{className:"mt-3",children:X?Object(n.jsx)(kc,{}):H?Object(n.jsx)(Ic,{variant:"danger",children:H}):Q&&Q.map((function(e,t){return Object(n.jsx)(Sc.a,{sm:12,md:4,children:Object(n.jsx)(Dr,{monthData:e,grades:["Consultant"],mode:r,addStaff:V,focus:j,setFocus:b})},t)}))})}),Object(n.jsx)(Nr.a,{eventKey:"Senior consultants",title:"Senior consultants",children:Object(n.jsx)(yc.a,{className:"mt-3",children:X?Object(n.jsx)(kc,{}):H?Object(n.jsx)(Ic,{variant:"danger",children:H}):Q&&Q.map((function(e,t){return Object(n.jsx)(Sc.a,{sm:12,md:4,children:Object(n.jsx)(Dr,{monthData:e,grades:["Senior consultant"],mode:r,addStaff:V,focus:j,setFocus:b})},t)}))})}),Object(n.jsx)(Nr.a,{eventKey:"Managers",title:"Managers and +",children:Object(n.jsx)(yc.a,{className:"mt-3",children:X?Object(n.jsx)(kc,{}):H?Object(n.jsx)(Ic,{variant:"danger",children:H}):Q&&Q.map((function(e,t){return Object(n.jsx)(Sc.a,{sm:12,md:4,children:Object(n.jsx)(Dr,{monthData:e,grades:["Manager","Senior manager","Director","Partner"],mode:r,addStaff:V,focus:j,setFocus:b})},t)}))})})]})]})},wr=function(e){var t=e.tace,a=e.practice,r=Object(i.b)(),s=Object(c.useState)(t.target),l=Object(Cc.a)(s,2),o=l[0],d=l[1],u=Object(c.useState)(t.bid),j=Object(Cc.a)(u,2),b=j[0],h=j[1],O=Object(c.useState)(!1),p=Object(Cc.a)(O,2),m=p[0],x=p[1],f=Object(c.useState)(!1),g=Object(Cc.a)(f,2),v=g[0],y=g[1],S=Object(c.useState)(""),E=Object(Cc.a)(S,2),C=E[0],N=E[1],T=Object(c.useState)(""),_=Object(Cc.a)(T,2),A=_[0],L=_[1],I=Object(i.c)((function(e){return e.createTace}));return Object(c.useEffect)((function(){var e;v&&(r((e={month:t.month._id,practice:a,target:o,bid:b},function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Dn}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.post("/api/tace",e,s);case 6:i=t.sent,l=i.data,a({type:kn,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:wn,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}())),y(!1))}),[r,I,v,a,t,o,b]),Object(c.useEffect)((function(){var e=Number(t.totalProdDay),a=Number(b)/100*(Number(t.totalProdDay)+Number(t.totalNotProdDay)+Number(t.totalAvailableDay)),n=Number(o)/100*(Number(t.totalProdDay)+Number(t.totalNotProdDay)+Number(t.totalAvailableDay)),c=new Date(Math.max(new Date(Date.now()),new Date(t.month.firstDay))),r=new Date(Math.max(new Date(Date.now()),new Date(t.month.firstDay)));r.setUTCMonth(r.getUTCMonth()+1),r.setUTCDate(1);var s=(r-c)/864e5;b&&N((e-a)/s);o&&L((e-n)/s)}),[t,b,o]),Object(n.jsx)(Sc.a,{sm:12,md:4,children:Object(n.jsxs)(Er.a,{className:"my-3 p-3 rounded",children:[Object(n.jsx)(Er.a.Header,{as:"h5",children:t.month.firstDay.toString().substring(0,7)}),Object(n.jsxs)(Er.a.Body,{className:"p-1 mt-3",children:[Object(n.jsxs)(Er.a.Text,{as:"h4",children:["Tace ",Object(n.jsx)(uc,{access:"editTace",children:Object(n.jsx)(Tc.a,{size:"sm",variant:"ligth",onClick:function(){m&&y(!0),x(!m)},children:Object(n.jsx)("i",{className:"fas fa-edit"})})})]}),Object(n.jsxs)(Rc.a,{children:[Object(n.jsx)(Rc.a.Item,{className:"py-1 bg-primary text-white",children:Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{className:"text-center",xs:4,children:Object(n.jsx)("strong",{children:"Current"})}),Object(n.jsx)(Sc.a,{className:"text-center",xs:4,children:Object(n.jsx)("strong",{children:"Target"})}),Object(n.jsx)(Sc.a,{className:"text-center",xs:4,children:Object(n.jsx)("strong",{children:"Bid"})})]})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsxs)(yc.a,{className:"align-items-center",children:[Object(n.jsxs)(Sc.a,{className:"text-center",xs:4,children:[(100*Number(t.totalTACE)).toFixed(1)," %"]}),Object(n.jsx)(Sc.a,{className:"text-center",xs:4,children:Object(n.jsx)(Nc.a.Group,{controlId:"tace-target",className:"mb-0",children:m?Object(n.jsx)(Nc.a.Control,{type:"Number",className:"text-center",min:0,max:100,step:.1,value:o,onChange:function(e){return d(e.target.value)}}):Object(n.jsxs)(yc.a,{className:"align-items-center",children:[Object(n.jsx)(Sc.a,{className:"m-0 p-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",className:"text-right",plaintext:!0,value:o,readOnly:!0})}),Object(n.jsx)(Sc.a,{className:"m-0 p-0 text-left",children:"\xa0%"})]})})}),Object(n.jsx)(Sc.a,{className:"text-center",xs:4,children:Object(n.jsx)(Nc.a.Group,{controlId:"title",className:"mb-0",children:m?Object(n.jsx)(Nc.a.Control,{type:"Number",className:"text-center",min:0,max:100,step:.1,value:b,onChange:function(e){return h(e.target.value)}}):Object(n.jsxs)(yc.a,{className:"align-items-center",children:[Object(n.jsx)(Sc.a,{className:"m-0 p-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",className:"text-right",plaintext:!0,value:b,readOnly:!0})}),Object(n.jsx)(Sc.a,{className:"m-0 p-0 text-left",children:"\xa0%"})]})})})]})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{xs:4,children:"\u0394 FTE"}),Object(n.jsx)(Sc.a,{xs:4,className:"text-center",children:A&&A.toFixed(2)}),Object(n.jsx)(Sc.a,{xs:4,className:"text-center",children:C&&C.toFixed(2)})]})})]}),Object(n.jsxs)(Rc.a,{className:"mt-3",children:[Object(n.jsx)(Rc.a.Item,{className:"py-1 bg-primary text-white",children:Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)("strong",{children:"Leaving"})})})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{className:"text-right",children:[(100*Number(t.totalLeaving)).toFixed(2)," %"]})})})]}),Object(n.jsxs)(Rc.a,{className:"mt-3",children:[Object(n.jsx)(Rc.a.Item,{className:"py-1 bg-primary text-white",children:Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)("strong",{children:"FTE"})})})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{className:"text-right",children:t.totalETP&&t.totalETP.toFixed(2)})})})]})]}),Object(n.jsx)(Er.a.Footer,{className:"mt-3",children:Object(n.jsx)(uc,{access:"tace",children:Object(n.jsx)(Vn.Link,{to:"/pxxdetails/".concat(t.month._id),children:"View details"})})})]})})},Ur=function(e){var t=e.history,a=Object(i.b)(),r=new Date(Date.now());r.setUTCDate(1),r.setUTCMonth(r.getUTCMonth()),r=r.toISOString().substring(0,10);var s=new Date(Date.now());s.setUTCDate(1),s.setUTCMonth(s.getUTCMonth()+3-1),s=s.toISOString().substring(0,10);var l=Object(c.useState)(r),o=Object(Cc.a)(l,2),d=o[0],u=o[1],j=Object(c.useState)(s),b=Object(Cc.a)(j,2),h=b[0],O=b[1],p=Object(i.c)((function(e){return e.userLogin})).userInfo,m=Object(i.c)((function(e){return e.pxxTACE})),x=m.loading,f=m.error,g=m.tace;Object(c.useEffect)((function(){p||t.push("/login")}),[t,p]),Object(c.useEffect)((function(){p&&!x&&a(function(e,t,a){return function(){var n=Object(nc.a)(ac.a.mark((function n(c,r){var s,i,l,o,d;return ac.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:S}),s=r(),i=s.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(i.token)}},n.next=6,rc.a.get("/api/pxx/chart/tace?practice=".concat(e,"&start=").concat(t,"&end=").concat(a),l);case 6:o=n.sent,d=o.data,c({type:E,payload:d}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),c({type:C,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(p.consultantProfil.practice,d,h))}),[a,d,h,p.consultantProfil.practice]);var v=function(e){var t=new Date(d),a=new Date(h);t.setUTCMonth(t.getUTCMonth()+e),a.setUTCMonth(a.getUTCMonth()+e),u(t.toISOString().substring(0,10)),O(a.toISOString().substring(0,10))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Kc,{}),Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{className:"text-center",xs:2,children:Object(n.jsx)(Tc.a,{variant:"primary",size:"sm",onClick:function(){return v(-1)},children:Object(n.jsx)("i",{className:"fas fa-caret-left"})})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{type:"text",id:"start-date",className:"form-control-lg mb-3 text-right",plaintext:!0,value:d&&"From: ".concat(d.substring(0,7).replace("-","/")),readOnly:!0})})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{type:"text",id:"date-end",className:"form-control-lg mb-3 text-left",plaintext:!0,value:h&&"To: ".concat(h.substring(0,7).replace("-","/")),readOnly:!0})})}),Object(n.jsx)(Sc.a,{className:"text-center",xs:2,children:Object(n.jsx)(Tc.a,{variant:"primary",size:"sm",onClick:function(){return v(1)},children:Object(n.jsx)("i",{className:"fas fa-caret-right"})})})]}),Object(n.jsx)(uc,{access:"tace",children:Object(n.jsxs)(Bc,{title:"TACE",close:!1,children:[Object(n.jsx)(yc.a,{className:"mt-3",children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)("h4",{children:["TACE (",p&&p.consultantProfil.practice,")"]})})}),Object(n.jsx)(yc.a,{className:"mt-1",children:x?Object(n.jsx)(kc,{}):f?Object(n.jsx)(Ic,{variant:"danger",children:f}):g&&g.map((function(e,t){return Object(n.jsx)(wr,{tace:e,practice:p&&p.consultantProfil.practice},t)}))})]})}),Object(n.jsx)(uc,{access:"consoDispo",children:Object(n.jsx)(Bc,{title:"Availabilities",close:!0,children:Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(kr,{start:d,end:h,mode:"consultation",history:t})})})})})]})},Rr=a(185),Pr=a(150),Mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var n=Object(nc.a)(ac.a.mark((function n(c,r){var s,i,l,o,d;return ac.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:pn}),s=r(),i=s.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(i.token)}},n.next=6,rc.a.get("/api/clients?clientName=".concat(e,"&pageNumber=").concat(t,"&pageSize=").concat(a),l);case 6:o=n.sent,d=o.data,c({type:mn,payload:d}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),c({type:xn,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},Fr=function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:gn}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.post("/api/clients",e,s);case 6:i=t.sent,l=i.data,a({type:vn,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:yn,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},qr=function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:En}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/clients",e,s);case 6:i=t.sent,l=i.data,a({type:Cn,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Nn,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},Gr=a(272),zr=function(e){var t=e.company,a=e.setCompany,r=e.editRequest,s=Object(i.b)(),l=Object(i.c)((function(e){return e.clientAll})).clients,o=Object(i.c)((function(e){return e.clientCreate})).success;Object(c.useEffect)((function(){s(Mr(""))}),[s,o]);return Object(n.jsx)(yc.a,{className:"align-items-end",children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Gr.a,{placeholder:"Select a company",isClearable:!0,onChange:function(e){e?(l.map((function(e){return e._id})).includes(e.value)||s(Fr([{name:e.label,commercialTeam:[]}])),a(e.label)):a("")},value:t&&""!==t.label?t:null,options:l&&l.map((function(e){return{value:e._id,label:e.name}})),isDisabled:!r})})})},Br=function(e){var t=e.label,a=e.id,c=e.placeholder,r=e.value,s=e.onChange,i=e.required,l=e.editMode;return Object(n.jsxs)(Nc.a.Group,{controlId:a,className:"mb-0",children:[Object(n.jsxs)(Nc.a.Label,{children:[t," ",l&&i&&"*"]}),l?Object(n.jsx)(Nc.a.Control,{className:"border border-light border-top-0 border-right-0 border-left-0",type:"date",placeholder:c,value:r||"",onChange:function(e){return s(e.target.value)},required:i}):Object(n.jsx)(Nc.a.Control,{className:"border border-light border-top-0 border-right-0 border-left-0 bg-light text-secondary",type:"date",value:r||"",plaintext:!0,readOnly:!0})]})},Xr=function(e){var t=e.label,a=e.placeholder,c=e.id,r=e.min,s=(e.max,e.step),i=e.value,l=e.onChange,o=e.required,d=e.editRequest;return Object(n.jsxs)(Nc.a.Group,{controlId:c,className:"mb-0",children:[Object(n.jsxs)(Nc.a.Label,{children:[t," ",d&&o&&"*"]}),d?Object(n.jsx)(Nc.a.Control,{className:"border border-light border-top-0 border-right-0 border-left-0",type:"number",placeholder:a,min:Number(r),step:Number(s),value:i?Number(i):0,onChange:function(e){return l(e.target.value)},required:o}):Object(n.jsx)(Nc.a.Control,{type:"number",className:"border border-light border-top-0 border-right-0 border-left-0 bg-light text-secondary",value:i||0,plaintext:!0,readOnly:!0})]})},Hr=function(e){var t=e.label,a=e.id,c=e.placeholder,r=e.value,s=e.onChange,i=e.required,l=e.editRequest,o=e.formInline;return Object(n.jsxs)(Nc.a.Group,{controlId:a,className:o?"mb-0 form-inline":"mb-0 ",children:[Object(n.jsxs)(Nc.a.Label,{as:"h5",children:[t," ",l&&i&&"*"]}),l?Object(n.jsx)(Nc.a.Control,{type:"text",className:"border border-light border-top-0 border-right-0 border-left-0",placeholder:c,value:r||"",onChange:function(e){return s(e.target.value)},required:i}):Object(n.jsx)(Nc.a.Control,{type:"text",className:"pl-3 border border-light border-top-0 border-right-0 border-left-0 bg-light text-secondary",plaintext:!0,value:r||"",readOnly:!0})]})},Qr=function(e){var t=e.label,a=e.id,c=e.editRequest,r=e.required,s=e.value,i=e.onChange,l=e.options,o=function(){for(var e=[],t=document.getElementById(a),n=0;n<t.options.length;n++)t.options[n].selected&&e.push(t.options[n].value);i(e)};return Object(n.jsxs)(Nc.a.Group,{controlId:a,className:"mb-0",children:[Object(n.jsxs)(Nc.a.Label,{as:"h5",children:[t," ",c&&r&&"*"]}),c?Object(n.jsx)(Nc.a.Control,{as:"select",className:"custom-select border border-light border-top-0 border-right-0 border-left-0",multiple:!0,value:s||[],onChange:function(e){return o()},children:l}):Object(n.jsx)(Nc.a.Control,{type:"text",className:"pl-3 border border-light border-top-0 border-right-0 border-left-0 bg-light text-secondary",value:s?s.join(", "):"",plaintext:!0,readOnly:!0})]})},Kr=function(e){var t=e.label,a=e.id,c=e.editRequest,r=e.required,s=e.placeholder,i=e.value,l=e.onChange,o=e.rows;return Object(n.jsxs)(Nc.a.Group,{controlId:a,className:"mb-0",children:[Object(n.jsxs)(Nc.a.Label,{as:"h5",children:[t," ",c&&r&&"*"]}),c?Object(n.jsx)(Nc.a.Control,{as:"textarea",rows:o,className:"custom-select border border-light border-top-0 border-right-0 border-left-0",placeholder:s,value:i||"",onChange:function(e){return l(e.target.value)},required:r}):Object(n.jsx)(Nc.a.Control,{as:"textarea",className:"pl-3 border border-light border-top-0 border-right-0 border-left-0 bg-light text-secondary",rows:o,value:i||"",plaintext:!0,readOnly:!0})]})},Vr=function(e){var t=e.match,a=e.history,r=Object(i.b)(),s=Object(i.c)((function(e){return e.userLogin})).userInfo,l=Object(i.c)((function(e){return e.dealCreate})),o=l.loading,d=l.error,u=l.success,j=l.createId,b=Object(i.c)((function(e){return e.dealUpdate})),h=b.loading,O=b.error,p=Object(i.c)((function(e){return e.dealEdit})),m=p.success,x=p.deal,f=Object(i.c)((function(e){return e.consultantPracticeList})).practiceList,g=Object(i.c)((function(e){return e.consultantsAllLeaders})).leaderslist,v=Object(c.useState)(""),y=Object(Cc.a)(v,2),S=y[0],E=y[1],C=Object(c.useState)(""),N=Object(Cc.a)(C,2),T=N[0],_=N[1],A=Object(c.useState)(""),L=Object(Cc.a)(A,2),I=L[0],D=L[1],k=Object(c.useState)(""),w=Object(Cc.a)(k,2),U=w[0],R=w[1],P=Object(c.useState)(""),M=Object(Cc.a)(P,2),F=M[0],q=M[1],G=Object(c.useState)(""),z=Object(Cc.a)(G,2),B=z[0],X=z[1],H=Object(c.useState)(""),Q=Object(Cc.a)(H,2),K=Q[0],V=Q[1],Y=Object(c.useState)(""),J=Object(Cc.a)(Y,2),W=J[0],Z=J[1],$=Object(c.useState)(""),ee=Object(Cc.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(""),ce=Object(Cc.a)(ne,2),re=ce[0],se=ce[1],ie=Object(c.useState)(""),le=Object(Cc.a)(ie,2),oe=le[0],de=le[1],ue=Object(c.useState)([]),je=Object(Cc.a)(ue,2),be=je[0],he=je[1],Oe=Object(c.useState)(""),pe=Object(Cc.a)(Oe,2),me=pe[0],xe=pe[1],fe=Object(c.useState)(""),ge=Object(Cc.a)(fe,2),ve=ge[0],ye=ge[1],Se=Object(c.useState)(""),Ee=Object(Cc.a)(Se,2),Ce=Ee[0],Ne=Ee[1],Te=Object(c.useState)([]),_e=Object(Cc.a)(Te,2),Ae=_e[0],Le=_e[1],Ie=Object(c.useState)([]),De=Object(Cc.a)(Ie,2),ke=De[0],we=De[1],Ue=Object(c.useState)(""),Re=Object(Cc.a)(Ue,2),Pe=Re[0],Me=Re[1],Fe=Object(c.useState)(""),qe=Object(Cc.a)(Fe,2),Ge=qe[0],ze=qe[1],Be=Object(c.useState)(""),Xe=Object(Cc.a)(Be,2),He=Xe[0],Ye=Xe[1],Je=Object(c.useState)(""),We=Object(Cc.a)(Je,1)[0],Ze=Object(c.useState)(""),$e=Object(Cc.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(c.useState)([]),nt=Object(Cc.a)(at,2),ct=nt[0],rt=nt[1],st=Object(c.useState)(""),it=Object(Cc.a)(st,2),lt=it[0],ot=it[1],dt=Object(c.useState)(!1),ut=Object(Cc.a)(dt,2),jt=ut[0],bt=ut[1],ht=Object(c.useState)(""),Ot=Object(Cc.a)(ht,2),pt=Ot[0],mt=Ot[1],xt=Object(c.useState)({}),ft=Object(Cc.a)(xt,2),gt=ft[0],vt=ft[1],yt=Object(c.useState)(!t.params.id),St=Object(Cc.a)(yt,2),Et=St[0],Ct=St[1],Nt=Object(c.useState)(!1),Tt=Object(Cc.a)(Nt,2),_t=Tt[0],At=Tt[1],Lt=Object(c.useState)([]),It=Object(Cc.a)(Lt,2),Dt=It[0],kt=It[1],wt=Object(c.useState)([]),Ut=Object(Cc.a)(wt,2),Rt=Ut[0],Pt=Ut[1],Mt=Object(c.useState)(null),Ft=Object(Cc.a)(Mt,2),qt=Ft[0],Gt=Ft[1],zt=new Date(Date.now());zt.setUTCDate(1),zt.setUTCMonth(zt.getUTCMonth()),zt=zt.toISOString().substring(0,10);var Bt=new Date(Date.now());Bt.setUTCDate(1),Bt.setUTCMonth(Bt.getUTCMonth()+3-1),Bt=Bt.toISOString().substring(0,10);var Xt=Object(c.useState)(zt),Ht=Object(Cc.a)(Xt,1)[0],Qt=Object(c.useState)(Bt),Kt=Object(Cc.a)(Qt,1)[0];Object(c.useEffect)((function(){s||a.push("/login")}),[a,s]),Object(c.useEffect)((function(){f||r(pc())}),[r,f]),Object(c.useEffect)((function(){var e;t.params.id&&r((e=t.params.id,function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ba}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/deals/".concat(e),s);case 6:i=t.sent,l=i.data,a({type:Xa,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Ha,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[r,t]),Object(c.useEffect)((function(){r(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Qe}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.get("/api/consultants/leaderslist?searchLeader=".concat(e),s);case 6:i=t.sent,l=i.data,a({type:Ke,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Ve,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}())}),[r]),Object(c.useEffect)((function(){t.params.id&&m&&(E(x.title),_(x.company),D(x.client),q(x.status),R(x.type),X(x.probability),V(x.description),Z(x.proposalDate?x.proposalDate.substring(0,10):""),ae(x.presentationDate?x.presentationDate.substring(0,10):""),se(x.startDate?x.startDate.substring(0,10):""),de(x.mainPractice),he(x.othersPractices?x.othersPractices:[]),xe(x.location),ye(x.staffingRequest.instructions),Ne(x.staffingRequest.requestStatus),Le(x.staffingRequest.ressources?x.staffingRequest.ressources:[]),tt(x.staffingDecision.staffingStatus?x.staffingDecision.staffingStatus:""),tt(x.staffingDecision.instructions?x.staffingDecision.instructions:""),rt(x.staffingDecision.staff?x.staffingDecision.staff:[]),kt(x.contacts.primary?[{id:x.contacts.primary._id,value:x.contacts.primary.name}]:[""]),Pt(x.contacts.secondary?x.contacts.secondary.map((function(e){return{id:e._id,value:e.name}})):[]),we(x.comments?x.comments:[]),Me(x.duration?x.duration:""),ze(x.othersContacts?x.othersContacts:""))}),[m,x,s,t]),Object(c.useEffect)((function(){u&&(a.push("/staffing/".concat(j)),r({type:La}))}),[r,a,u,j]),Object(c.useEffect)((function(){if(t.params.id&&_t){if(!T)return Gt("Please select a company"),void Ct(!0);Gt("");var e={company:T,client:I,title:S,type:U,status:F,contacts:{primary:Dt.length?Dt[0].id:null,secondary:Rt.length?Rt.map((function(e){return e.id})):[]},probability:B,description:K,proposalDate:W,presentationDate:te,wonDate:lt,startDate:re,duration:Pe,mainPractice:oe,othersPractices:be,location:me,staffingRequest:{instructions:ve,requestStatus:Ce,ressources:Ae},staffingDecision:{instructions:We,staffingStatus:et,staff:ct.map((function(e){return{responsability:e.responsability,idConsultant:e.idConsultant._id,priority:e.priority,information:e.information}}))},comments:ke,othersContacts:Ge};r(Jc(t.params.id,e)),At(!1),Ye("")}}),[t,r,s,_t,T,U,I,S,F,B,K,W,te,lt,re,Pe,oe,be,me,ve,Ce,Ae,We,et,ct,Dt,Rt,ke,Ge]);var Vt=function(e,t,a,n){var c=Object(Rr.a)(Array,Object($c.a)(ct));ct.map((function(e){return e.idConsultant._id})).includes(e._id)&&(c=c.filter((function(t){return t.idConsultant._id!==e._id}))),c.push({idConsultant:{_id:e._id,name:e.name},responsability:t,priority:a,information:n}),rt(c),At(!0)},Yt=function(){var e=ke.slice();e.push({message:He,sender:{_id:s._id,name:s.name},date:new Date(Date.now()).toISOString()}),e.sort((function(e,t){return Date.parse(t.date)-Date.parse(e.date)})),we(e),At(!0)},Jt=function(e){var t=e.split(" ");return 1===t.length?t[0]:t.map((function(e,t){return 0===t?e[0].toUpperCase()+".":e.toUpperCase()})).join(" ")};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Kc,{}),jt&&Object(n.jsx)(Tr,{show:jt,onHide:function(){return bt(!1)},consultant:pt,loadingData:gt,mode:"staffing",addStaffHandler:Vt,history:a}),Object(n.jsx)("h1",{children:"Staffing request"}),Object(n.jsxs)(Nc.a,{onSubmit:function(e){if(e.preventDefault(),T){Gt(null);var a={company:T,client:I,title:S,contacts:{primary:Dt.length?Dt[0].id:null,secondary:Rt.length?Rt.map((function(e){return e.id})):[]},type:U,status:F,probability:B,description:K,proposalDate:W,presentationDate:te,wonDate:lt,startDate:re,duration:Pe,mainPractice:oe,othersPractices:be,location:me,staffingRequest:{instructions:ve,requestStatus:Ce,ressources:Ae},staffingDecision:{instructions:We,staffingStatus:et,staff:ct.map((function(e){return{responsability:e.responsability,idConsultant:e.idConsultant._id,priority:e.priority,information:e.information}}))},comments:ke,othersContacts:Ge};t.params.id?r(Jc(t.params.id,a)):r(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Ta}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.post("/api/deals",e,s);case 6:i=t.sent,l=i.data,a({type:_a,payload:l._id}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:Aa,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))}else Gt("Please select a company")},children:[Object(n.jsxs)(yc.a,{className:"mt-3",children:[Object(n.jsx)(Sc.a,{xs:6,md:2,children:t.params.id&&Object(n.jsx)(Tc.a,{type:"button",variant:"primary",onClick:function(){a.go(-1),r({type:wa})},block:!0,children:"Go Back"})}),Object(n.jsx)(Sc.a,{xs:0,md:8}),Object(n.jsxs)(Sc.a,{xs:6,md:2,children:[t.params.id&&h&&Object(n.jsx)(kc,{}),t.params.id&&!h&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Tc.a,{onClick:function(){Ct(!Et),Et&&At(!0)},variant:Et?"warning":"light",block:!0,children:Et?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:"Save  "}),Object(n.jsx)("i",{className:"far fa-check-circle"})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:"Edit  "}),Object(n.jsx)("i",{className:"far fa-edit"})]})}),O&&Object(n.jsx)(Ic,{variant:"danger",children:O})]})]})]}),d&&Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Ic,{variant:"danger",children:d})})}),Object(n.jsxs)(yc.a,{className:"mt-2",children:[Object(n.jsxs)(Sc.a,{xs:12,md:4,children:[Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(Hr,{label:"Title",id:"title",placeholder:"Staffing request object",value:S,onChange:E,required:!0,editRequest:Et,formInline:!1})}),Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsxs)(Nc.a.Group,{controlId:"select-company",className:"mb-0",children:[Object(n.jsx)(Nc.a.Label,{as:"h5",children:"Company *"}),Object(n.jsx)(zr,{company:{value:T,label:T},setCompany:_,editRequest:Et})]}),qt&&Object(n.jsx)(Ic,{variant:"danger",children:qt})]}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(Hr,{label:"Client contact",id:"contact-client",placeholder:"Client contact",value:I,onChange:D,required:!1,editRequest:Et,formInline:!1})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(_r,{editRequest:Et,id:"business-type",label:"Type of business",value:U,onChange:R,required:!0,options:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),an.map((function(e){return Object(n.jsx)("option",{value:e.name,children:e.name},e.name)}))]})})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(_r,{editRequest:Et,id:"deal-status",label:"Status",value:F,onChange:function(e){ot("Won"===e?new Date(Date.now()):""),q(e)},required:!0,options:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),nn.map((function(e){return Object(n.jsx)("option",{value:e.name,children:e.name},e.name)}))]})})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(_r,{editRequest:Et,id:"probability",label:"Probability (%)",value:B,onChange:X,required:!0,options:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),cn.map((function(e){return Object(n.jsxs)("option",{value:e.name,children:[e.name," %"]},e.name)}))]})})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(Hr,{label:"Location",id:"location",placeholder:"Location",value:me,onChange:xe,required:!1,editRequest:Et,formInline:!1})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(_r,{editRequest:Et,id:"main-practice",label:"Main practice",value:oe,onChange:de,required:!0,options:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),f&&f.map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))]})})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(Qr,{label:"Others Practices",id:"'others-practices'",editRequest:Et,required:!1,value:be,onChange:he,options:f&&f.map((function(e,t){return e!==oe&&Object(n.jsx)("option",{value:e,children:e},t)}))})})]}),Object(n.jsxs)(Sc.a,{xs:12,md:8,children:[Object(n.jsx)(Rc.a.Item,{children:Object(n.jsxs)(yc.a,{className:"align-items-start",children:[Object(n.jsx)(Sc.a,{xs:12,md:4,children:Object(n.jsxs)(Nc.a.Group,{controlId:"select-leader",className:"mb-0",children:[Object(n.jsx)(Nc.a.Label,{as:"h5",children:"Leader"}),Object(n.jsx)(Lr,{options:g?g.map((function(e){return{value:e._id,label:e.name}})):[],value:Dt.length?{value:Dt[0].id,label:Dt[0].value}:{},setValue:kt,multi:!1,disabled:!Et})]})}),Object(n.jsx)(Sc.a,{xs:12,md:4,children:Object(n.jsxs)(Nc.a.Group,{controlId:"others",className:"mb-0",children:[Object(n.jsx)(Nc.a.Label,{as:"h5",children:"Co-Leader(s)"}),Object(n.jsx)(Lr,{options:g?g.map((function(e){return{value:e._id,label:e.name}})):[],value:Rt?Rt.map((function(e){return{value:e.id,label:e.value}})):[],setValue:Pt,multi:!0,disabled:!Et})]})}),Object(n.jsx)(Sc.a,{xs:12,md:4,children:Object(n.jsx)(Hr,{label:"Others contacts",id:"others-contacts",placeholder:"email1@mail.com;email2@mail.com",value:Ge,onChange:ze,required:!1,editRequest:Et,formInline:!1})})]})}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(Kr,{label:"Description",id:"staffing-description",editRequest:Et,required:!0,placeholder:"Please describe the mission context",value:K,onChange:V,rows:3})}),Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsx)("h5",{children:"Sheduling"}),Object(n.jsxs)(yc.a,{className:"align-items-end",children:[Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Br,{label:"Proposal",id:"proposal-date",placeholder:"proposal date",value:W,onChange:Z,required:!0,editMode:Et})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Br,{label:"Presentation",id:"presentation-date",placeholder:"presentation date",value:te,onChange:ae,required:!0,editMode:Et})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Br,{label:"Start",id:"start-date",placeholder:"start date",value:re,onChange:se,required:!0,editMode:Et})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Xr,{label:"duration (month)",placeholder:"duration",min:0,step:.5,value:Pe,onChange:Me,required:!0,editRequest:Et})})]})]}),Object(n.jsx)(Rc.a.Item,{children:Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{xs:12,md:8,children:Object(n.jsx)(Kr,{label:"Staffing instructions",id:"staffing-instructions",editRequest:Et,required:!0,placeholder:"Please describe your staffing request",value:ve,onChange:ye,rows:3})}),Object(n.jsx)(Sc.a,{xs:12,md:4,children:Object(n.jsx)(_r,{editRequest:!0,label:"Status",id:"sr-status",value:Ce,onChange:function(e){Ne(e),At(!0)},required:!0,options:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),tn.map((function(e){var t=e.name;return Object(n.jsx)("option",{value:t,children:t},t)}))]})})})]})}),t.params.id&&Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsx)("h5",{children:"Staffing decision"}),ct&&Object($c.a)(new Set(ct.map((function(e){return e.priority})))).sort().map((function(e){return Object(n.jsx)(Rc.a.Item,{children:Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{sm:1,children:Object(n.jsx)(yc.a,{className:"my-1",children:Object(n.jsx)(Sc.a,{children:e})})}),Object(n.jsx)(Sc.a,{sm:11,children:ct.filter((function(t){return t.priority===e})).map((function(e){return Object(n.jsxs)(yc.a,{className:"my-1",children:[Object(n.jsx)(Sc.a,{sm:10,children:Object(n.jsx)(er.a,{placement:"top",trigger:"click",overlay:Object(n.jsxs)(Pr.a,{id:"popover-others-staffs",style:{maxWidth:"40%"},children:[Object(n.jsx)(Pr.a.Title,{id:"contained-modal-title-vcenter",children:"Others staffs"}),Object(n.jsx)(Pr.a.Content,{children:Object(n.jsx)(Yc,{history:a,consultantId:e.idConsultant._id,onNavigate:function(){return""},displayedDeal:t.params.id})})]}),children:Object(n.jsxs)("div",{children:[Object(n.jsx)("strong",{children:"".concat(e.responsability,": ")}),"".concat(Jt(e.idConsultant.name)),Object(n.jsx)("i",{children:" (".concat(e.information,")")})]})})}),Object(n.jsxs)(Sc.a,{sm:2,className:"px-0",children:[Object(n.jsx)(uc,{access:"editStaff",children:Object(n.jsx)(Tc.a,{onClick:function(){mt(e.idConsultant),vt({information:e.information,priority:e.priority,responsability:e.responsability}),bt(!0)},variant:"secondary",className:"text-center mx-1",size:"sm",children:Object(n.jsx)("i",{className:"fas fa-edit"})})}),Object(n.jsx)(uc,{access:"editStaff",children:Object(n.jsx)(Tc.a,{onClick:function(){return function(e){var t=Object(Rr.a)(Array,Object($c.a)(ct));t=t.filter((function(t){return t.idConsultant._id!==e})),rt(t),At(!0)}(e.idConsultant._id)},variant:"danger",className:"text-center mx-1",size:"sm",children:Object(n.jsx)("i",{className:"fas fa-times"})})})]})]},e.idConsultant._id)}))})]},e)},e)}))]}),!t.params.id&&Object(n.jsx)(yc.a,{className:"mt-3",children:Object(n.jsx)(Sc.a,{className:"text-right",children:Object(n.jsx)(Tc.a,{type:"submit",variant:"primary",children:o?Object(n.jsx)(kc,{}):"Submit staffing"})})}),x&&t.params.id&&Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(yc.a,{className:"my-1",children:Object(n.jsxs)(Sc.a,{children:[Object(n.jsx)("strong",{children:"Last update at: "}),x.updatedAt.substring(0,19).replace("T"," "),Object(n.jsxs)(yc.a,{className:"align-items-center my-3",children:[Object(n.jsx)(Sc.a,{xs:11,children:Object(n.jsx)(Nc.a.Group,{controlId:"comment",className:"mb-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Add a comment",value:He||"",onChange:function(e){return Ye(e.target.value)},onKeyUp:function(e){return"Enter"===e.key&&Yt()}})})}),Object(n.jsx)(Sc.a,{xs:1,children:Object(n.jsx)(Tc.a,{variant:"primary",onClick:function(){return Yt()},size:"sm",children:Object(n.jsx)("i",{className:"fas fa-plus"})})})]}),Object(n.jsx)(Rc.a,{className:"py-3",children:ke&&ke.map((function(e,t){return Object(n.jsxs)(Rc.a.Item,{className:"mb-0 py-2",children:[Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Nc.a.Control,{type:"text",value:e.message,readOnly:!0})})}),Object(n.jsx)("p",{style:{textAlign:"right",marginBottom:"0"},children:Object(n.jsxs)("i",{children:["By ",e.sender.name," the ",e.date.substring(0,19).replace("T"," at "),"  ",e.sender._id===s._id&&Object(n.jsx)(Tc.a,{size:"sm",variant:"ligth",className:"text-danger mx-0",onClick:function(){return function(e){var t=ke.slice();t=t.filter((function(t){return t.date!==e})),we(t),At(!0)}(e.date)},children:"--delete--"})]})})]},t)}))}),Object(n.jsx)("strong",{children:"Created at: "}),x.createdAt.substring(0,19).replace("T"," ")," ",Object(n.jsx)("br",{})]})})})]})]})]}),t.params.id&&Object(n.jsx)(Bc,{title:"Availabilities",close:!1,children:Object(n.jsx)(kr,{start:Ht,end:Kt,mode:"staffing",addStaffHandler:Vt,history:a})})]})},Yr=function(e){var t=e.history,a=Object(i.b)(),r=Object(c.useState)(10),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(1),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(""),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)([]),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)("default"),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(c.useState)(""),T=Object(Cc.a)(N,2),_=T[0],A=T[1],L=Object(c.useState)(""),I=Object(Cc.a)(L,2),D=I[0],k=I[1],w=Object(i.c)((function(e){return e.userLogin})).userInfo,U=Object(i.c)((function(e){return e.skillList})),R=U.loading,P=U.skills,M=U.pages,F=U.page,q=U.count,G=Object(i.c)((function(e){return e.skillDelete})),z=G.error,B=G.success,X=Object(i.c)((function(e){return e.skillCreate})),H=X.loading,Q=X.error,K=X.success,V=Object(i.c)((function(e){return e.consultantAllSkills})),Y=V.loading,J=V.skills;Object(c.useEffect)((function(){w&&["admin","coordinator"].includes(w.profil.profil)?a(Ir("",p,j,l)):t.push("/login")}),[a,t,w,"",p,j,l]),Object(c.useEffect)((function(){B&&a(Ir("",p,j,l))}),[a,B]),Object(c.useEffect)((function(){K&&a(Ir("",p,j,l))}),[a,K]),Object(c.useEffect)((function(){if(J){var e=J.map((function(e){return e.category}));e=Object($c.a)(new Set(e)),v(e)}else Y||a(fc())}),[a,J,Y]);var W=function(e){var t;window.confirm("Are you sure to delete skill: ".concat(e.name," ?"))&&a((t=e._id,function(){var e=Object(nc.a)(ac.a.mark((function e(a,n){var c,r,s;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:fa}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,rc.a.delete("/api/skills/".concat(t),s);case 6:a({type:ga}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:va,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Bc,{title:"Create Skills",close:!0,children:Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(yc.a,{className:"mt-3",children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Nc.a,{onSubmit:function(e){var t;e.preventDefault(),a((t={category:E,name:_,description:D},function(){var e=Object(nc.a)(ac.a.mark((function e(a,n){var c,r,s,i,l;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:Sa}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,rc.a.post("/api/skills",t,s);case 6:i=e.sent,l=i.data,a({type:Ea,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:Ca,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()))},children:[Object(n.jsxs)(Nc.a.Row,{children:[Object(n.jsx)(Sc.a,{md:3,children:Object(n.jsx)(Nc.a.Group,{controlId:"skillCategory",children:Object(n.jsxs)(Nc.a.Control,{as:"select",value:E||"default",onChange:function(e){return C(e.target.value)},required:!0,children:[Object(n.jsx)("option",{value:"default",children:"Please Select"}),g&&g.map((function(e,t){return Object(n.jsx)("option",{value:e,onChange:function(e){C(e.target.value)},children:e},t)}))]})})}),Object(n.jsx)(Sc.a,{md:3,children:Object(n.jsx)(Nc.a.Group,{controlId:"name-skill",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Skill",value:_&&_,onChange:function(e){return A(e.target.value)},disabled:"default"===E,required:!0})})}),Object(n.jsx)(Sc.a,{md:4,children:Object(n.jsx)(Nc.a.Group,{controlId:"description-skill",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Skill description",value:D&&D,onChange:function(e){return k(e.target.value)},disabled:"default"===E,required:!0})})}),Object(n.jsx)(Sc.a,{className:"text-right",children:Object(n.jsx)(Tc.a,{type:"submit",variant:"primary",block:!0,children:H?Object(n.jsx)(kc,{}):"Add"})})]}),Q&&Object(n.jsx)(Ic,{variant:"danger",children:Q})]})})})})}),Object(n.jsx)(Bc,{title:"Search Skills",close:!1,children:Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsxs)(yc.a,{className:"mt-3",children:[Object(n.jsx)(Sc.a,{xs:6,md:2,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{type:"text",className:"mb-3",placeholder:"Search skill",value:p&&p,onChange:function(e){return m(e.target.value)}})})}),Object(n.jsx)(Sc.a,{xs:6,md:8,children:Object(n.jsx)(Nc.a.Control,{plaintext:!0,readOnly:!0,value:q?"".concat(q," skills found"):"0 skills found"})}),Object(n.jsx)(Sc.a,{xs:6,md:2,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"select",id:"number-c",className:"mb-3",value:l&&l,onChange:function(e){return o(e.target.value)},children:[5,10,15,20,50].map((function(e){return Object(n.jsxs)("option",{value:e,children:[e," / page"]},e)}))})})})]}),P&&0===P.length?Object(n.jsx)(Ic,{variant:"information",children:"You have not access to these information"}):R?Object(n.jsx)(kc,{}):z?Object(n.jsx)(Ic,{variant:"danger",children:z}):Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-primary",children:[Object(n.jsx)("th",{className:"align-middle text-light",children:"Category"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Skill"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Description"}),Object(n.jsx)("th",{className:"align-middle text-light"})]})}),Object(n.jsx)("tbody",{children:P&&P.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle",children:e.category}),Object(n.jsx)("td",{className:"align-middle",children:e.name}),Object(n.jsx)("td",{className:"align-middle",children:e.description}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Tc.a,{variant:"danger",onClick:function(){return W(e)},size:"sm",children:Object(n.jsx)("i",{className:"fas fa-times"})})})]},e._id)}))})]}),Object(n.jsxs)(jr.a,{children:[Object(n.jsx)(jr.a.Prev,{onClick:function(){return b(F-1)},disabled:1===F}),Object($c.a)(Array(M).keys()).map((function(e){return[0,1,M-2,M-1].includes(e)?Object(n.jsx)(jr.a.Item,{active:e+1===F,onClick:function(){a(Ir("",p,e+1,l)),b(e+1)},children:e+1},e+1):M>4&&2===e&&Object(n.jsx)(jr.a.Ellipsis,{},e+1)})),Object(n.jsx)(jr.a.Next,{onClick:function(){return b(F+1)},disabled:F===M})]})]})})]})},Jr=a(82),Wr=function(e){var t=Object(i.b)(),a=Object(c.useState)(0),r=Object(Cc.a)(a,2),s=r[0],l=r[1],o=Object(i.c)((function(e){return e.pxxUploadFile})),d=o.loading,u=o.error,j=o.path,b=Object(i.c)((function(e){return e.updatePxx})),h=b.loading,O=b.error,p=b.message;return Object(n.jsxs)(br.a,Object(Re.a)(Object(Re.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(br.a.Header,{closeButton:!0,children:Object(n.jsx)(yc.a,{className:"align-items-center",children:Object(n.jsx)(Sc.a,{className:"text-center",children:Object(n.jsx)(br.a.Title,{id:"contained-modal-title-vcenter",children:"Import Pxx from Pxx directory"})})})}),Object(n.jsxs)(br.a.Body,{children:[Object(n.jsxs)(yc.a,{className:"mb-3",children:[Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{className:s>=0?"text-primary":"text-secondary",onClick:function(){return l(0)},variant:"ligth",disabled:s<0,children:Object(n.jsx)("strong",{children:"1-Guidelines"})})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{className:s>=1?"text-primary":"text-secondary",onClick:function(){return l(1)},variant:"ligth",disabled:s<1,children:Object(n.jsx)("strong",{children:"2-Upload in App"})})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{className:s>=2?"text-primary":"text-secondary",onClick:function(){return l(2)},variant:"ligth",disabled:s<2,children:Object(n.jsx)("strong",{children:"3-Start update"})})}),Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Tc.a,{className:s>=3?"text-primary":"text-secondary",onClick:function(){return l(3)},variant:"ligth",disabled:s<3,children:Object(n.jsx)("strong",{children:"4-Result"})})})]}),Object(n.jsx)(yc.a,{className:"align-items-center",children:Object(n.jsxs)(Sc.a,{children:[0===s&&Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{children:[Object(n.jsx)("h4",{children:"Process to upload pxx and update availabilities"}),Object(n.jsx)("p",{children:"In the next steps you will be invit to"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Select your Pxx storage directory"}),Object(n.jsx)("li",{children:"Wait untill all Pxx files are uploaded"}),Object(n.jsx)("li",{children:"Start the backend calculation to update availabilities"}),Object(n.jsx)("li",{children:"Check the results and if asked proceed to corrections"})]})]})}),1===s&&Object(n.jsx)(yc.a,{className:"align-items-center",children:Object(n.jsxs)(Sc.a,{className:"text-center",children:[Object(n.jsx)("h4",{children:"Upload your file here"}),d?Object(n.jsx)(kc,{}):Object(n.jsx)("input",{className:"my-3",type:"file",name:"file",onChange:function(e){for(var a=[],n=0;n<e.target.files.length;n++){var c=e.target.files[n];if(c.name.match(/^p[A-Za-z]+-[0-9]{2}.xlsb|^p[A-Za-z]+-arrivees.xlsb/)){var r=new FormData;r.append("file",c),a.push(r)}}t(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l,o,d,u;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a({type:F}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-Type":"application/vnd.ms-excel",Authorization:"Bearer ".concat(r.token)}},i="",l=0;case 6:if(!(l<e.length)){t.next=16;break}return o=e[l],t.next=10,rc.a.post("/api/upload/pxx",o,s);case 10:d=t.sent,u=d.data,i=u;case 13:l++,t.next=6;break;case 16:a({type:q,payload:i}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),a({type:G,payload:{message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))},webkitdirectory:"true",directory:"true",multiple:!0}),u&&Object(n.jsx)(Ic,{variant:"danger",children:u})]})}),2===s&&(j?Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{className:"text-center",children:[Object(n.jsx)("h4",{children:"Do you want to update availabilities ?"}),h?Object(n.jsx)(kc,{}):Object(n.jsx)(Tc.a,{variant:"primary",className:"m-3",onClick:function(){j&&t(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:B}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/pxx/admin/line-import-wk",e,s);case 6:i=t.sent,l=i.data,a({type:X,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:H,payload:{message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message}});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(j))},children:"Update"}),Object(n.jsx)("p",{children:"Process could take a few minute"}),O&&Object(n.jsx)(Ic,{variant:"danger",children:O})]})}):Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:"Something wrong retry step 2"})})),3===s&&Object(n.jsx)(Nc.a.Control,{as:"textarea",rows:10,value:p&&p,readOnly:!0})]})})]}),Object(n.jsxs)(br.a.Footer,{children:[3===s&&Object(n.jsx)(Tc.a,{onClick:e.onHide,children:"Close"}),s<3&&Object(n.jsx)(Tc.a,{variant:"success",onClick:function(){return s+1<=3&&l(s+1)},disabled:3===s||1===s&&!j||2===s&&!p,children:"Next"})]})]}))},Zr=ur.a.ExcelFile,$r=ur.a.ExcelFile.ExcelSheet,es=ur.a.ExcelFile.ExcelColumn,ts=function(e){var t=e.history,a=e.match,r=Object(i.b)(),s=a.params.id,l=Object(c.useState)(10),o=Object(Cc.a)(l,2),d=o[0],u=o[1],j=Object(c.useState)(1),b=Object(Cc.a)(j,2),h=b[0],O=b[1],p=Object(c.useState)(""),m=Object(Cc.a)(p,2),x=m[0],f=m[1],g=Object(c.useState)(""),v=Object(Cc.a)(g,2),y=v[0],S=v[1],E=Object(c.useState)([]),C=Object(Cc.a)(E,2),N=C[0],T=C[1],_=Object(c.useState)(0),A=Object(Cc.a)(_,2),L=A[0],I=A[1],D=Object(c.useState)(!1),k=Object(Cc.a)(D,2),w=k[0],M=k[1],F=Object(c.useState)([]),q=Object(Cc.a)(F,2),G=q[0],z=q[1],B=Object(c.useState)(0),X=Object(Cc.a)(B,2),H=X[0],Q=X[1],K=Object(c.useState)(0),V=Object(Cc.a)(K,2),Y=V[0],J=V[1],W=Object(c.useState)(0),Z=Object(Cc.a)(W,2),$=Z[0],ee=Z[1],te=Object(c.useState)(!1),ae=Object(Cc.a)(te,2),ne=ae[0],ce=ae[1],re=Object(i.c)((function(e){return e.userLogin})).userInfo,se=Object(i.c)((function(e){return e.pxxAllList})),ie=se.loading,le=se.pxxs,oe=se.pages,de=se.page,ue=se.count,je=Object(i.c)((function(e){return e.pxxImportLine})),be=je.loading,he=je.error,Oe=je.success,pe=je.updatedLine;Object(c.useEffect)((function(){re?w||r(Fc(re.consultantProfil.practice,s,x,d,h)):t.push("/login")}),[r,t,re,s,x,h,d,w]),Object(c.useEffect)((function(){if(le){var e=le.map((function(e){return{CONSULTANT:e.name.name,MATRICULE:e.name.matricule,PRACTICE:e.name.practice,CDM_MATRICULE:e.name.cdmId&&e.name.cdmId.matricule,CDM_NAME:e.name.cdmId&&e.name.cdmId.name,VALUED:e.name.valued?e.name.valued.substring(0,10):"",ARRIVAL:e.name.arrival?e.name.arrival.substring(0,10):"",LEAVING:e.name.leaving?e.name.leaving.substring(0,10):"",MONTH:e.month.name,PROD:e.prodDay,NOT_PROD:e.notProdDay,HOLIDAYS:e.leavingDay,AVAILABLE:e.availableDay}}));S(e)}}),[le,S]);var me=function(e){for(var t,a=N.slice(),n=0;n<a.length;n++)a[n].MATRICULE===e.MATRICULE&&(a[n].status="loading");T(a),r((t=e,function(){var e=Object(nc.a)(ac.a.mark((function e(a,n){var c,r,s,i,l;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:U}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,rc.a.put("/api/pxx/admin/line-import",t,s);case 6:i=e.sent,l=i.data,a({type:R,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:P,payload:{message:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()))};return Object(c.useEffect)((function(){w&&(N.length>0&&"imported"!==N[L].status?me(N[L]):L<N.length-1&&I(L+1))}),[w,L]),Object(c.useEffect)((function(){if(Oe){for(var e=N.slice(),t=0;t<e.length;t++)e[t].MATRICULE===pe.updatedMatricule&&(e[t].status="imported");T(e),w&&(L<N.length-1?I(L+1):M(!1))}}),[Oe]),Object(c.useEffect)((function(){if(he){for(var e=N.slice(),t=0;t<e.length;t++)e[t].MATRICULE===he.message.matricule&&(e[t].status="error");T(e);var a=G.slice();a.push({message:he.message.display}),z(a),w&&(L<N.length-1?I(L+1):(M(!1),I(0)))}}),[he]),Object(c.useEffect)((function(){Q(N.filter((function(e){return"imported"===e.status})).length),J(N.filter((function(e){return"error"===e.status})).length),ee(N.length)}),[N,he,Oe]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Kc,{}),Object(n.jsx)(Wr,{show:ne,onHide:function(){return ce(!1)}}),Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{className:"text-left",children:Object(n.jsx)(Tc.a,{className:"mb-3",onClick:function(){return t.go(-1)},children:"Go Back"})}),Object(n.jsx)(Sc.a,{className:"text-right",children:Object(n.jsx)(uc,{access:"updatePxxFromPxx",children:Object(n.jsx)(Tc.a,{variant:"primary",onClick:function(){return ce(!0)},children:"Update from Pxx folder"})})})]}),Object(n.jsxs)(yc.a,{className:"align-items-center pt-3",children:[Object(n.jsx)(Sc.a,{md:5,children:"".concat(H," Pxx line imported / ").concat($," - ").concat(Y," lines with error")}),Object(n.jsx)(Sc.a,{ws:6,md:2,className:"text-right",children:y&&Object(n.jsx)(Zr,{element:Object(n.jsxs)(Tc.a,{variant:"primary",children:[Object(n.jsx)("i",{className:"fas fa-download"}),"  Download"]}),children:Object(n.jsxs)($r,{data:y,name:"pxxsheet",children:[Object(n.jsx)(es,{label:"MATRICULE",value:"MATRICULE"}),Object(n.jsx)(es,{label:"(PRACTICE)",value:"PRACTICE"}),Object(n.jsx)(es,{label:"MONTH",value:"MONTH"}),Object(n.jsx)(es,{label:"PROD",value:"PROD"}),Object(n.jsx)(es,{label:"NOT_PROD",value:"NOT_PROD"}),Object(n.jsx)(es,{label:"HOLIDAYS",value:"HOLIDAYS"}),Object(n.jsx)(es,{label:"(AVAILABLE)",value:"AVAILABLE"}),Object(n.jsx)(es,{label:"(CDM_MATRICULE)",value:"CDM_MATRICULE"}),Object(n.jsx)(es,{label:"(CDM_NAME)",value:"CDM_NAME"})]})})}),Object(n.jsx)(Sc.a,{md:3,children:Object(n.jsx)(uc,{access:"uploadPxx",children:be?Object(n.jsx)(kc,{}):Object(n.jsx)(or,{setImportData:T,sheets:"1"})})}),Object(n.jsx)(Sc.a,{md:2,className:"text-right",children:Object(n.jsxs)(Tc.a,{variant:"primary",onClick:function(){return I(0),void M(!0)},disabled:!N.length>0,children:[Object(n.jsx)("i",{className:"fas fa-upload"})," ",w?Object(n.jsx)(kc,{}):"Import All Pxx"]})})]}),Object(n.jsx)(yc.a,{className:"pt-3",children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Jr.a,{children:[Object(n.jsx)(Jr.a,{animated:w,now:100*H/$,variant:"primary"}),Object(n.jsx)(Jr.a,{animated:w,now:100*Y/$,variant:"danger"})]})})}),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:G&&G.map((function(e,t){return Object(n.jsx)(Ic,{variant:"warning",children:e.message},t)}))})}),Object(n.jsxs)(yc.a,{className:"mt-3",children:[Object(n.jsx)(Sc.a,{xs:6,md:4,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{type:"text",className:"mb-3",placeholder:"Search name",value:x&&x,onChange:function(e){return f(e.target.value)}})})}),Object(n.jsx)(Sc.a,{xs:6,md:4,children:Object(n.jsx)(Nc.a.Control,{plaintext:!0,readOnly:!0,value:ue?"".concat(ue," consultants found"):"0 consultant found"})}),Object(n.jsx)(Sc.a,{xs:6,md:4,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"select",id:"number-c",className:"mb-3",value:d&&d,onChange:function(e){return u(e.target.value)},children:["All",5,10,15,20,50].map((function(e){return Object(n.jsx)("option",{value:"All"===e?1e4:e,children:"All"===e?"All (export)":"".concat(e," / page")},e)}))})})})]}),ie&&Object(n.jsx)(kc,{}),Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-primary",children:[Object(n.jsx)("th",{className:"align-middle text-light",children:"User name"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Matricule"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Practice"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"CDM"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Month"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Arrival"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Leaving"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"PROD"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"NOT PROD"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"HOLIDAYS"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"AVAILABLE"})]})}),Object(n.jsx)("tbody",{children:le&&le.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)("b",{children:e.name.name&&e.name.name})}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)("b",{children:e.name.matricule&&e.name.matricule})}),Object(n.jsx)("td",{className:"align-middle",children:e.name.practice&&e.name.practice}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)("b",{children:e.name.cdmId&&e.name.cdmId.name})}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.month.name&&e.month.name}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.name.arrival&&e.name.arrival.toString().substring(0,10)}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.name.leaving?e.name.leaving.toString().substring(0,10):"-"}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.prodDay&&e.prodDay}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.notProdDay&&e.notProdDay}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.leavingDay&&e.leavingDay}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.availableDay&&e.availableDay})]},e._id)}))})]}),Object(n.jsxs)(jr.a,{children:[Object(n.jsx)(jr.a.Prev,{onClick:function(){return O(de-1)},disabled:1===de}),Object($c.a)(Array(oe).keys()).map((function(e){return[0,1,oe-2,oe-1].includes(e)?Object(n.jsx)(jr.a.Item,{active:e+1===de,onClick:function(){r(Fc(re.consultantProfil.practice,s,x,d,e+1)),O(e+1)},children:e+1},e+1):oe>4&&2===e&&Object(n.jsx)(jr.a.Ellipsis,{},e+1)})),Object(n.jsx)(jr.a.Next,{onClick:function(){return O(de+1)},disabled:de===oe})]})]})},as=function(e){var t=e.history,a=e.data,c=void 0===a?[]:a,r=e.filter,s=Object(i.b)(),l=function(e){var t;window.confirm("Are you sure to delete deal: ".concat(e.title," ?"))&&s((t=e._id,function(){var e=Object(nc.a)(ac.a.mark((function e(a,n){var c,r,s;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:Fa}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,rc.a.delete("/api/deals/".concat(t),s);case 6:a({type:qa}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:Ga,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},o=function(e){var t=e.split(" ");return 1===t.length?t[0]:t.map((function(e,t){return 0===t?e[0].toUpperCase()+".":e.toUpperCase()})).join(" ")};return Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,className:"mt-3",children:[Object(n.jsxs)("thead",{children:[Object(n.jsxs)("tr",{className:"table-primary",children:[Object(n.jsx)("th",{className:"align-middle text-light",children:"Title"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Practice"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Contacts"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Company"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Status"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Probability"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Request"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Staff"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Start"}),Object(n.jsx)("th",{className:"align-middle text-light"}),Object(n.jsx)("th",{className:"align-middle text-light"})]}),Object(n.jsxs)("tr",{className:"table-ligth",children:[Object(n.jsx)("th",{className:"align-middle text-Dark",children:Object(n.jsx)(Nc.a.Group,{controlId:"filter-title",className:"mb-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Search title",value:r.searchTitle&&r.searchTitle,onChange:function(e){r.setSearchTitle(e.target.value)}})})}),Object(n.jsx)("th",{className:"align-middle text-Dark",children:Object(n.jsx)(Nc.a.Group,{controlId:"filter-practice",className:"mb-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Search practice",disabled:!0})})}),Object(n.jsx)("th",{className:"align-middle text-Dark",children:Object(n.jsx)(Nc.a.Group,{controlId:"filter-contact",className:"mb-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Search contact",value:r.searchContact&&r.searchContact,onChange:function(e){return r.setSearchContact(e.target.value)}})})}),Object(n.jsx)("th",{className:"align-middle text-Dark",children:Object(n.jsx)(Nc.a.Group,{controlId:"filter-company",className:"mb-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Search company",value:r.searchCompany&&r.searchCompany,onChange:function(e){return r.setSearchCompany(e.target.value)}})})}),Object(n.jsx)("th",{className:"align-middle text-Dark",children:Object(n.jsx)(Nc.a.Group,{controlId:"filter-status",className:"mb-0",children:Object(n.jsxs)(Nc.a.Control,{as:"select",value:r.searchDealStatus&&r.searchDealStatus,onChange:function(e){r.setSearchDealStatus(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),nn.map((function(e){return Object(n.jsx)("option",{value:e.name,children:e.name},e.name)}))]})})}),Object(n.jsx)("th",{className:"align-middle text-Dark",children:Object(n.jsx)(Nc.a.Group,{controlId:"filter-probability",className:"mb-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Search probability",disabled:!0})})}),Object(n.jsx)("th",{className:"align-middle text-Dark",children:Object(n.jsx)(Nc.a.Group,{controlId:"filter-request",className:"mb-0",children:Object(n.jsxs)(Nc.a.Control,{as:"select",value:r.searchRequestStatus&&r.searchRequestStatus,onChange:function(e){r.setSearchRequestStatus(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),tn.map((function(e){return Object(n.jsx)("option",{value:e.name,children:e.name},e.name)}))]})})}),Object(n.jsx)("th",{className:"align-middle text-Dark",children:Object(n.jsx)(Nc.a.Group,{controlId:"filter-staff",className:"mb-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Search staff",value:r.searchStaff&&r.searchStaff,onChange:function(e){return r.setSearchStaff(e.target.value)}})})}),Object(n.jsx)("th",{className:"align-middle text-Dark",children:Object(n.jsx)(Nc.a.Group,{controlId:"filter-start",className:"mb-0",children:Object(n.jsx)(Nc.a.Control,{type:"text",placeholder:"Search start",disabled:!0})})}),Object(n.jsx)("th",{className:"align-middle text-Dark",colSpan:2,children:Object(n.jsxs)(Tc.a,{variant:"ligth",style:{color:"grey"},onClick:function(){r.setSearchTitle(""),r.setSearchCompany(""),r.setSearchContact(""),r.setSearchDealStatus(""),r.setSearchRequestStatus(""),r.setSearchStaff("")},children:[Object(n.jsx)("i",{className:"fas fa-minus-circle"}),"  Reset"]})})]})]}),Object(n.jsx)("tbody",{children:c&&c.deals.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)(er.a,{placement:"bottom",overlay:Object(n.jsx)(tr.a,{id:"button-tooltip-2",children:e.description}),children:Object(n.jsx)("td",{className:"align-middle",children:e.title})}),Object(n.jsxs)("td",{className:"align-middle text-center",children:[e.mainPractice," ",e.othersPractices&&e.othersPractices.length?"(".concat(e.othersPractices.join(", "),")"):""]}),Object(n.jsxs)("td",{className:"align-middle text-center",children:[e.contacts.primary?o(e.contacts.primary.name):"-"," ",e.contacts&&e.contacts.secondary&&e.contacts.secondary.length?"/ ("+e.contacts.secondary.map((function(e){return o(e.name.toString())})).join(", ")+")":""]}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.company}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.status}),Object(n.jsxs)("td",{className:"align-middle text-center",children:[e.probability," %"]}),Object(n.jsx)(er.a,{placement:"bottom",overlay:Object(n.jsx)(tr.a,{id:"button-tooltip-2",children:e.staffingRequest.instructions}),children:Object(n.jsx)("td",{className:"align-middle text-center",children:e.staffingRequest.requestStatus})}),Object(n.jsx)(er.a,{placement:"bottom",overlay:Object(n.jsx)(tr.a,{id:"button-tooltip-2",children:e.staffingDecision.staff.length>0?e.staffingDecision.staff.map((function(e){return{name:o(e.idConsultant.name),responsability:e.responsability,priority:e.priority}})).map((function(e,t){return Object(n.jsx)("div",{className:"text-left",children:"".concat(e.responsability,": ").concat(e.name," (").concat(e.priority,")")},t)})):"-"}),children:Object(n.jsx)("td",{className:"align-middle",children:e.staffingDecision.staff.length>0?"See":"-"})}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.startDate.substring(0,10)}),Object(n.jsx)("td",{className:"align-middle text-center",children:Object(n.jsx)(Tc.a,{variant:"ligth",style:{color:"gray"},onClick:function(){return t.push("/staffing/".concat(e._id))},size:"md",children:Object(n.jsx)("i",{className:"fas fa-edit"})})}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Tc.a,{variant:"ligth",style:{color:"red"},onClick:function(){return l(e)},size:"md",children:Object(n.jsx)("i",{className:"fas fa-times"})})})]},e._id)}))})]})},ns=ur.a.ExcelFile,cs=ur.a.ExcelFile.ExcelSheet,rs=ur.a.ExcelFile.ExcelColumn,ss=function(e){var t=e.history,a=Object(i.b)(),r=Object(c.useState)(""),s=Object(Cc.a)(r,1)[0],l=Object(c.useState)(""),o=Object(Cc.a)(l,1)[0],d=Object(c.useState)(localStorage.getItem("ManageDealsScreen.filter")&&JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).title?JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).title:""),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(localStorage.getItem("ManageDealsScreen.filter")&&JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).company?JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).company:""),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(localStorage.getItem("ManageDealsScreen.filter")&&JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).contact?JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).contact:""),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(localStorage.getItem("ManageDealsScreen.filter")&&JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).dealStatus?JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).dealStatus:""),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(c.useState)(localStorage.getItem("ManageDealsScreen.filter")&&JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).requestStatus?JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).requestStatus:""),T=Object(Cc.a)(N,2),_=T[0],A=T[1],L=Object(c.useState)(localStorage.getItem("ManageDealsScreen.filter")&&JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).myDeals?JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).myDeals:""),I=Object(Cc.a)(L,2),D=I[0],k=I[1],w=Object(c.useState)(localStorage.getItem("ManageDealsScreen.filter")&&JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).searchStaff?JSON.parse(localStorage.getItem("ManageDealsScreen.filter")).searchStaff:""),U=Object(Cc.a)(w,2),R=U[0],P=U[1],M=Object(c.useState)(7),F=Object(Cc.a)(M,2),q=F[0],G=F[1],z=Object(c.useState)(30),B=Object(Cc.a)(z,2),X=B[0],H=B[1],Q=Object(c.useState)(7),K=Object(Cc.a)(Q,2),V=K[0],Y=K[1],J=Object(c.useState)(7),W=Object(Cc.a)(J,2),Z=W[0],$=W[1],ee=Object(c.useState)(!1),te=Object(Cc.a)(ee,2),ae=te[0],ne=te[1],ce=Object(c.useState)(["Waiting staffing","Updated (".concat(q,"d)"),"Not updated (".concat(X,"d)"),"New deal (".concat(V,"d)"),"Won (".concat(Z,"d)"),"All"]),re=Object(Cc.a)(ce,1)[0],se=Object(c.useState)(localStorage.getItem("ManageDealsScreen.defaultTab")?localStorage.getItem("ManageDealsScreen.defaultTab"):re[0]),ie=Object(Cc.a)(se,2),le=ie[0],oe=ie[1],de=Object(c.useState)([]),ue=Object(Cc.a)(de,2),je=ue[0],be=ue[1],he=Object(c.useState)(!0),Oe=Object(Cc.a)(he,2),pe=Oe[0],me=Oe[1],xe=Object(c.useState)(""),fe=Object(Cc.a)(xe,2),ge=fe[0],ve=fe[1],ye=Object(c.useState)([]),Se=Object(Cc.a)(ye,2),Ee=Se[0],Ce=Se[1],Ne=Object(i.c)((function(e){return e.userLogin})).userInfo,Te=Object(i.c)((function(e){return e.dealAllList})),_e=Te.error,Ae=Te.loading,Le=Te.deals,Ie=Object(i.c)((function(e){return e.dealDelete})),De=Ie.error,ke=Ie.success,we=Object(i.c)((function(e){return e.dealsImportMass})),Ue=we.loading,Re=we.success;return Object(c.useEffect)((function(){Ne?(a(Wc({title:j,contact:g,company:p,status:E,request:_,staff:R,filterMy:D},o,s,"active")),localStorage.setItem("ManageDealsScreen.filter",JSON.stringify({title:j,company:p,contact:g,dealStatus:E,requestStatus:_,searchStaff:R,myDeals:D})),me(!1)):t.push("/login")}),[a,t,Ne,j,p,g,E,_,R,o,s,pe,D,Re]),Object(c.useEffect)((function(){Le&&function(){var e=new Date(Date.now());e.setUTCDate(e.getUTCDate()-q);var t=new Date(Date.now());t.setUTCDate(t.getUTCDate()-X);var a=new Date(Date.now());a.setUTCDate(a.getUTCDate()-V);var n=new Date(Date.now());n.setUTCDate(n.getUTCDate()-Z);for(var c=[],r=0;r<re.length;r++){var s=[];!function(){switch(re[r]){case re[0]:var c=tn.filter((function(e){return!0===e.staff})),i=nn.filter((function(e){return"onTrack"===e.display||"win"===e.display}));s={deals:Le.filter((function(e){return c.map((function(e){return e.name})).includes(e.staffingRequest.requestStatus)&&i.map((function(e){return e.name})).includes(e.status)})),param:null,setParam:null};break;case re[1]:s={deals:Le.filter((function(t){return new Date(t.updatedAt)>=e})),param:q,setParam:G};break;case re[2]:s={deals:Le.filter((function(e){return new Date(e.updatedAt)<=t})),param:X,setParam:H};break;case re[3]:s={deals:Le.filter((function(e){return new Date(e.createdAt)>=a})),param:V,setParam:Y};break;case re[4]:s={deals:Le.filter((function(e){return new Date(e.wonDate)>=n})),param:Z,setParam:$};break;case re[5]:s={deals:Le,param:null,setParam:null};break;default:s=[]}}(),c.push({filter:re[r],data:s,count:s.deals.length})}be(c)}()}),[Le,re,V,X,q,Z]),Object(c.useEffect)((function(){if(Le){var e=Le.map((function(e){return{TITLE:e.title,COMPANY:e.company,PRACTICE:e.mainPractice,LEADER:e.contacts&&e.contacts.primary&&e.contacts.primary.name,"CO-LEADER":e.contacts&&e.contacts.secondary&&e.contacts.secondary.map((function(e){return e.name})).join(""),OTHERS_PRACTICES:e.othersPractices&&e.othersPractices.join(","),STATUS:e.status,DESCRIPTION:e.description,START:e.startDate.substring(0,10),DURATION:e.duration,REQUEST_STATUS:e.staffingRequest.requestStatus,REQUEST_DETAILS:e.staffingRequest.instructions,DECISION:e.staffingDecision.staff&&e.staffingDecision.staff.map((function(e){return"".concat(e.responsability,": ").concat(e.idConsultant.name," (").concat(e.priority,")}")})).join("\n")}}));ve(e)}}),[Le,ve]),Object(c.useEffect)((function(){var e;Ee.length>0&&a((e=Ee,function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Wa}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/deals/admin/mass-import",e,s);case 6:i=t.sent,l=i.data,a({type:Za,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:$a,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[a,Ee]),Object(c.useEffect)((function(){if(ke){var e={title:j,mainPractice:Ne.consultantProfil.practice,othersPractices:Ne.consultantProfil.practice,contact:g,company:p,status:E,request:_,staff:R,filterMy:D};a(Wc(e,o,s))}}),[a,ke]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Kc,{}),De&&Object(n.jsx)(Ic,{variant:"danger",children:De}),_e&&Object(n.jsx)(Ic,{variant:"danger",children:_e}),Ae&&Object(n.jsx)(kc,{}),Object(n.jsxs)(Bc,{title:"Manage Deals",close:!1,children:[Object(n.jsxs)(yc.a,{className:"mt-3",children:[Object(n.jsx)(Sc.a,{xs:0,md:7}),Object(n.jsx)(Sc.a,{xs:6,md:3,children:Object(n.jsx)(uc,{access:"uploadDeals",children:Ue?Object(n.jsx)(kc,{}):Object(n.jsx)(or,{setImportData:Ce})})}),Object(n.jsx)(Sc.a,{ws:6,md:2,children:ge&&Object(n.jsx)(ns,{element:Object(n.jsxs)(Tc.a,{variant:"primary",children:[Object(n.jsx)("i",{className:"fas fa-download"}),"  Download"]}),children:Object(n.jsxs)(cs,{data:ge,name:"dealsSheet",children:[Object(n.jsx)(rs,{label:"TITLE",value:"TITLE"}),Object(n.jsx)(rs,{label:"COMPANY",value:"COMPANY"}),Object(n.jsx)(rs,{label:"PRACTICE",value:"PRACTICE"}),Object(n.jsx)(rs,{label:"LEADER",value:"LEADER"}),Object(n.jsx)(rs,{label:"CO-LEADER",value:"CO-LEADER"}),Object(n.jsx)(rs,{label:"OTHERS_PRACTICES",value:"OTHERS_PRACTICES"}),Object(n.jsx)(rs,{label:"STATUS",value:"STATUS"}),Object(n.jsx)(rs,{label:"DESCRIPTION",value:"DESCRIPTION"}),Object(n.jsx)(rs,{label:"START",value:"START"}),Object(n.jsx)(rs,{label:"DURATION",value:"DURATION"}),Object(n.jsx)(rs,{label:"REQUEST_STATUS",value:"REQUEST_STATUS"}),Object(n.jsx)(rs,{label:"REQUEST_DETAILS",value:"REQUEST_DETAILS"}),Object(n.jsx)(rs,{label:"DECISION",value:"DECISION"})]})})})]}),Object(n.jsx)(Rc.a.Item,{className:"p-0 mt-3",children:Object(n.jsx)(Cr.a,{id:"uncontrolled-tab-example",variant:"pills",activeKey:le,onSelect:function(e){oe(e),localStorage.setItem("ManageDealsScreen.defaultTab",e)},children:je.length>0&&je.map((function(e,a){return Object(n.jsxs)(Nr.a,{className:"mx-3",eventKey:"".concat(e.filter),title:Object(n.jsxs)(yc.a,{className:"align-text-middle",children:[Object(n.jsx)("span",{className:"ml-3 align-middle",children:e.filter.split(/[0-9]+/i)[0]}),ae?Object(n.jsx)("span",{children:e.data.param&&Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"select",value:e.data.param,onChange:function(t){return e.data.setParam(t.target.value)},children:Object($c.a)(new Array(30).keys()).map((function(e){return Object(n.jsx)("option",{value:e+1,children:e+1},e+1)}))})})}):e.data.param,Object(n.jsx)("span",{children:e.filter.split(/[0-9]+/i)[1]&&e.filter.split(/[0-9]+/i)[1]}),Object(n.jsx)("span",{className:"mr-3",children:" > "+e.count})]}),children:[Object(n.jsx)(yc.a,{className:"mt-3",children:Object(n.jsxs)(Sc.a,{className:"text-left",children:[Object(n.jsxs)(Tc.a,{variant:"ligth",onClick:function(){return ne(!ae)},children:[Object(n.jsx)("i",{className:"fas fa-edit"}),"  Configure tabs"]}),Object(n.jsxs)(Tc.a,{variant:"ligth",onClick:function(){return t.push("/admin/deals/history")},children:[Object(n.jsx)("i",{className:"fas fa-history"}),"  History"]}),Object(n.jsx)(Tc.a,{variant:"ligth",onClick:function(){k(!D),me(!0)},children:D?Object(n.jsxs)("div",{children:[Object(n.jsx)("i",{className:"fas fa-backspace"}),"  Get all deals"]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("i",{className:"fas fa-filter"}),"  Filter my deals"]})}),Object(n.jsxs)(Tc.a,{variant:"ligth",onClick:function(){return window.confirm("Soon available")},children:[Object(n.jsx)("i",{className:"fas fa-project-diagram"}),"  Business flows"]}),Object(n.jsx)(uc,{access:"sendStaffingDecision",children:Object(n.jsxs)(Tc.a,{variant:"ligth",className:"text-black align-right",onClick:function(){return t.push("/admin/send")},children:[Object(n.jsx)("i",{className:"fas fa-envelope"}),"  Send staffing decisions"]})})]})}),Object(n.jsx)(as,{history:t,data:e.data,filter:{searchTitle:j,setSearchTitle:b,searchCompany:p,setSearchCompany:m,searchContact:g,setSearchContact:v,searchDealStatus:E,setSearchDealStatus:C,searchRequestStatus:_,setSearchRequestStatus:A,searchStaff:R,setSearchStaff:P}})]},a)}))})})]})]})},is=ur.a.ExcelFile,ls=ur.a.ExcelFile.ExcelSheet,os=ur.a.ExcelFile.ExcelColumn,ds=function(e){var t=e.history,a=Object(i.b)(),r=Object(c.useState)(""),s=Object(Cc.a)(r,1)[0],l=Object(c.useState)(""),o=Object(Cc.a)(l,1)[0],d=Object(c.useState)(localStorage.getItem("DealsHistoryScreen.filter")&&JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).title?JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).title:""),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(localStorage.getItem("DealsHistoryScreen.filter")&&JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).company?JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).company:""),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(localStorage.getItem("DealsHistoryScreen.filter")&&JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).contact?JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).contact:""),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(localStorage.getItem("DealsHistoryScreen.filter")&&JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).dealStatus?JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).dealStatus:""),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(c.useState)(localStorage.getItem("DealsHistoryScreen.filter")&&JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).requestStatus?JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).requestStatus:""),T=Object(Cc.a)(N,2),_=T[0],A=T[1],L=Object(c.useState)(localStorage.getItem("DealsHistoryScreen.filter")&&JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).searchStaff?JSON.parse(localStorage.getItem("DealsHistoryScreen.filter")).searchStaff:""),I=Object(Cc.a)(L,2),D=I[0],k=I[1],w=Object(c.useState)(Object($c.a)(new Array(5).keys()).map((function(e){return new Date(Date.now()).getFullYear()-e}))),U=Object(Cc.a)(w,1)[0],R=Object(c.useState)(localStorage.getItem("DealsHistoryScreen.defaultTab")?localStorage.getItem("DealsHistoryScreen.defaultTab"):U[0]),P=Object(Cc.a)(R,2),M=P[0],F=P[1],q=Object(c.useState)([]),G=Object(Cc.a)(q,2),z=G[0],B=G[1],X=Object(c.useState)(!0),H=Object(Cc.a)(X,2),Q=H[0],K=H[1],V=Object(i.c)((function(e){return e.userLogin})).userInfo,Y=Object(i.c)((function(e){return e.dealAllList})),J=Y.error,W=Y.loading,Z=Y.deals,$=Object(i.c)((function(e){return e.dealDelete})),ee=$.error,te=$.success;return Object(c.useEffect)((function(){if(V){var e={title:j,mainPractice:V.consultantProfil.practice,othersPractices:V.consultantProfil.practice,contact:g,company:p,status:E,request:_,staff:D,filterMy:!1};a(Wc(e,o,s,"all")),localStorage.setItem("DealsHistoryScreen.filter",JSON.stringify({title:j,company:p,contact:g,dealStatus:E,requestStatus:_,searchStaff:D})),K(!1)}else t.push("/login")}),[a,t,V,j,p,g,E,_,D,o,s,Q]),Object(c.useEffect)((function(){if(Z){for(var e=[],t=function(t){var a=Z.filter((function(e){return e.updatedAt.substring(0,4)===U[t].toString()}));a={deals:a,param:null,setParam:null,exportExcel:a.map((function(e){return{TITLE:e.title,MAIN_PRACTICE:e.mainPractice,OTHERS_PRACTICES:e.othersPractices.join(", "),LEADER:e.contacts.primary?e.contacts.primary.name+" ("+e.contacts.primary.matricule+")":"","CO-LEADERS":e.contacts.secondary?e.contacts.secondary.map((function(e){return e.name+" ("+e.matricule+")"})).join(", "):"",COMPANY:e.company,STATUS:e.status,TYPE:e.type,DESCRIPTION:e.description,"PROPOSAL DATE":e.proposalDate?e.proposalDate.substring(0,10):"","PRESENTATION DATE":e.presentationDate?e.presentationDate.substring(0,10):"","START DATE":e.startDate?e.startDate.substring(0,10):"","WON DATE":e.wonDate?e.wonDate.substring(0,10):"",STAFF:e.staffingDecision.staff?e.staffingDecision.staff.map((function(e){return e.responsability+": "+e.idConsultant.name+" ("+e.idConsultant.matricule+")"})).join(", "):""}}))},e.push({filter:U[t],data:a,count:a.deals.length})},a=0;a<U.length;a++)t(a);B(e)}}),[Z,U]),Object(c.useEffect)((function(){if(te){var e={title:j,mainPractice:V.consultantProfil.practice,othersPractices:V.consultantProfil.practice,contact:g,company:p,status:E,request:_,staff:D,filterMy:!1};a(Wc(e,o,s))}}),[a,te]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Kc,{}),ee&&Object(n.jsx)(Ic,{variant:"danger",children:ee}),J&&Object(n.jsx)(Ic,{variant:"danger",children:J}),W&&Object(n.jsx)(kc,{}),Object(n.jsx)(Bc,{title:"Manage Deals",close:!1,children:Object(n.jsx)(Rc.a.Item,{className:"p-0 mt-3",children:Object(n.jsx)(Cr.a,{id:"uncontrolled-tab-example",variant:"pills",activeKey:M,onSelect:function(e){F(e),localStorage.setItem("DealsHistoryScreen.defaultTab",e)},children:z.length>0&&z.map((function(e,a){return Object(n.jsxs)(Nr.a,{className:"mx-3",eventKey:"".concat(e.filter),title:e.filter+" ("+e.data.deals.length+")",children:[e.data.deals&&Object(n.jsx)(is,{element:Object(n.jsxs)(Tc.a,{variant:"ligth",className:"mt-3",children:[Object(n.jsx)("i",{className:"fas fa-download"}),"  Download"]}),children:Object(n.jsxs)(ls,{data:e.data.exportExcel,name:"dealsSheet",children:[Object(n.jsx)(os,{label:"TITLE",value:"TITLE"}),Object(n.jsx)(os,{label:"MAIN_PRACTICE",value:"MAIN_PRACTICE"}),Object(n.jsx)(os,{label:"OTHERS_PRACTICES",value:"OTHERS_PRACTICES"}),Object(n.jsx)(os,{label:"LEADER",value:"LEADER"}),Object(n.jsx)(os,{label:"CO-LEADERS",value:"CO-LEADERS"}),Object(n.jsx)(os,{label:"COMPANY",value:"COMPANY"}),Object(n.jsx)(os,{label:"STATUS",value:"STATUS"}),Object(n.jsx)(os,{label:"TYPE",value:"TYPE"}),Object(n.jsx)(os,{label:"DESCRIPTION",value:"DESCRIPTION"}),Object(n.jsx)(os,{label:"PROPOSAL DATE",value:"PROPOSAL DATE"}),Object(n.jsx)(os,{label:"PRESENTATION DATE",value:"PRESENTATION DATE"}),Object(n.jsx)(os,{label:"START DATE",value:"START DATE"}),Object(n.jsx)(os,{label:"WON DATE",value:"WON DATE"}),Object(n.jsx)(os,{label:"STAFF",value:"STAFF"})]})}),Object(n.jsx)(as,{history:t,data:e.data,filter:{searchTitle:j,setSearchTitle:b,searchCompany:p,setSearchCompany:m,searchContact:g,setSearchContact:v,searchDealStatus:E,setSearchDealStatus:C,searchRequestStatus:_,setSearchRequestStatus:A,searchStaff:D,setSearchStaff:k}})]},a)}))})})})]})},us=function(e){var t=e.data,a=function(e){for(var t=Object($c.a)(new Set(e.map((function(e){return e.category})))),a=[],n=function(n){var c=e.filter((function(e){return e.category===t[n]}));a.push({frontAccessRules:c,category:t[n]})},c=0;c<t.length;c++)n(c);return[a,t]}(t.frontAccess),c=Object(Cc.a)(a,2),r=c[0],s=c[1];return Object(n.jsx)(Rc.a,{children:r&&r.map((function(e,a){return Object(n.jsx)(Rc.a.Item,{className:"pt-3",children:Object(n.jsx)(js,{accessRules:e.frontAccessRules,category:e.category,categories:s,profilId:t._id})},a)}))})},js=function(e){var t=e.accessRules,a=e.category,c=e.categories,r=e.profilId,s={categories:c,modes:hn,datas:On};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{children:a&&a}),Object(n.jsx)(Rc.a,{variant:"flush",children:Object(n.jsx)(Rc.a.Item,{children:Object(n.jsxs)(yc.a,{className:"py-1 border-bottom bg-primary",children:[Object(n.jsx)(Sc.a,{className:"text-white",xs:3,children:Object(n.jsx)("strong",{children:"TECHNICAL ID"})}),Object(n.jsx)(Sc.a,{className:"text-white",xs:4,children:Object(n.jsx)("strong",{children:"LABEL"})}),Object(n.jsx)(Sc.a,{className:"text-white",xs:2,children:Object(n.jsx)("strong",{children:"MODE"})}),Object(n.jsx)(Sc.a,{className:"text-white",xs:2,children:Object(n.jsx)("strong",{children:"ACCESS"})}),Object(n.jsx)(Sc.a,{xs:1,children:Object(n.jsx)("strong",{})})]})})}),t&&t.map((function(e,t){return Object(n.jsx)(Rc.a,{variant:"flush",className:"border-bottom",children:Object(n.jsx)(Rc.a.Item,{children:Object(n.jsx)(bs,{frontAccessItem:e,params:s,profilId:r})})},t)}))]})},bs=function(e){var t=e.frontAccessItem,a=e.params,r=e.profilId,s=Object(i.b)(),l=Object(c.useState)(t.id),o=Object(Cc.a)(l,1)[0],d=Object(c.useState)(t.label),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(t.mode),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(t.data),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(!1),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(i.c)((function(e){return e.accessFrontUpdate})),T=N.error,_=N.success;Object(c.useEffect)((function(){_&&C(!1)}),[_]),Object(c.useEffect)((function(){T&&C(!1)}),[T]);return Object(n.jsx)(Nc.a,{onSubmit:function(e){e.preventDefault(),C(!0),s(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:dn}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/access",e,s);case 6:i=t.sent,l=i.data,a({type:un,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:jn,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:o,label:j,mode:p,data:g,profilId:r})),console.log("update to implement")},children:Object(n.jsxs)(Nc.a.Row,{children:[Object(n.jsx)(Sc.a,{xs:3,children:Object(n.jsx)(Nc.a.Control,{type:"text",value:o&&o,plaintext:!0,readOnly:!0})}),Object(n.jsx)(Sc.a,{xs:4,children:Object(n.jsx)(Nc.a.Control,{type:"text",value:j&&j,onChange:function(e){return b(e.target.value)}})}),Object(n.jsx)(Sc.a,{xs:2,children:Object(n.jsxs)(Nc.a.Control,{as:"select",value:p&&p,onChange:function(e){return m(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),a.modes.map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))]})}),Object(n.jsx)(Sc.a,{xs:2,children:Object(n.jsxs)(Nc.a.Control,{as:"select",value:g&&g,onChange:function(e){return v(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"--Select--"}),a.datas.map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))]})}),Object(n.jsx)(Sc.a,{xs:1,children:Object(n.jsx)(Tc.a,{variant:"ligth",className:"text-secondary",type:"submit",children:E?Object(n.jsx)(kc,{}):Object(n.jsx)("i",{className:"fas fa-download"})})})]})})},hs=function(e){var t=e.history,a=Object(i.b)(),r=Object(i.c)((function(e){return e.userLogin})).userInfo,s=Object(i.c)((function(e){return e.accessList})),l=s.loading,o=s.error,d=s.access,u=Object(i.c)((function(e){return e.accessFrontUpdate})).error;return Object(c.useEffect)((function(){r||t.push("/login")}),[t,r]),Object(c.useEffect)((function(){d||a(vr())}),[a,d]),Object(n.jsxs)(uc,{access:"manageProfils",children:[l&&Object(n.jsx)(kc,{}),o&&Object(n.jsx)(Ic,{variant:"danger",children:o}),u&&Object(n.jsx)(Ic,{variant:"danger",children:u}),Object(n.jsx)("h1",{children:"Manage user profils screen"}),Object(n.jsx)(Cr.a,{defaultActiveKey:d&&d[0].profil,id:"uncontrolled-tab-example",children:d&&d.map((function(e,t){return Object(n.jsx)(Nr.a,{eventKey:e.profil,title:e.profil,children:Object(n.jsx)(us,{data:e})},t)}))})]})},Os=function(e){var t=e.company,a=e.setShowAddContact,r=e.deleteContactHandler,s=Object(c.useState)(t.commercialTeam||[]),i=Object(Cc.a)(s,1)[0];return Object(n.jsxs)("div",{children:[i.map((function(e,a){return Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{children:["".concat(e.contactName," (").concat(e.contactEmail,")"),Object(n.jsx)(Tc.a,{variant:"ligth",className:"ml-3 px-1 text-danger",onClick:function(){return r(e.contactEmail,t._id)},children:Object(n.jsx)("i",{className:"fas fa-times"})})]})},a)})),Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{className:"text-left",children:Object(n.jsxs)(Tc.a,{className:"m-0 p-1 text-primary",variant:"ligth",onClick:function(){return a({state:!0,companyId:t._id,companyName:t.name})},children:[Object(n.jsx)("i",{className:"fas fa-plus"}),Object(n.jsx)("i",{children:"  add a contact"})]})})})]})},ps=function(e){var t=e.history,a=Object(i.b)(),r=Object(c.useState)(10),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(1),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(""),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)({state:!1,companyId:"",companyName:""}),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(""),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(c.useState)(""),T=Object(Cc.a)(N,2),_=T[0],A=T[1],L=Object(c.useState)(""),I=Object(Cc.a)(L,2),D=I[0],k=I[1],w=Object(c.useState)({state:!1,companyId:"",companyName:""}),U=Object(Cc.a)(w,2),R=U[0],P=U[1],M=Object(c.useState)(""),F=Object(Cc.a)(M,2),q=F[0],G=F[1],z=Object(c.useState)({state:!1}),B=Object(Cc.a)(z,2),X=B[0],H=B[1],Q=Object(i.c)((function(e){return e.userLogin})).userInfo,K=Object(i.c)((function(e){return e.clientAll})),V=K.error,Y=K.loading,J=K.clients,W=K.count,Z=K.page,$=K.pages,ee=Object(i.c)((function(e){return e.clientUpdate})),te=ee.error,ae=ee.success,ne=Object(i.c)((function(e){return e.clientDelete})),ce=ne.error,re=ne.success,se=Object(i.c)((function(e){return e.clientCreate})),ie=se.error,le=se.success;Object(c.useEffect)((function(){Q?a(Mr(p,j,l)):t.push("/login")}),[a,t,Q,j,l,p]),Object(c.useEffect)((function(){ae&&a(Mr(p,j,l))}),[a,ae]),Object(c.useEffect)((function(){re&&a(Mr(p,j,l))}),[a,re]),Object(c.useEffect)((function(){le&&a(Mr(p,j,l))}),[a,le]);var oe=function(e){var t;window.confirm("Are you sure to delete company: ".concat(e.name," ?"))&&a((t=e._id,function(){var e=Object(nc.a)(ac.a.mark((function e(a,n){var c,r,s,i,l;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:_n}),c=n(),r=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,rc.a.delete("/api/clients/".concat(t),s);case 6:i=e.sent,l=i.data,a({type:An,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:Ln,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()))},de=function(e,t){if(window.confirm("Are you sure to delete contact: ".concat(e," ?"))){var n=J.filter((function(e){return e._id===t}))[0];n.commercialTeam=n.commercialTeam.map((function(e){return{contactName:e.contactName,contactEmail:e.contactEmail}}));var c=n.commercialTeam.filter((function(t){return t.contactEmail!==e}));n.commercialTeam=c,a(qr(n))}};return Object(n.jsxs)(uc,{access:"manageCompanies",children:[te&&Object(n.jsx)(Ic,{variant:"danger",children:te}),ce&&Object(n.jsx)(Ic,{variant:"danger",children:ce}),ie&&Object(n.jsx)(Ic,{variant:"danger",children:ie}),Object(n.jsx)(Bc,{title:"Manage companies",close:!1,children:Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{xs:6,md:4,children:Object(n.jsxs)(Tc.a,{className:"mb-3",onClick:function(){return H({state:!0})},children:[Object(n.jsx)("i",{className:"fas fa-plus mr-2"}),"Add"]})}),Object(n.jsx)(Sc.a,{xs:6,md:2,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{type:"text",className:"mb-3",placeholder:"Search company",value:p&&p,onChange:function(e){return m(e.target.value)}})})}),Object(n.jsx)(Sc.a,{xs:6,md:4,children:Object(n.jsx)(Nc.a.Control,{plaintext:!0,readOnly:!0,value:W?"".concat(W," companies found"):"0 company found"})}),Object(n.jsx)(Sc.a,{xs:6,md:2,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{as:"select",id:"number-c",className:"mb-3",value:l&&l,onChange:function(e){return o(e.target.value)},children:[5,10,15,20,50].map((function(e){return Object(n.jsxs)("option",{value:e,children:[e," / page"]},e)}))})})})]}),J&&0===J.length?Object(n.jsx)(Ic,{variant:"information",children:"You have not access to these information"}):Y?Object(n.jsx)(kc,{}):V?Object(n.jsx)(Ic,{variant:"danger",children:V}):Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-primary",children:[Object(n.jsx)("th",{className:"align-middle text-light",children:"Company name"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Commercial contacts"})]})}),Object(n.jsx)("tbody",{children:J&&J.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{className:"align-middle",children:[Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:e.name})}),Object(n.jsx)(yc.a,{children:Object(n.jsxs)(Sc.a,{children:[Object(n.jsxs)(Tc.a,{variant:"ligth",className:"m-0 p-1 text-primary",onClick:function(){return P({state:!0,companyId:e._id,companyName:e.name})},children:[Object(n.jsx)("i",{className:"fas fa-minus"}),Object(n.jsx)("i",{children:"  modify"})]}),Object(n.jsxs)(Tc.a,{variant:"ligth",className:"m-0 p-1 btn text-danger",onClick:function(){return oe(e)},children:[Object(n.jsx)("i",{className:"fas fa-times"}),Object(n.jsx)("i",{children:"  Delete"})]})]})})]}),Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Os,{company:e,setShowAddContact:v,deleteContactHandler:de})})]},e._id)}))})]}),Object(n.jsxs)(jr.a,{children:[Object(n.jsx)(jr.a.Prev,{onClick:function(){return b(Z-1)},disabled:1===Z}),Object($c.a)(Array($).keys()).map((function(e){return[0,1,$-2,$-1].includes(e)?Object(n.jsx)(jr.a.Item,{active:e+1===Z,onClick:function(){a(Mr(p,e+1,l)),b(e+1)},children:e+1},e+1):$>4&&2===e&&Object(n.jsx)(jr.a.Ellipsis,{},e+1)})),Object(n.jsx)(jr.a.Next,{onClick:function(){return b(Z+1)},disabled:Z===$})]})]})}),Object(n.jsxs)(br.a,{show:g.state,onHide:function(){return v({state:!1,companyId:"",companyName:""})},children:[Object(n.jsx)(br.a.Header,{closeButton:!0,children:Object(n.jsx)(br.a.Title,{children:"New contact for: ".concat(g.companyName)})}),Object(n.jsxs)(br.a.Body,{children:[Object(n.jsxs)(Nc.a,{children:[Object(n.jsxs)(Nc.a.Group,{children:[Object(n.jsx)(Nc.a.Label,{children:"Name *"}),Object(n.jsx)(Nc.a.Control,{type:"text",value:E&&E,onChange:function(e){return C(e.target.value)}})]}),Object(n.jsxs)(Nc.a.Group,{children:[Object(n.jsx)(Nc.a.Label,{children:"Email *"}),Object(n.jsx)(Nc.a.Control,{type:"email",value:_&&_,onChange:function(e){return A(e.target.value)}})]}),Object(n.jsx)(Tc.a,{type:"submit",variant:"primary",onClick:function(e){return function(e,t,n,c){e.preventDefault();var r=!1,s=!1,i=[];if(t?r=!0:i.push("Thanks to enter a correct Name"),/^(([^<>()[]\.,;:s@]+(.[^<>()[]\.,;:s@]+)*)|(.+))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$/.test(n)?s=!0:i.push("Thanks to enter a correct Email address"),k(i),s&&r){var l=J.filter((function(e){return e._id===c}))[0];l.commercialTeam=l.commercialTeam.map((function(e){return{contactName:e.contactName,contactEmail:e.contactEmail}})),l.commercialTeam.push({contactName:t,contactEmail:n}),a(qr(l)),v({state:!1,companyId:"",companyName:""}),k("")}}(e,E,_,g.companyId)},disabled:!_||!E,children:"Create"})]}),D&&Object(n.jsx)(Ic,{variant:"danger",children:D})]}),Object(n.jsx)(br.a.Footer,{children:Object(n.jsx)(Tc.a,{variant:"secondary",onClick:function(){return v({state:!1,companyId:"",companyName:""})},children:"Close"})})]}),Object(n.jsxs)(br.a,{show:R.state,onHide:function(){return P({state:!1,companyId:"",companyName:""})},children:[Object(n.jsx)(br.a.Header,{closeButton:!0,children:Object(n.jsx)(br.a.Title,{children:"Original name: ".concat(R.companyName)})}),Object(n.jsx)(br.a.Body,{children:Object(n.jsxs)(Nc.a,{children:[Object(n.jsxs)(Nc.a.Group,{children:[Object(n.jsx)(Nc.a.Label,{children:"New company name *"}),Object(n.jsx)(Nc.a.Control,{type:"text",value:q||R.companyName,onChange:function(e){return G(e.target.value)}})]}),Object(n.jsx)(Tc.a,{type:"submit",variant:"primary",onClick:function(e){return function(e,t,n){e.preventDefault();var c=J.filter((function(e){return e._id===t}))[0];c.name=n,a(qr(c)),P({state:!1,companyId:"",companyName:""})}(e,R.companyId,q)},disabled:!(q&&q!==R.companyName),children:"Modify"})]})}),Object(n.jsx)(br.a.Footer,{children:Object(n.jsx)(Tc.a,{variant:"secondary",onClick:function(){P({state:!1,companyId:"",companyName:""}),G("")},children:"Close"})})]}),Object(n.jsxs)(br.a,{show:X.state,onHide:function(){return H({state:!1})},children:[Object(n.jsx)(br.a.Header,{closeButton:!0,children:Object(n.jsx)(br.a.Title,{children:"Create a company:"})}),Object(n.jsx)(br.a.Body,{children:Object(n.jsxs)(Nc.a,{children:[Object(n.jsxs)(Nc.a.Group,{children:[Object(n.jsx)(Nc.a.Label,{children:"New company name *"}),Object(n.jsx)(Nc.a.Control,{type:"text",value:q||R.companyName,onChange:function(e){return G(e.target.value)}})]}),Object(n.jsxs)(Nc.a.Group,{children:[Object(n.jsx)(Nc.a.Label,{children:"First contact name"}),Object(n.jsx)(Nc.a.Control,{type:"text",value:E||"",placeholder:"Contact name",onChange:function(e){return C(e.target.value)}})]}),Object(n.jsxs)(Nc.a.Group,{children:[Object(n.jsx)(Nc.a.Label,{children:"First contact email"}),Object(n.jsx)(Nc.a.Control,{type:"email",value:_||"",placeholder:"Contact email",onChange:function(e){return A(e.target.value)}})]}),Object(n.jsx)(Tc.a,{type:"submit",variant:"primary",onClick:function(e){return function(e,t,n,c){e.preventDefault(),a(Fr([{name:t,commercialTeam:[{contactName:n,contactEmail:c}]}])),H({state:!1}),A(""),C(""),G("")}(e,q,E,_)},disabled:!q,children:"Create"})]})}),Object(n.jsx)(br.a.Footer,{children:Object(n.jsx)(Tc.a,{variant:"secondary",onClick:function(){P({state:!1,companyId:"",companyName:""}),G("")},children:"Close"})})]})]})},ms=function(e){var t=e.history,a=Object(i.b)(),r=Object(c.useState)([]),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(0),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(0),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(0),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)(!1),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(c.useState)(0),T=Object(Cc.a)(N,2),_=T[0],A=T[1],L=Object(i.c)((function(e){return e.contactsList})),I=L.loading,D=L.contacts,k=Object(i.c)((function(e){return e.sendOneEmail})),w=k.success,U=k.error,R=k.email,P=function(e,t){for(var n=l.slice(),c=0;c<n.length;c++)n[c].email===e&&(n[c].status="loading");o(n),a(function(e,t){return function(){var a=Object(nc.a)(ac.a.mark((function a(n,c){var r,s,i,l,o;return ac.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:qn}),r=c(),s=r.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(s.token)}},a.next=6,rc.a.get("/api/emails/decision?email=".concat(e,"&name=").concat(t),i);case 6:l=a.sent,o=l.data,n({type:Gn,payload:o}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:zn,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(e,t))};return Object(c.useEffect)((function(){a(function(){var e=Object(nc.a)(ac.a.mark((function e(t,a){var n,c,r,s,i;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Rn}),n=a(),c=n.userLogin.userInfo,r={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,rc.a.get("/api/emails/contacts",r);case 6:s=e.sent,i=s.data,t({type:Pn,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Mn,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())}),[a]),Object(c.useEffect)((function(){D&&(o(D.map((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{status:"not sent"})}))),v(D.length))}),[D]),Object(c.useEffect)((function(){E&&("send"!==l[_].status?P(l[_].email,l[_].name):_<l.length-1&&A(_+1))}),[E,_]),Object(c.useEffect)((function(){if(w){for(var e=R,t=l.slice(),a=0;a<t.length;a++)t[a].email===e&&(t[a].status="send");o(t),E&&(_<l.length-1?A(_+1):C(!1))}}),[w]),Object(c.useEffect)((function(){if(U){for(var e=U,t=l.slice(),a=0;a<t.length;a++)t[a].email===e&&(t[a].status="error");o(t),E&&(_<l.length-1?A(_+1):(C(!1),A(0)))}}),[U]),Object(c.useEffect)((function(){b(l.filter((function(e){return"send"===e.status})).length),m(l.filter((function(e){return"error"===e.status})).length),v(l.length)}),[l,U,w]),Object(n.jsxs)("div",{children:[Object(n.jsx)(Kc,{}),I&&Object(n.jsx)(kc,{}),Object(n.jsx)(Tc.a,{variant:"primary",onClick:function(){return t.go(-1)},children:"Go Back"}),Object(n.jsxs)(yc.a,{className:"align-items-center pt-3",children:[Object(n.jsx)(Sc.a,{children:"".concat(j," messages send / ").concat(g," - ").concat(p," messages with error")}),Object(n.jsx)(Sc.a,{className:"text-right",children:Object(n.jsxs)(Tc.a,{variant:"ligth",className:"text-primary",onClick:function(){return a({type:Bn}),A(0),void C(!0)},children:[Object(n.jsx)("i",{className:"fas fa-envelope"})," ",E?Object(n.jsx)(kc,{}):"Send all messages"]})})]}),Object(n.jsx)(yc.a,{className:"pt-3",children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(Jr.a,{children:[Object(n.jsx)(Jr.a,{animated:E,now:100*j/g,variant:"primary"}),Object(n.jsx)(Jr.a,{animated:E,now:100*p/g,variant:"danger"})]})})}),Object(n.jsx)(yc.a,{className:"pt-3",children:Object(n.jsx)(Sc.a,{children:Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,className:"mt-3",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-primary",children:[Object(n.jsx)("th",{className:"align-middle text-light text-center col-md-5",children:"Name"}),Object(n.jsx)("th",{className:"align-middle text-light text-center col-md-5",children:"Email"}),Object(n.jsx)("th",{className:"align-middle text-light text-center col-md-2",children:"status"})]})}),Object(n.jsx)("tbody",{children:l&&l.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle text-center",children:e.name?e.name:"Unknown"}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.email}),Object(n.jsx)("td",{className:"align-middle text-center",children:Object(n.jsxs)(Tc.a,{variant:"ligth",className:"error"===e.status?"text-danger":"send"===e.status?"text-success":"text-primary",size:"sm",onClick:function(){return P(e.email,e.name)},disabled:"send"===e.status||!0===E,children:[Object(n.jsx)("i",{className:"fas fa-envelope"}),"not sent"===e.status&&"  send","loading"===e.status&&Object(n.jsx)(kc,{}),"error"===e.status&&"  Error send again","send"===e.status&&"  sent"]})})]},t)}))})]})})})]})},xs=function(e){var t=e.history,a=Object(c.useState)(""),r=Object(Cc.a)(a,2),s=r[0],l=r[1],o=Object(c.useState)(""),d=Object(Cc.a)(o,2),u=d[0],j=d[1],b=Object(c.useState)(""),h=Object(Cc.a)(b,2),O=h[0],p=h[1],m=Object(c.useState)(""),x=Object(Cc.a)(m,2),f=x[0],g=x[1],v=Object(c.useState)(null),y=Object(Cc.a)(v,2),S=y[0],E=y[1],C=Object(c.useState)(null),N=Object(Cc.a)(C,2),T=N[0],_=N[1],A=Object(c.useState)(null),L=Object(Cc.a)(A,2),I=L[0],D=L[1],k=Object(i.b)(),w=Object(i.c)((function(e){return e.userDetails})),U=w.loading,R=w.error,P=w.user,M=Object(i.c)((function(e){return e.userLogin})).userInfo,F=Object(i.c)((function(e){return e.userUpdateProfil})),q=F.success,G=F.error,z=Object(i.c)((function(e){return e.dealAllList})).deals,B=Object(i.c)((function(e){return e.consultantCDMList})).cdmList,X=Object(i.c)((function(e){return e.consultantDelegateUpdate})).loading;Object(c.useEffect)((function(){M?P&&P.name?(l(P.name),j(P.email)):k(lc(M._id)):t.push("/login")}),[k,t,M,P]),Object(c.useEffect)((function(){q&&_({type:"success",message:"Profile updated"})}),[q]),Object(c.useEffect)((function(){G&&_({type:"danger",message:"Profile not updated"})}),[G]),Object(c.useEffect)((function(){if(M){k(Wc({title:"",contact:"",company:"",status:"",request:"",staff:"",filterMy:!0},1,1e3,"active"))}}),[k,M]),Object(c.useEffect)((function(){P&&D(P.consultantProfil.cdmDelegation.map((function(e){return{id:e.cdmId,value:e.name}})))}),[P]),Object(c.useEffect)((function(){B||k(Oc(M.consultantProfil.practice))}),[k,B,M]);return Object(n.jsxs)(yc.a,{children:[Object(n.jsxs)(Sc.a,{md:3,children:[Object(n.jsx)("h2",{children:"User Profil"}),S&&Object(n.jsx)(Ic,{variant:"danger",children:S}),R&&Object(n.jsx)(Ic,{variant:"danger",children:R}),T&&T.type&&Object(n.jsx)(Ic,{variant:T.type,children:T.message}),U&&Object(n.jsx)(kc,{}),Object(n.jsxs)(Nc.a,{onSubmit:function(e){if(!1!==e.currentTarget.checkValidity()){e.preventDefault(),E(null),_(null);var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"),a=new RegExp("([a-zA-Z0-9!@#$%^&*]){1,}"),n=["demo","poc"].includes("demo")?t:a;return O&&f?O.match(n)?O&&O===f?void k(function(e){return function(){var t=Object(nc.a)(ac.a.mark((function t(a,n){var c,r,s,i,l;return ac.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ue}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(r.token)}},t.next=6,rc.a.put("/api/users/profile",e,s);case 6:i=t.sent,l=i.data,a({type:je,payload:l}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:be,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:P._id,name:s,password:O})):void E("Passwords do not match"):void E("Please enter strong password: \n\n                    - must be eight characters or longer \n\n                    - must contain at least 1 lowercase alphabetical character \n\n                    - must contain at least 1 uppercase alphabetical character \n\n                    - must contain at least 1 numeric character \n\n                    - must contain at least one special character (!@#$%^&*)"):void E("Please enter a password")}E("Please check your information")},children:[Object(n.jsxs)(Nc.a.Group,{controlId:"name",children:[Object(n.jsx)(Nc.a.Label,{children:"Name"}),Object(n.jsx)(Nc.a.Control,{type:"name",placeholder:"Enter Name",value:s,onChange:function(e){return l(e.target.value)}})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"email",children:[Object(n.jsx)(Nc.a.Label,{children:"Email Adress"}),Object(n.jsx)(Nc.a.Control,{type:"email",placeholder:"Enter Email",value:u,onChange:function(e){return j(e.target.value)}})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"password",children:[Object(n.jsx)(Nc.a.Label,{children:"Password"}),Object(n.jsx)(Nc.a.Control,{type:"password",placeholder:"Enter password",value:O,onChange:function(e){return p(e.target.value)}})]}),Object(n.jsxs)(Nc.a.Group,{controlId:"confirm-password",children:[Object(n.jsx)(Nc.a.Label,{children:"Confirm Password"}),Object(n.jsx)(Nc.a.Control,{type:"password",placeholder:"Confirm password",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(n.jsx)(Tc.a,{type:"submit",className:"my-3",variant:"primary",block:!0,children:"Update Password"}),M&&M.consultantProfil.isCDM&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{children:"Delegate "}),Object(n.jsx)(Lr,{options:B?B.map((function(e){return{value:e._id,label:e.name}})):[],value:I?I.map((function(e){return{value:e.id,label:e.value}})):[],setValue:D,multi:!0}),Object(n.jsx)(Tc.a,{onClick:function(){var e=I.map((function(e){return{cdmId:e.id,name:e.value}}));k(function(e,t){return function(){var a=Object(nc.a)(ac.a.mark((function a(n,c){var r,s,i;return ac.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:et}),r=c(),s=r.userLogin.userInfo,i={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(s.token)}},a.next=6,rc.a.put("/api/consultants/delegate/".concat(e),t,i);case 6:if(a.sent.data){a.next=10;break}throw new Error("Error: your modification is not saved");case 10:n({type:tt}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),n({type:at,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,t){return a.apply(this,arguments)}}()}(P.consultantProfil._id,e))},className:"my-3",variant:"primary",block:!0,children:X?Object(n.jsx)(kc,{}):"Update Delegations"})]})]})]}),Object(n.jsx)(Sc.a,{md:9,children:Object(n.jsxs)(uc,{access:"viewProfilDetails",children:[Object(n.jsx)("h2",{children:"Follow my Requests"}),Object(n.jsxs)(_c.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm mt-3",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-light",children:[Object(n.jsx)("th",{className:"align-middle text-center",children:"Title"}),Object(n.jsx)("th",{className:"align-middle text-center",children:"Client"}),Object(n.jsx)("th",{className:"align-middle text-center",children:"Contacts"}),Object(n.jsx)("th",{className:"align-middle text-center",children:"Practice"}),Object(n.jsx)("th",{className:"align-middle text-center",children:"Step"}),Object(n.jsx)("th",{className:"align-middle text-center",children:"Request status"}),Object(n.jsx)("th",{className:"align-middle text-center",children:"Starting date"}),Object(n.jsx)("th",{className:"align-middle text-center",children:"Staffing"}),Object(n.jsx)("th",{className:"align-middle text-center",children:"Details"})]})}),Object(n.jsx)("tbody",{children:z&&z.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle text-center",children:e.title}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.company}),Object(n.jsx)("td",{className:"align-middle text-center",children:"".concat(e.contacts&&e.contacts.primary&&e.contacts.primary.name," \n(").concat(e.contacts&&e.contacts.secondary&&e.contacts.secondary.map((function(e){return e.name})).join(", "),")")}),Object(n.jsx)("td",{className:"align-middle text-center",children:"".concat(e.mainPractice," \n(").concat(e.othersPractices&&e.othersPractices.join(", "),")")}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.status}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.staffingRequest&&e.staffingRequest.requestStatus}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.startDate.substring(0,10)}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.staffingDecision&&e.staffingDecision.staff&&e.staffingDecision.staff.map((function(e){return"".concat(e.idConsultant.name," - ").concat(e.responsability," - ").concat(e.priority)})).join(",\n")}),Object(n.jsx)("td",{className:"align-middle text-center",children:Object(n.jsx)(Tc.a,{variant:"ligth",style:{color:"gray"},onClick:function(){return t.push("/staffing/".concat(e._id))},size:"md",children:Object(n.jsx)("i",{className:"fas fa-edit"})})})]},e._id)}))})]})]})})]})},fs=function(e){var t=e.history,a=e.children,r=Object(i.b)(),s=Object(c.useState)(!0),l=Object(Cc.a)(s,2),o=l[0],d=l[1],u=Object(i.c)((function(e){return e.userLogin})).userInfo;return Object(c.useEffect)((function(){u||(t.push("/login"),d(!1))}),[u,t]),Object(c.useEffect)((function(){u&&u.lastConnexion&&a&&d(!0)}),[u,r,a]),Object(c.useEffect)((function(){u&&!u.lastConnexion&&(d(!1),r(ic()),t.push("/login"))}),[u,r,t]),Object(c.useEffect)((function(){if(u&&"LOCAL"===u.accountType){var e=(new Date(Date.now())-new Date(u.lastConnexion))/864e5;e>.7&&e<1&&(d(!1),r(function(e,t){return function(){var a=Object(nc.a)(ac.a.mark((function a(n){var c,r,s,i,l;return ac.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:K}),c="LOCAL",r={headers:{"Content-type":"Application/json",Authorization:"Bearer ".concat(t.token)}},a.next=6,rc.a.post("/api/users/renewToken",e,r);case 6:s=a.sent,i=s.data,l=Object(Re.a)(Object(Re.a)({},i),{},{accountType:c}),n({type:V,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),n({type:Y,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}({email:u.email,delay:e},u)))}}),[r,u]),Object(c.useEffect)((function(){u&&"LOCAL"===u.accountType&&((new Date(Date.now())-new Date(u.lastConnexion))/864e5>=1&&(d(!1),r(ic()),t.push("/login")))}),[r,u,t]),Object(n.jsx)("span",{children:o&&u&&a&&a})},gs=a(44),vs=Object(gs.a)(),ys=function(e){var t=e.pageSize,a=e.setPageSize;return Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Pc.a,{children:Object(n.jsxs)(Vc.a,{as:"select",id:"number-c",className:"mb-3",value:t&&t,onChange:function(e){return a(e.target.value)},children:[Object(n.jsx)("option",{value:"all",children:"All data"}),[5,10,15,20,50].map((function(e){return Object(n.jsxs)("option",{value:e,children:[e," / page"]},e)}))]})})})},Ss=function(e){var t=e.userInfo,a=e.keyword,c=e.page,r=e.pages,s=e.pageSize,l=e.setPageNumber,o=e.action,d=Object(i.b)();return Object(n.jsxs)(jr.a,{children:[Object(n.jsx)(jr.a.Prev,{onClick:function(){return l(c-1)},disabled:1===c}),Object($c.a)(Array(r).keys()).map((function(e){return[0,1,r-2,r-1].includes(e)?Object(n.jsx)(jr.a.Item,{active:e+1===c,onClick:function(){d(o({practice:t.consultantProfil.practice,keyword:a,pageNumber:e+1,pageSize:s})),l(e+1)},children:e+1},e+1):r>4&&2===e&&Object(n.jsx)(jr.a.Ellipsis,{},e+1)})),Object(n.jsx)(jr.a.Next,{onClick:function(){return l(c+1)},disabled:c===r})]})},Es=function(e){var t=e.consultant,a=e.allCheck,r=e.setStatus,s=e.sendProcess,i=Object(c.useState)(a),l=Object(Cc.a)(i,2),o=l[0],d=l[1];Object(c.useEffect)((function(){d(a)}),[a]);return Object(n.jsx)(Nc.a.Check,{type:"checkbox",checked:o,onChange:function(){return r(t,!o),void d(!o)},disabled:s})},Cs=function(e){var t=e.history,a=Object(i.b)(),r=Object(c.useState)(10),s=Object(Cc.a)(r,2),l=s[0],o=s[1],d=Object(c.useState)(1),u=Object(Cc.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)({consultantName:"",cdmName:""}),O=Object(Cc.a)(h,2),p=O[0],m=O[1],x=Object(c.useState)(!1),f=Object(Cc.a)(x,2),g=f[0],v=f[1],y=Object(c.useState)([]),S=Object(Cc.a)(y,2),E=S[0],C=S[1],N=Object(c.useState)(!1),T=Object(Cc.a)(N,2),_=T[0],A=T[1],L=Object(c.useState)(0),I=Object(Cc.a)(L,2),D=I[0],k=I[1],w=Object(c.useState)(!0),U=Object(Cc.a)(w,2),R=U[0],P=U[1],M=Object(c.useState)(!1),F=Object(Cc.a)(M,2),q=F[0],G=F[1],z=Object(i.c)((function(e){return e.userLogin})).userInfo,B=Object(i.c)((function(e){return e.userToCreate})),X=B.usersListToCreate,H=B.pages,Q=B.page,K=B.count,V=B.loading,Y=B.error,J=Object(i.c)((function(e){return e.userCreate})),W=J.loading,Z=J.error,$=J.success,ee=J.consultantId;Object(c.useEffect)((function(){a(dc({practice:z.consultantProfil.practice,keyword:p,pageNumber:j,pageSize:l}))}),[a,p,z.consultantProfil.practice,j,l]),Object(c.useEffect)((function(){if(X){var e=X.map((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{send:g?"checked":"no"})}));C(e)}}),[X]);var te=function(e){switch(e){case"no":case"ckecked":return"checked";case"yes":return"yes";case"error":return"checked";default:return"no"}},ae=function(e){switch(e){case"no":case"ckecked":return"no";case"yes":return"yes";case"error":default:return"no"}},ne=function(e,t){var a;if(!0===t){var n=(a=E.slice()).filter((function(t){return t._id===e._id}))[0].send,c=te(n);a.filter((function(t){return t._id===e._id}))[0].send=c,C(a)}if(!1===t){var r=(a=E.slice()).filter((function(t){return t._id===e._id}))[0].send,s=ae(r);a.filter((function(t){return t._id===e._id}))[0].send=s,C(a)}};Object(c.useEffect)((function(){var e;e=g?E.map((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{send:te(e.send)})})):E.map((function(e){return Object(Re.a)(Object(Re.a)({},e),{},{send:ae(e.send)})})),C(e)}),[g]),Object(c.useEffect)((function(){if(_&&!R)if(D<E.length){var e=E[D];"checked"===e.send?a((t=e,function(){var e=Object(nc.a)(ac.a.mark((function e(a,n){var c,r,s,i,l;return ac.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:Ie}),c=n(),r=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,rc.a.post("/api/users/create-from-ihm",t,s);case 6:i=e.sent,l=i.data,a({type:De,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:ke,payload:e.t0.response.data});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())):G(!0),P(!0)}else A(!1),k(0),P(!0);var t}),[a,_,D,R]),Object(c.useEffect)((function(){if($&&R&&_){var e=E.slice();e.filter((function(e){return e._id===ee}))[0].send="yes",C(e),k(D+1),P(!1)}if(Z&&R&&_){var t=E.slice();t.filter((function(e){return e._id===ee}))[0].send="error",C(t),k(D+1),P(!1)}}),[$,Z,R]),Object(c.useEffect)((function(){q&&R&&(k(D+1),P(!1),G(!1))}),[q,R]);var ce=function(e){return E.map((function(e){return e._id})).includes(e._id)?"no"===E.filter((function(t){return t._id===e._id}))[0].send?Object(n.jsxs)("div",{className:"text-secondary",children:[Object(n.jsx)("i",{className:"fas fa-circle text-secondary"}),"  not created"]}):"checked"===E.filter((function(t){return t._id===e._id}))[0].send?Object(n.jsxs)("div",{className:"text-warning",children:[Object(n.jsx)("i",{className:"fas fa-circle text-warning"}),"  to create"]}):"yes"===E.filter((function(t){return t._id===e._id}))[0].send?Object(n.jsxs)("div",{className:"text-success",children:[Object(n.jsx)("i",{className:"fas fa-circle text-success"}),"  created"]}):"error"===E.filter((function(t){return t._id===e._id}))[0].send?Object(n.jsxs)("div",{className:"text-danger",children:[Object(n.jsx)("i",{className:"fas fa-circle text-danger"}),"  error"]}):void 0:Object(n.jsxs)("div",{className:"text-secondary",children:[Object(n.jsx)("i",{className:"fas fa-circle text-secondary"}),"  undefined"]})};return Object(n.jsxs)("div",{children:[Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{className:"text-left",children:Object(n.jsx)(Tc.a,{className:"mb-3",onClick:function(){return t.go(-1)},children:"Go Back"})})}),Object(n.jsx)(Bc,{title:"Not created users",close:!1,children:Object(n.jsxs)(Rc.a.Item,{children:[Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{xs:6,md:3,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{type:"text",className:"mb-3",placeholder:"consultant name",value:p&&p.consultantName,onChange:function(e){return m(Object(Re.a)(Object(Re.a)({},p),{},{consultantName:e.target.value}))}})})}),Object(n.jsx)(Sc.a,{xs:6,md:3,children:Object(n.jsx)(Pc.a,{children:Object(n.jsx)(Vc.a,{type:"text",className:"mb-3",placeholder:"cdm name",value:p&&p.cdmName,onChange:function(e){return m(Object(Re.a)(Object(Re.a)({},p),{},{cdmName:e.target.value}))}})})}),Object(n.jsx)(Sc.a,{xs:6,md:3,children:Object(n.jsx)(Nc.a.Control,{plaintext:!0,readOnly:!0,value:K?"".concat(K," consultants found"):"0 consultant found"})}),Object(n.jsx)(Sc.a,{xs:6,md:3,children:Object(n.jsx)(ys,{pageSize:l,setPageSize:o})})]}),Y&&Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(Ic,{variant:"danger",children:Y})})}),V?Object(n.jsx)(yc.a,{children:Object(n.jsx)(Sc.a,{children:Object(n.jsx)(kc,{})})}):Object(n.jsxs)(_c.a,{responsive:!0,hover:!0,striped:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"table-primary",children:[Object(n.jsx)("th",{className:"align-middle text-light",children:Object(n.jsx)(Nc.a.Check,{type:"checkbox",checked:g,onChange:function(){return v(!g)},disabled:_})}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Consultant name"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Matricule"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Practice"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"CDM"}),Object(n.jsx)("th",{className:"align-middle text-light",children:"Email"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Arrival"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Leaving"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"is CDM?"}),Object(n.jsx)("th",{className:"align-middle text-light text-center",children:"Status"})]})}),Object(n.jsx)("tbody",{children:X&&X.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"align-middle",children:Object(n.jsx)(Es,{consultant:e,allCheck:g,setStatus:ne,sendProcess:_})}),Object(n.jsx)("td",{className:"align-middle",children:e.name}),Object(n.jsx)("td",{className:"align-middle",children:e.matricule}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.practice}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.cdmId.name?e.cdmId.name:"unknown"}),Object(n.jsx)("td",{className:"align-middle",children:e.email}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.arrival&&e.arrival.substring(0,10)}),Object(n.jsx)("td",{className:"align-middle text-center",children:e.leaving&&e.leaving.substring(0,10)}),Object(n.jsx)("td",{className:"align-middle text-center ".concat(e.isCDM?"text-success":"text-warning"),children:e.isCDM?"Yes":"No"}),Object(n.jsx)("td",{className:"align-middle text-center",children:e._id===ee&&_?Object(n.jsx)(kc,{}):ce(e)})]},t)}))})]}),Object(n.jsxs)(yc.a,{children:[Object(n.jsx)(Sc.a,{xs:8,children:Object(n.jsx)(Ss,{userInfo:z&&z,keyword:p,page:Q,pages:H,pageSize:l,setPageNumber:b,action:dc})}),Object(n.jsx)(Sc.a,{xs:4,className:"text-right",children:W?Object(n.jsx)(kc,{}):Object(n.jsxs)(Tc.a,{onClick:function(){return a({type:we}),k(0),A(!0),void P(!1)},children:[Object(n.jsx)("i",{className:"far fa-user-circle"}),"  Create account"]})})]})]})})]})},Ns=function(){return Object(n.jsxs)(Vn.BrowserRouter,{history:vs,children:[Object(n.jsx)(vc,{}),Object(n.jsx)("main",{className:"py-3",children:Object(n.jsxs)(Jn.a,{children:[Object(n.jsx)(Yn.d,{path:"/login",component:Uc,exact:!0}),Object(n.jsx)(Yn.d,{path:"/register",component:Sr,exact:!0}),Object(n.jsxs)(fs,{history:vs,children:[Object(n.jsx)(Yn.d,{path:"/profile",component:xs,exact:!0}),Object(n.jsx)(Yn.d,{path:"/staffing",component:Vr,exact:!0}),Object(n.jsx)(Yn.d,{path:"/staffing/:id",component:Vr,exact:!0}),Object(n.jsx)(Yn.d,{path:"/pxx",component:sr,exact:!0}),Object(n.jsx)(Yn.d,{path:"/pxx/:id",component:sr,exact:!0}),Object(n.jsx)(Yn.d,{path:"/pxxdetails/:id",component:ts,exact:!0}),Object(n.jsx)(Yn.d,{path:"/editconsultant/:id",component:ir,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/consultants",component:fr,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/consultants/:keyword/page/:pageNumber",component:Ur,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/users",component:gr,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/add-users",component:Cs,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/edituser/:id",component:yr,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/consultant/add",component:ir,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/skills",component:Yr,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/deals",component:ss,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/deals/history",component:ds,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/profils",component:hs,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/companies",component:ps,exact:!0}),Object(n.jsx)(Yn.d,{path:"/admin/send",component:ms,exact:!0}),Object(n.jsx)(Yn.d,{path:"/",component:Ur,exact:!0})]})]})}),Object(n.jsx)(Ec,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(i.a,{store:Kn,children:Object(n.jsx)(Ns,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[431,1,2]]]);
//# sourceMappingURL=main.0b70cff2.chunk.js.map